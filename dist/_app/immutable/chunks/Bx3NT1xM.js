import{w as f,g as A}from"./CoWhumSw.js";import{s as m,S as g}from"./CdFNQi_e.js";const i=typeof window<"u",s={LIGHT:"light",DARK:"dark",TRANSPARENT:"transparent"},c=f(s.LIGHT),N={init:()=>{if(i){const e=localStorage.getItem("theme");e&&Object.values(s).includes(e)?(c.set(e),document.documentElement.setAttribute("data-theme",e)):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(c.set(s.DARK),document.documentElement.setAttribute("data-theme",s.DARK)):document.documentElement.setAttribute("data-theme",s.LIGHT)}},toggle:()=>{c.update(e=>{const t=Object.values(s),o=(t.indexOf(e)+1)%t.length,n=t[o];return i&&(localStorage.setItem("theme",n),document.documentElement.setAttribute("data-theme",n)),n})},set:e=>{Object.values(s).includes(e)&&(c.set(e),i&&(localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)))},init:()=>{if(i){const e=getInitialTheme();document.documentElement.setAttribute("data-theme",e),c.set(e),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r=>{if(!localStorage.getItem("theme")){const o=r.matches?s.DARK:s.LIGHT;N.set(o)}})}}},d=typeof window<"u",a={TRANSPARENT:"transparent",MOUNTAIN:"mountain",NATURE:"nature",MINIMAL:"minimal",DARK:"dark",LIGHT:"light",GRADIENT:"gradient",FOREST:"forest",OCEAN:"ocean",SUNSET:"sunset",DAWN:"dawn",NIGHT:"night",DESERT:"desert",SNOW:"snow",AUTUMN:"autumn"},u=f(a.NATURE),T={init:()=>{if(d){const e=m.getItem(g.BACKGROUND,!1);e&&Object.values(a).includes(e)&&u.set(e)}},toggle:()=>{u.update(e=>{const t=Object.values(a),o=(t.indexOf(e)+1)%t.length,n=t[o];return d&&(m.setItem(g.BACKGROUND,n,!1),b(n)),n})},set:e=>{Object.values(a).includes(e)&&(u.set(e),d&&(m.setItem(g.BACKGROUND,e,!1),b(e)))},init:()=>{if(d){const e=getInitialBackground();u.set(e),b(e)}}};function b(e){if(!d)return;const t=document.querySelector(".nature-background")||document.querySelector(".mountain-background")||document.querySelector(".minimal-background");if(t)switch(t.classList.remove("bg-transparent","mountain-background","nature-background","minimal-background","dark-background","light-background","gradient-background"),e){case a.TRANSPARENT:t.style.backgroundImage="none",t.style.background="transparent";break;case a.MOUNTAIN:t.classList.add("mountain-background");break;case a.NATURE:t.classList.add("nature-background");break;case a.MINIMAL:t.classList.add("minimal-background");break;case a.DARK:t.classList.add("dark-background");break;case a.LIGHT:t.classList.add("light-background");break;case a.GRADIENT:t.classList.add("gradient-background");break;case a.FOREST:t.classList.add("forest-background");break;case a.OCEAN:t.classList.add("ocean-background");break;case a.SUNSET:t.classList.add("sunset-background");break;case a.DAWN:t.classList.add("dawn-background");break;case a.NIGHT:t.classList.add("night-background");break;case a.DESERT:t.classList.add("desert-background");break;case a.SNOW:t.classList.add("snow-background");break;case a.AUTUMN:t.classList.add("autumn-background");break}}const k={name:"",familyName:"Family",role:"",location:"",isSetupComplete:!1},l=f(k),I={updateProfile:e=>{{const r={...A(l),...e};l.set(r),localStorage.setItem("userProfile",JSON.stringify(r))}},loadProfile:()=>{{const e=localStorage.getItem("userProfile");if(e)try{const t=JSON.parse(e);l.set(t)}catch(t){console.warn("Failed to load user profile from localStorage:",t)}}},init:()=>{I.loadProfile()},resetProfile:()=>{l.set(k),localStorage.removeItem("userProfile")}};export{a as B,s as T,I as a,T as b,c,u as d,N as t,l as u};
