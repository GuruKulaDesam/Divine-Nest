var l=Object.defineProperty;var g=(a,e,t)=>e in a?l(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var c=(a,e,t)=>g(a,typeof e!="symbol"?e+"":e,t);import{C as y}from"./BrpUgTDZ.js";const n=class n{constructor(){c(this,"encryptionKey");this.encryptionKey="divine-nest-secure-key-2024"}static getInstance(){return n.instance||(n.instance=new n),n.instance}encrypt(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^this.encryptionKey.charCodeAt(r%this.encryptionKey.length));return btoa(t)}decrypt(e){try{const t=atob(e);let r="";for(let o=0;o<t.length;o++)r+=String.fromCharCode(t.charCodeAt(o)^this.encryptionKey.charCodeAt(o%this.encryptionKey.length));return r}catch(t){return console.error("Decryption failed:",t),""}}setItem(e,t,r=!1){try{const o=typeof t=="string"?t:JSON.stringify(t),i=r?this.encrypt(o):o;y.isNativePlatform()&&console.warn(`Storing sensitive data on mobile without encryption. Consider using SecureStorage plugin for key: ${e}`),localStorage.setItem(e,i)}catch(o){console.error(`Failed to store item ${e}:`,o)}}getItem(e,t=!1){try{const r=localStorage.getItem(e);if(!r)return null;const o=t?this.decrypt(r):r;try{return JSON.parse(o)}catch{return o}}catch(r){return console.error(`Failed to retrieve item ${e}:`,r),null}}removeItem(e){try{localStorage.removeItem(e)}catch(t){console.error(`Failed to remove item ${e}:`,t)}}clear(){try{localStorage.clear()}catch(e){console.error("Failed to clear storage:",e)}}isAvailable(){try{const e="__storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch{return!1}}};c(n,"instance");let s=n;const m={LANGUAGE:"language",THEME:"theme",BACKGROUND:"background",NOTIFICATION_PREFERENCES:"notificationPreferences",AUTH_USER:"auth_user",AMBIENT_LOGS:"ambientLogs",LAYOUT_PREFERENCE:"layout_preference"},u=s.getInstance();export{m as S,u as s};
