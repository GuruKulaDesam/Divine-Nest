import{a0 as F,E as R,bd as j,be as z,R as q,u as L,bf as M,bg as S,a8 as N,T as K,a9 as b,bh as O}from"./6uIj5N_2.js";import{D as G}from"./yea2m-CP.js";const I=()=>performance.now(),y={tick:t=>requestAnimationFrame(t),now:()=>I(),tasks:new Set};function B(){const t=y.now();y.tasks.forEach(a=>{a.c(t)||(y.tasks.delete(a),a.f())}),y.tasks.size!==0&&y.tick(B)}function W(t){let a;return y.tasks.size===0&&y.tick(B),{promise:new Promise(e=>{y.tasks.add(a={c:t,f:e})}),abort(){y.tasks.delete(a)}}}function $(t,a){S(()=>{t.dispatchEvent(new CustomEvent(a))})}function U(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function E(t){const a={},e=t.split(";");for(const r of e){const[i,n]=r.split(":");if(!i||n===void 0)break;const m=U(i.trim());a[m]=n.trim()}return a}const V=t=>t;function st(t,a,e,r){var i=(t&M)!==0,n="in",m,w=a.inert,h=a.style.overflow,s,l;function v(){return S(()=>m??(m=e()(a,(r==null?void 0:r())??{},{direction:n})))}var g={is_global:i,in(){a.inert=w,s==null||s.abort(),$(a,"introstart"),s=T(a,v(),l,1,()=>{$(a,"introend"),s==null||s.abort(),s=m=void 0,a.style.overflow=h})},out(f){{f==null||f(),m=void 0;return}},stop:()=>{s==null||s.abort()}},p=F;if((p.transitions??(p.transitions=[])).push(g),O){var c=i;if(!c){for(var u=p.parent;u&&(u.f&R)!==0;)for(;(u=u.parent)&&(u.f&j)===0;);c=!u||(u.f&z)!==0}c&&q(()=>{L(()=>g.in())})}}function T(t,a,e,r,i){if(N(a)){var n,m=!1;return K(()=>{if(!m){var u=a({direction:"in"});n=T(t,u,e,r,i)}}),{abort:()=>{m=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(!(a!=null&&a.duration))return i(),{abort:b,deactivate:b,reset:b,t:()=>r};const{delay:w=0,css:h,tick:s,easing:l=V}=a;var v=[];if(s&&s(0,1),h){var g=E(h(0,1));v.push(g,g)}var p=()=>1-r,c=t.animate(v,{duration:w,fill:"forwards"});return c.onfinish=()=>{c.cancel();var u=1-r,f=r-u,d=a.duration*Math.abs(f),D=[];if(d>0){var _=!1;if(h)for(var C=Math.ceil(d/16.666666666666668),P=0;P<=C;P+=1){var x=u+f*l(P/C),A=E(h(x,1-x));D.push(A),_||(_=A.overflow==="hidden")}_&&(t.style.overflow="hidden"),p=()=>{var k=c.currentTime;return u+f*l(k/d)},s&&W(()=>{if(c.playState!=="running")return!1;var k=p();return s(k,1-k),!0})}c=t.animate(D,{duration:d,fill:"forwards"}),c.onfinish=()=>{p=()=>r,s==null||s(r,1-r),i()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=b)},deactivate:()=>{i=b},reset:()=>{},t:()=>p()}}const Q=t=>t;function H(t){const a=t-1;return a*a*a+1}function nt(t,{delay:a=0,duration:e=400,easing:r=Q}={}){const i=+getComputedStyle(t).opacity;return{delay:a,duration:e,easing:r,css:n=>`opacity: ${n*i}`}}function it(t,{delay:a=0,duration:e=400,easing:r=H,axis:i="y"}={}){const n=getComputedStyle(t),m=+n.opacity,w=i==="y"?"height":"width",h=parseFloat(n[w]),s=i==="y"?["top","bottom"]:["left","right"],l=s.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),v=parseFloat(n[`padding${l[0]}`]),g=parseFloat(n[`padding${l[1]}`]),p=parseFloat(n[`margin${l[0]}`]),c=parseFloat(n[`margin${l[1]}`]),u=parseFloat(n[`border${l[0]}Width`]),f=parseFloat(n[`border${l[1]}Width`]);return{delay:a,duration:e,easing:r,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*m};${w}: ${d*h}px;padding-${s[0]}: ${d*v}px;padding-${s[1]}: ${d*g}px;margin-${s[0]}: ${d*p}px;margin-${s[1]}: ${d*c}px;border-${s[0]}-width: ${d*u}px;border-${s[1]}-width: ${d*f}px;min-${w}: 0`}}class J extends G{constructor(){super("EducationDB"),this.version(1).stores({studyPlans:"id, subject, dueDate, completed",books:"id, title, author, category, ownedBy, status, progress",exams:"id, subject, date, syllabus",readingSessions:"id, bookId, userId, startTime, endTime, pagesRead"})}}const o=new J;async function ot(){try{if(await o.studyPlans.count()>0)return;const a=[{id:"math-quarterly",subject:"Mathematics",chapters:["Algebra","Geometry","Trigonometry","Statistics"],dueDate:new Date("2025-12-15"),completedChapters:["Algebra"],createdAt:new Date,updatedAt:new Date},{id:"science-midterm",subject:"Science",chapters:["Physics","Chemistry","Biology","Environmental Science"],dueDate:new Date("2025-11-30"),completedChapters:["Physics","Chemistry"],createdAt:new Date,updatedAt:new Date}],e=[{id:"ponniyin-selvan-1",title:"Ponniyin Selvan: I",author:"Kalki Krishnamurthy",category:"historical",ownedBy:"appa",status:"reading",progress:65,totalPages:600,currentPage:390,rating:5,notes:"Epic historical novel about Chola dynasty",addedAt:new Date("2025-01-15"),lastReadAt:new Date("2025-10-01")},{id:"ramayana-tamil",title:"Ramayana",author:"Valmiki (Tamil Translation)",category:"spiritual",ownedBy:"paati",status:"available",progress:100,totalPages:450,currentPage:450,rating:5,notes:"Sacred text for spiritual guidance",addedAt:new Date("2025-02-01"),lastReadAt:new Date("2025-09-15")},{id:"tamil-comics-1",title:"Tamil Comic Adventures",author:"Various",category:"comics",ownedBy:"children",status:"available",progress:0,totalPages:50,currentPage:0,addedAt:new Date("2025-03-01")},{id:"quantum-physics",title:"Introduction to Quantum Physics",author:"Dr. Rajesh Kumar",category:"academic",ownedBy:"amma",status:"reading",progress:30,totalPages:300,currentPage:90,addedAt:new Date("2025-08-01"),lastReadAt:new Date("2025-09-20")}],r=[{id:"quarterly-math",subject:"Mathematics",date:new Date("2025-12-15"),syllabus:["Algebra","Geometry","Trigonometry","Statistics"],prepChecklist:["Complete practice problems","Review formulas","Take mock test","Clear doubts"],completedPrep:["Complete practice problems","Review formulas"]},{id:"half-yearly-science",subject:"Science",date:new Date("2025-11-30"),syllabus:["Physics","Chemistry","Biology","Environmental Science"],prepChecklist:["Lab experiments","Diagram practice","Formula memorization","Concept maps"],completedPrep:["Lab experiments"]}];await o.studyPlans.bulkAdd(a),await o.books.bulkAdd(e),await o.exams.bulkAdd(r),console.log("Education data initialized successfully")}catch(t){console.error("Error initializing education data:",t)}}async function X(){return await o.studyPlans.toArray()}async function ct(t){const a=`plan-${Date.now()}`,e={...t,id:a,createdAt:new Date,updatedAt:new Date};return await o.studyPlans.add(e),e}async function Y(t,a){await o.studyPlans.update(t,{...a,updatedAt:new Date})}async function dt(t){await o.studyPlans.delete(t)}async function ut(t,a){const e=await o.studyPlans.get(t);e&&!e.completedChapters.includes(a)&&(e.completedChapters.push(a),await Y(t,{completedChapters:e.completedChapters}))}async function Z(){return await o.books.toArray()}async function lt(t){const a=`book-${Date.now()}`,e={...t,id:a,addedAt:new Date};return await o.books.add(e),e}async function pt(t,a){await o.books.update(t,{...a,lastReadAt:new Date})}async function mt(t){await o.books.delete(t)}async function tt(){return await o.exams.toArray()}async function ft(t){const a=`exam-${Date.now()}`,e={...t,id:a};return await o.exams.add(e),e}async function at(t,a){await o.exams.update(t,a)}async function yt(t){await o.exams.delete(t)}async function ht(t,a){const e=await o.exams.get(t);e&&!e.completedPrep.includes(a)&&(e.completedPrep.push(a),await at(t,{completedPrep:e.completedPrep}))}async function wt(){const t=await Z(),a=await X(),e=await tt();return{totalBooks:t.length,booksReading:t.filter(r=>r.status==="reading").length,booksCompleted:t.filter(r=>r.status==="completed").length,studyPlans:a.length,completedChapters:a.reduce((r,i)=>r+i.completedChapters.length,0),totalChapters:a.reduce((r,i)=>r+i.chapters.length,0),upcomingExams:e.filter(r=>r.date>new Date).length,avgBookRating:t.filter(r=>r.rating).reduce((r,i)=>r+(i.rating||0),0)/t.filter(r=>r.rating).length||0}}export{lt as a,wt as b,X as c,mt as d,tt as e,nt as f,Z as g,dt as h,ot as i,Y as j,ct as k,yt as l,ut as m,at as n,ht as o,ft as p,it as s,st as t,pt as u};
