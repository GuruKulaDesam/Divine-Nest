import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as de}from"../chunks/Dl7RRJWM.js";import{p as ve,l as ja,d as pe,e as S,h as _e,f as be,t as p,i as t,j as ta,g as a,a as y,b as ge,m as w,$ as ue,k as s,s as v,n as sa,r as e,o as M,u as g,q as u,x as ra,y as _}from"../chunks/6uIj5N_2.js";import{i as R}from"../chunks/Dvp2nKH1.js";import{e as qa,i as Ba}from"../chunks/D27cKp0K.js";import{b as j,r as q}from"../chunks/CuqaNdSY.js";import{b as x}from"../chunks/DgriDnSR.js";import{p as me}from"../chunks/Bfc47y5P.js";import{i as xe}from"../chunks/CRscWiiN.js";import{I as G}from"../chunks/BHUeFzQU.js";import{s as ua}from"../chunks/BesrdQ_8.js";import"../chunks/DvEbSVyS.js";var he=S("<option> </option>"),fe=S("<option> </option>"),ye=S('<p class="text-sm"><strong>Ingredients:</strong> </p>'),we=S('<p class="text-sm"><strong>Audience:</strong> </p>'),Se=S('<p class="text-sm"><strong>Health:</strong> </p>'),Fe=S('<p class="text-sm"><strong>Cost/Serving:</strong> </p>'),ke=S('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex justify-between items-start"><div class="flex-1"><h3 class="card-title text-lg"> </h3> <div class="flex flex-wrap gap-2 mt-2"><span class="badge badge-primary"> </span> <span class="badge badge-secondary"> </span> <span class="badge badge-outline"> </span></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-32"><li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="mt-4 space-y-2"><!> <!> <!> <!></div> <div class="card-actions justify-end mt-4"><div class="flex gap-1"><span class="badge badge-ghost text-xs"> </span> <span class="badge badge-ghost text-xs"> </span></div></div></div></div>'),Ie=S('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No foods found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),Ce=S('<div class="modal modal-open"><div class="modal-box max-w-2xl"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Breakfast</option><option>Lunch</option><option>Dinner</option><option>Snacks</option><option>Drinks</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>South Indian</option><option>North Indian</option><option>Chinese</option><option>European</option><option>American</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Sub Category *</span></label> <input type="text" placeholder="e.g., Idli, Dosa, Sambar..." class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Ingredients</span></label> <textarea placeholder="List main ingredients..." class="textarea textarea-bordered" rows="3"></textarea></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Schedule</span></label> <select class="select select-bordered"><option>Weekly</option><option>Daily</option><option>Monthly</option><option>Annually</option><option>Festivally</option><option>Ad-Hoc</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Audience</span></label> <input type="text" placeholder="e.g., Family, Kids, Adults..." class="input input-bordered"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Health Factor</span></label> <input type="text" placeholder="e.g., High protein, Low carb..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Time Factor</span></label> <input type="text" placeholder="e.g., Quick, Time-consuming..." class="input input-bordered"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Cost per Serving (₹)</span></label> <input type="number" step="0.01" placeholder="0.00" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Serving Definition</span></label> <input type="text" placeholder="e.g., 1 plate, 2 pieces..." class="input input-bordered"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Aroma Factor</span></label> <select class="select select-bordered"><option>Earthy</option><option>Floral</option><option>Spicy</option><option>Sweet</option><option>Neutral</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Taste Factor</span></label> <select class="select select-bordered"><option>Spicy</option><option>Sweet</option><option>Sour</option><option>Salty</option><option>Bitter</option><option>Umami</option></select></div></div> <div class="space-y-4"><h4 class="font-semibold">Preparation Stages</h4> <div class="form-control"><label class="label"><span class="label-text">Preparation Stage</span></label> <textarea placeholder="Initial preparation steps..." class="textarea textarea-bordered" rows="2"></textarea></div> <div class="form-control"><label class="label"><span class="label-text">Mixing Stage</span></label> <textarea placeholder="Mixing and combining steps..." class="textarea textarea-bordered" rows="2"></textarea></div> <div class="form-control"><label class="label"><span class="label-text">Boiling/Cooking Stage</span></label> <textarea placeholder="Cooking/heating steps..." class="textarea textarea-bordered" rows="2"></textarea></div> <div class="form-control"><label class="label"><span class="label-text">Ready Stage</span></label> <textarea placeholder="Final preparation and serving..." class="textarea textarea-bordered" rows="2"></textarea></div></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),Ae=S('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> Foods Management</h1> <p class="text-base-content/70 mt-1">Manage traditional South Indian food items and recipes</p></div> <button class="btn btn-primary"><!> Add Food Item</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search foods..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!></div></div> <!>',1);function Pe(Ja,Va){ve(Va,!1);const la=w(),ma=w(),xa=w();let F=w([]),J=w(!1),h=w(null),k=w(""),I=w(""),C=w(""),r=w({type:"Breakfast",category:"South Indian",sub_category:"",ingredients:"",preparation_stage:"",mixing_stage:"",boiling_stage:"",ready_stage:"",schedule:"Weekly",audience:"",health_factor:"",time_factor:"",cost_per_serving:"",serving_definition:"",aroma_factor:"Neutral",taste_factor:"Spicy"});de(async()=>{await ha()});async function ha(){try{v(F,await ua.getFoods())}catch(o){console.error("Error loading foods:",o)}}function fa(){v(r,{type:"Breakfast",category:"South Indian",sub_category:"",ingredients:"",preparation_stage:"",mixing_stage:"",boiling_stage:"",ready_stage:"",schedule:"Weekly",audience:"",health_factor:"",time_factor:"",cost_per_serving:"",serving_definition:"",aroma_factor:"Neutral",taste_factor:"Spicy"})}async function Xa(){try{const o={...a(r),id:a(h)?a(h).id:crypto.randomUUID(),created_at:a(h)?a(h).created_at:new Date().toISOString(),cost_per_serving:a(r).cost_per_serving?parseFloat(a(r).cost_per_serving):null};a(h)?await ua.updateFood(o):await ua.saveFood(o),await ha(),v(J,!1),v(h,null),fa()}catch(o){console.error("Error saving food:",o)}}function Ya(o){v(h,o),v(r,{...o}),v(J,!0)}async function Za(o){if(confirm(`Delete "${o.sub_category}"?`))try{await ua.deleteFood(o.id),await ha()}catch(l){console.error("Error deleting food:",l)}}function ae(){v(J,!1),v(h,null),fa()}ja(()=>(a(F),a(k),a(I),a(C)),()=>{v(la,a(F).filter(o=>{const l=!a(k)||o.sub_category.toLowerCase().includes(a(k).toLowerCase())||o.ingredients.toLowerCase().includes(a(k).toLowerCase()),n=!a(I)||o.category===a(I),b=!a(C)||o.type===a(C);return l&&n&&b}))}),ja(()=>a(F),()=>{v(ma,[...new Set(a(F).map(o=>o.category))])}),ja(()=>a(F),()=>{v(xa,[...new Set(a(F).map(o=>o.type))])}),pe(),xe();var Ha=Ae();_e(o=>{ue.title="Foods - Divine-Nest"});var ya=be(Ha),Ua=t(ya),wa=t(Ua),Sa=t(wa),Wa=t(Sa),ee=t(Wa);G(ee,{icon:"heroicons:fire",class:"w-8 h-8"}),sa(),e(Wa),sa(2),e(Sa);var Fa=s(Sa,2),te=t(Fa);G(te,{icon:"heroicons:plus",class:"w-5 h-5"}),sa(),e(Fa),e(wa);var ka=s(wa,2),Pa=t(ka),Ia=t(Pa),za=s(t(Ia),2);q(za),e(Ia);var Ca=s(Ia,2),Aa=s(t(Ca),2);p(()=>{a(I),M(()=>{a(ma)})});var Da=t(Aa);Da.value=Da.__value="";var se=s(Da);qa(se,1,()=>a(ma),Ba,(o,l)=>{var n=he(),b=t(n,!0);e(n);var m={};p(()=>{u(b,a(l)),m!==(m=a(l))&&(n.value=(n.__value=a(l))??"")}),y(o,n)}),e(Aa),e(Ca);var Ka=s(Ca,2),Ta=s(t(Ka),2);p(()=>{a(C),M(()=>{a(xa)})});var $a=t(Ta);$a.value=$a.__value="";var re=s($a);qa(re,1,()=>a(xa),Ba,(o,l)=>{var n=fe(),b=t(n,!0);e(n);var m={};p(()=>{u(b,a(l)),m!==(m=a(l))&&(n.value=(n.__value=a(l))??"")}),y(o,n)}),e(Ta),e(Ka),e(Pa),e(ka);var Ea=s(ka,2);qa(Ea,5,()=>a(la),Ba,(o,l)=>{var n=ke(),b=t(n),m=t(b),A=t(m),D=t(A),V=t(D,!0);e(D);var oa=s(D,2),B=t(oa),La=t(B,!0);e(B);var T=s(B,2),ia=t(T,!0);e(T);var H=s(T,2),na=t(H,!0);e(H),e(oa),e(A);var U=s(A,2),$=t(U),Na=t($);G(Na,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),e($);var X=s($,2),W=t(X),E=t(W),Y=t(E);G(Y,{icon:"heroicons:pencil",class:"w-4 h-4"}),sa(),e(E),e(W);var Z=s(W,2),P=t(Z),ca=t(P);G(ca,{icon:"heroicons:trash",class:"w-4 h-4"}),sa(),e(P),e(Z),e(X),e(U),e(m);var L=s(m,2),z=t(L);{var da=c=>{var d=ye(),f=s(t(d));e(d),p(()=>u(f,` ${a(l),g(()=>a(l).ingredients)??""}`)),y(c,d)};R(z,c=>{a(l),g(()=>a(l).ingredients)&&c(da)})}var aa=s(z,2);{var va=c=>{var d=we(),f=s(t(d));e(d),p(()=>u(f,` ${a(l),g(()=>a(l).audience)??""}`)),y(c,d)};R(aa,c=>{a(l),g(()=>a(l).audience)&&c(va)})}var K=s(aa,2);{var ea=c=>{var d=Se(),f=s(t(d));e(d),p(()=>u(f,` ${a(l),g(()=>a(l).health_factor)??""}`)),y(c,d)};R(K,c=>{a(l),g(()=>a(l).health_factor)&&c(ea)})}var Ma=s(K,2);{var pa=c=>{var d=Fe(),f=s(t(d));e(d),p(()=>u(f,` ₹${a(l),g(()=>a(l).cost_per_serving)??""}`)),y(c,d)};R(Ma,c=>{a(l),g(()=>a(l).cost_per_serving)&&c(pa)})}e(L);var _a=s(L,2),O=t(_a),N=t(O),ba=t(N,!0);e(N);var Q=s(N,2),ga=t(Q,!0);e(Q),e(O),e(_a),e(b),e(n),p(()=>{u(V,(a(l),g(()=>a(l).sub_category))),u(La,(a(l),g(()=>a(l).type))),u(ia,(a(l),g(()=>a(l).category))),u(na,(a(l),g(()=>a(l).schedule))),u(ba,(a(l),g(()=>a(l).aroma_factor))),u(ga,(a(l),g(()=>a(l).taste_factor)))}),ta("click",E,()=>Ya(a(l))),ta("click",P,()=>Za(a(l))),y(o,n)}),e(Ea);var le=s(Ea,2);{var oe=o=>{var l=Ie(),n=t(l);G(n,{icon:"heroicons:fire",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var b=s(n,4),m=t(b,!0);e(b),e(l),p(()=>u(m,a(k)||a(I)||a(C)?"Try adjusting your filters":"Add your first food item to get started")),y(o,l)};R(le,o=>{a(la),g(()=>a(la).length===0)&&o(oe)})}e(Ua),e(ya);var ie=s(ya,2);{var ne=o=>{var l=Ce(),n=t(l),b=t(n),m=t(b,!0);e(b);var A=s(b,2),D=t(A),V=t(D),oa=s(t(V),2);p(()=>{a(r),M(()=>{})}),e(V);var B=s(V,2),La=s(t(B),2);p(()=>{a(r),M(()=>{})}),e(B),e(D);var T=s(D,2),ia=s(t(T),2);q(ia),e(T);var H=s(T,2),na=s(t(H),2);ra(na),e(H);var U=s(H,2),$=t(U),Na=s(t($),2);p(()=>{a(r),M(()=>{})}),e($);var X=s($,2),W=s(t(X),2);q(W),e(X),e(U);var E=s(U,2),Y=t(E),Z=s(t(Y),2);q(Z),e(Y);var P=s(Y,2),ca=s(t(P),2);q(ca),e(P),e(E);var L=s(E,2),z=t(L),da=s(t(z),2);q(da),e(z);var aa=s(z,2),va=s(t(aa),2);q(va),e(aa),e(L);var K=s(L,2),ea=t(K),Ma=s(t(ea),2);p(()=>{a(r),M(()=>{})}),e(ea);var pa=s(ea,2),_a=s(t(pa),2);p(()=>{a(r),M(()=>{})}),e(pa),e(K);var O=s(K,2),N=s(t(O),2),ba=s(t(N),2);ra(ba),e(N);var Q=s(N,2),ga=s(t(Q),2);ra(ga),e(Q);var c=s(Q,2),d=s(t(c),2);ra(d),e(c);var f=s(c,2),Oa=s(t(f),2);ra(Oa),e(f),e(O);var Qa=s(O,2),Ra=t(Qa),Ga=s(Ra,2),ce=t(Ga);e(Ga),e(Qa),e(A),e(n),e(l),p(()=>{u(m,a(h)?"Edit Food Item":"Add New Food Item"),u(ce,`${a(h)?"Update":"Add"} Food Item`)}),j(oa,()=>a(r).type,i=>_(r,a(r).type=i)),j(La,()=>a(r).category,i=>_(r,a(r).category=i)),x(ia,()=>a(r).sub_category,i=>_(r,a(r).sub_category=i)),x(na,()=>a(r).ingredients,i=>_(r,a(r).ingredients=i)),j(Na,()=>a(r).schedule,i=>_(r,a(r).schedule=i)),x(W,()=>a(r).audience,i=>_(r,a(r).audience=i)),x(Z,()=>a(r).health_factor,i=>_(r,a(r).health_factor=i)),x(ca,()=>a(r).time_factor,i=>_(r,a(r).time_factor=i)),x(da,()=>a(r).cost_per_serving,i=>_(r,a(r).cost_per_serving=i)),x(va,()=>a(r).serving_definition,i=>_(r,a(r).serving_definition=i)),j(Ma,()=>a(r).aroma_factor,i=>_(r,a(r).aroma_factor=i)),j(_a,()=>a(r).taste_factor,i=>_(r,a(r).taste_factor=i)),x(ba,()=>a(r).preparation_stage,i=>_(r,a(r).preparation_stage=i)),x(ga,()=>a(r).mixing_stage,i=>_(r,a(r).mixing_stage=i)),x(d,()=>a(r).boiling_stage,i=>_(r,a(r).boiling_stage=i)),x(Oa,()=>a(r).ready_stage,i=>_(r,a(r).ready_stage=i)),ta("click",Ra,ae),ta("submit",A,me(Xa)),y(o,l)};R(ie,o=>{a(J)&&o(ne)})}ta("click",Fa,()=>{v(J,!0),v(h,null),fa()}),x(za,()=>a(k),o=>v(k,o)),j(Aa,()=>a(I),o=>v(I,o)),j(Ta,()=>a(C),o=>v(C,o)),y(Ja,Ha),ge()}export{Pe as component};
