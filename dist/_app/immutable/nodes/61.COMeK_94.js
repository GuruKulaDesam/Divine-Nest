import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as Jt,l as ae,d as oe,e as y,f as Kt,t as m,i as e,j as A,g as a,a as f,b as Qt,m as x,k as o,u as k,q as n,s as l,n as g,r as t,o as gt,v as se,y as at,x as ie}from"../chunks/6uIj5N_2.js";import{i as xt}from"../chunks/Dvp2nKH1.js";import{e as $t,i as At}from"../chunks/D27cKp0K.js";import{b as ft,r as Ut,a as re}from"../chunks/CuqaNdSY.js";import{b as yt}from"../chunks/DgriDnSR.js";import{i as le}from"../chunks/CRscWiiN.js";import{p as ne}from"../chunks/Bfc47y5P.js";import{I as u}from"../chunks/BHUeFzQU.js";import"../chunks/DvEbSVyS.js";import{p as de}from"../chunks/t_YXP1wv.js";import{b as ce}from"../chunks/COSQyRtt.js";var ve=y('<span class="badge badge-outline badge-sm"> </span>'),pe=y('<tr><td><div class="flex items-center"><!> </div></td><td> </td><td class="font-semibold text-red-600"> </td><td> </td><td> </td><td><div class="flex flex-wrap gap-1"></div></td><td><div class="flex gap-2"><button class="btn btn-sm btn-ghost"><!></button> <button class="btn btn-sm btn-ghost"><!></button> <button class="btn btn-sm btn-ghost text-red-600"><!></button></div></td></tr>'),be=y('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-base-100 rounded-xl shadow-xl max-w-md w-full"><div class="p-6"><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-bold text-base-content">Add Expense</h2> <button class="btn btn-sm btn-ghost"><!></button></div> <form class="space-y-4"><div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered" required><option>Select Category</option><option>Food & Dining</option><option>Transportation</option><option>Utilities</option><option>Entertainment</option><option>Healthcare</option><option>Education</option><option>Shopping</option><option>Other</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Description</span></label> <input type="text" class="input input-bordered" placeholder="Grocery shopping, fuel, etc." required/></div> <div class="form-control"><label class="label"><span class="label-text">Amount</span></label> <input type="number" class="input input-bordered" placeholder="2500" required/></div> <div class="form-control"><label class="label"><span class="label-text">Payment Method</span></label> <select class="select select-bordered" required><option>Select Method</option><option>Cash</option><option>Credit Card</option><option>Debit Card</option><option>Online</option><option>UPI</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Tags (comma separated)</span></label> <input type="text" class="input input-bordered" placeholder="groceries, weekly, etc."/></div> <div class="flex gap-3 pt-4"><button type="button" class="btn btn-ghost flex-1">Cancel</button> <button type="submit" class="btn btn-primary flex-1">Add Expense</button></div></form></div></div></div>'),ue=y('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-base-content">Expenses</h1> <p class="text-base-content/70 mt-2">Track and manage your expenses</p></div> <button class="btn btn-primary"><!> Add Expense</button></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-6"><div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="flex items-center"><div class="p-3 bg-red-100 rounded-lg"><!></div> <div class="ml-4"><h3 class="font-semibold text-base-content">Total Expenses</h3> <p class="text-2xl font-bold text-red-600"> </p></div></div></div></div> <div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="flex items-center"><div class="p-3 bg-blue-100 rounded-lg"><!></div> <div class="ml-4"><h3 class="font-semibold text-base-content">Food & Dining</h3> <p class="text-2xl font-bold text-blue-600">₹2,500</p></div></div></div></div> <div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="flex items-center"><div class="p-3 bg-green-100 rounded-lg"><!></div> <div class="ml-4"><h3 class="font-semibold text-base-content">Transportation</h3> <p class="text-2xl font-bold text-green-600">₹1,200</p></div></div></div></div> <div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="flex items-center"><div class="p-3 bg-purple-100 rounded-lg"><!></div> <div class="ml-4"><h3 class="font-semibold text-base-content">Utilities</h3> <p class="text-2xl font-bold text-purple-600">₹1,800</p></div></div></div></div></div> <div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="flex flex-wrap gap-4"><div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered select-sm"><option>All Categories</option><option>Food & Dining</option><option>Transportation</option><option>Utilities</option><option>Entertainment</option><option>Healthcare</option><option>Education</option><option>Shopping</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Date Range</span></label> <select class="select select-bordered select-sm"><option>All Time</option><option>This Week</option><option>This Month</option><option>Last Month</option></select></div></div></div></div> <div class="card bg-base-100 shadow-lg"><div class="card-body"><div class="overflow-x-auto"><table class="table table-zebra w-full"><thead><tr><th>Category</th><th>Description</th><th>Amount</th><th>Date</th><th>Payment Method</th><th>Tags</th><th>Actions</th></tr></thead><tbody></tbody></table></div></div></div></div> <!>',1);function me(wt,kt){Jt(kt,!1);const q=x();let M=[{id:1,category:"Food & Dining",description:"Grocery shopping",amount:2500,date:"2024-01-15",paymentMethod:"Credit Card",tags:["groceries","weekly"]},{id:2,category:"Transportation",description:"Fuel for car",amount:1200,date:"2024-01-14",paymentMethod:"Cash",tags:["fuel","car"]},{id:3,category:"Utilities",description:"Electricity bill",amount:1800,date:"2024-01-13",paymentMethod:"Online",tags:["electricity","monthly"]}],s=x({category:"",description:"",amount:"",paymentMethod:"",tags:""}),d=x(!1),w=x(""),F=x("");function ot(){l(d,!1)}function J(r){const i={"Food & Dining":"heroicons:shopping-bag",Transportation:"heroicons:truck",Utilities:"heroicons:bolt",Entertainment:"heroicons:film",Healthcare:"heroicons:heart",Education:"heroicons:academic-cap",Shopping:"heroicons:shopping-cart",Other:"heroicons:ellipsis-horizontal"};return i[r]||i.Other}function st(){return M.reduce((r,i)=>r+i.amount,0)}ae(()=>a(w),()=>{l(q,M.filter(r=>!(a(w)&&r.category!==a(w))))}),oe();var it=ue(),K=Kt(it),Q=e(K),h=o(e(Q),2),S=e(h);u(S,{icon:"heroicons:plus",class:"w-5 h-5 mr-2"}),g(),t(h),t(Q);var b=o(Q,2),_=e(b),j=e(_),V=e(j),B=e(V),Mt=e(B);u(Mt,{icon:"heroicons:banknotes",class:"w-6 h-6 text-red-600"}),t(B);var rt=o(B,2),lt=o(e(rt),2),c=e(lt);t(lt),t(rt),t(V),t(j),t(_);var v=o(_,2),E=e(v),nt=e(E),I=e(nt),X=e(I);u(X,{icon:"heroicons:shopping-bag",class:"w-6 h-6 text-blue-600"}),t(I),g(2),t(nt),t(E),t(v);var P=o(v,2),dt=e(P),O=e(dt),ct=e(O),vt=e(ct);u(vt,{icon:"heroicons:truck",class:"w-6 h-6 text-green-600"}),t(ct),g(2),t(O),t(dt),t(P);var Y=o(P,2),pt=e(Y),bt=e(pt),qt=e(bt),Vt=e(qt);u(Vt,{icon:"heroicons:bolt",class:"w-6 h-6 text-purple-600"}),t(qt),g(2),t(bt),t(pt),t(Y),t(b);var St=o(b,2),Ft=e(St),jt=e(Ft),Et=e(jt),It=o(e(Et),2);m(()=>{a(w),gt(()=>{})});var Bt=e(It);Bt.value=Bt.__value="",g(7),t(It),t(Et);var Ot=o(Et,2),Pt=o(e(Ot),2);m(()=>{a(F),gt(()=>{})});var zt=e(Pt);zt.value=zt.__value="",g(3),t(Pt),t(Ot),t(jt),t(Ft),t(St);var Ht=o(St,2),Rt=e(Ht),Gt=e(Rt),Lt=e(Gt),Nt=o(e(Lt));$t(Nt,5,()=>a(q),At,(r,i)=>{var z=pe(),H=e(z),R=e(H),G=e(R);{let Ct=se(()=>(a(i),k(()=>J(a(i).category))));u(G,{get icon(){return a(Ct)},class:"w-4 h-4 mr-2"})}var Tt=o(G);t(R),t(H);var T=o(H),Z=e(T,!0);t(T);var C=o(T),ut=e(C);t(C);var D=o(C),mt=e(D,!0);t(D);var U=o(D),ht=e(U,!0);t(U);var $=o(U),L=e($);$t(L,5,()=>(a(i),k(()=>a(i).tags)),At,(Ct,te)=>{var Dt=ve(),ee=e(Dt,!0);t(Dt),m(()=>n(ee,a(te))),f(Ct,Dt)}),t(L),t($);var tt=o($),N=e(tt),W=e(N),_t=e(W);u(_t,{icon:"heroicons:eye",class:"w-4 h-4"}),t(W);var et=o(W,2),p=e(et);u(p,{icon:"heroicons:pencil",class:"w-4 h-4"}),t(et);var Wt=o(et,2),Zt=e(Wt);u(Zt,{icon:"heroicons:trash",class:"w-4 h-4"}),t(Wt),t(N),t(tt),t(z),m(()=>{n(Tt,` ${a(i),k(()=>a(i).category)??""}`),n(Z,(a(i),k(()=>a(i).description))),n(ut,`₹${a(i),k(()=>a(i).amount)??""}`),n(mt,(a(i),k(()=>a(i).date))),n(ht,(a(i),k(()=>a(i).paymentMethod)))}),f(r,z)}),t(Nt),t(Lt),t(Gt),t(Rt),t(Ht),t(K);var Xt=o(K,2);{var Yt=r=>{var i=be(),z=e(i),H=e(z),R=e(H),G=o(e(R),2),Tt=e(G);u(Tt,{icon:"heroicons:x-mark",class:"w-5 h-5"}),t(G),t(R);var T=o(R,2),Z=e(T),C=o(e(Z),2);m(()=>{a(s),gt(()=>{})});var ut=e(C);ut.value=ut.__value="",g(8),t(C),t(Z);var D=o(Z,2),mt=o(e(D),2);Ut(mt),t(D);var U=o(D,2),ht=o(e(U),2);Ut(ht),t(U);var $=o(U,2),L=o(e($),2);m(()=>{a(s),gt(()=>{})});var tt=e(L);tt.value=tt.__value="",g(5),t(L),t($);var N=o($,2),W=o(e(N),2);Ut(W),t(N);var _t=o(N,2),et=e(_t);g(2),t(_t),t(T),t(H),t(z),t(i),A("click",G,()=>l(d,!1)),ft(C,()=>a(s).category,p=>at(s,a(s).category=p)),yt(mt,()=>a(s).description,p=>at(s,a(s).description=p)),yt(ht,()=>a(s).amount,p=>at(s,a(s).amount=p)),ft(L,()=>a(s).paymentMethod,p=>at(s,a(s).paymentMethod=p)),yt(W,()=>a(s).tags,p=>at(s,a(s).tags=p)),A("click",et,()=>l(d,!1)),A("submit",T,ne(ot)),f(r,i)};xt(Xt,r=>{a(d)&&r(Yt)})}m(r=>n(c,`₹${r??""}`),[()=>k(st)]),A("click",h,()=>l(d,!0)),ft(It,()=>a(w),r=>l(w,r)),ft(Pt,()=>a(F),r=>l(F,r)),f(wt,it),Qt()}var he=y('<div class="text-red-600 mt-2"> </div>'),_e=y('<li class="mb-2 border-b pb-1"><b> </b> | <b> </b> <br/> <span class="text-gray-500"> </span></li>'),ge=y('<div class="mt-4 border-t pt-2"><div class="font-semibold mb-1">Parsed Transactions:</div> <ul class="text-sm max-h-40 overflow-y-auto"></ul></div>'),fe=y('<div class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-lg relative"><button class="absolute top-2 right-2 text-gray-500 hover:text-black">&times;</button> <h3 class="text-lg font-bold mb-2">Import UPI SMS (Bulk)</h3> <textarea class="w-full border rounded p-2 mb-2" rows="6" placeholder="Paste multiple UPI SMS, separated by blank lines..."></textarea> <button class="bg-green-600 text-white px-4 py-2 rounded">Parse & Import</button> <!> <!></div></div>'),xe=y('<!> <div class="mt-6 flex flex-col gap-2"><a class="inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded hover:bg-blue-200 transition">Try UPI SMS Parser Demo</a> <button class="inline-block bg-green-100 text-green-800 px-4 py-2 rounded hover:bg-green-200 transition">Import UPI SMS (Build History)</button></div> <!>',1);function Ae(wt,kt){Jt(kt,!1);let q=x(!1),M=x(""),s=x([]),d=x("");function w(){if(l(d,""),l(s,[]),!a(M).trim()){l(d,"Paste one or more UPI SMS messages.");return}const h=a(M).split(/\n{2,}|\r{2,}/).map(b=>b.trim()).filter(Boolean),S=new Date;for(const b of h){const _=de(b,S);_&&a(s).push(_)}a(s).length===0&&l(d,"No valid UPI SMS found.")}le();var F=xe(),ot=Kt(F);me(ot,{});var J=o(ot,2),st=e(J),it=o(st,2);t(J);var K=o(J,2);{var Q=h=>{var S=fe(),b=e(S),_=e(b),j=o(_,4);ie(j);var V=o(j,2),B=o(V,2);{var Mt=c=>{var v=he(),E=e(v,!0);t(v),m(()=>n(E,a(d))),f(c,v)};xt(B,c=>{a(d)&&c(Mt)})}var rt=o(B,2);{var lt=c=>{var v=ge(),E=o(e(v),2);$t(E,5,()=>a(s),At,(nt,I)=>{var X=_e(),P=e(X),dt=e(P);t(P);var O=o(P,2),ct=e(O,!0);t(O);var vt=o(O),Y=o(vt,3),pt=e(Y,!0);t(Y),t(X),m(bt=>{n(dt,`₹${a(I).amount??""}`),n(ct,a(I).transactionId),n(vt,` | ${bt??""}`),n(pt,a(I).rawText)},[()=>a(I).timestamp.toLocaleString()]),f(nt,X)}),t(E),t(v),f(c,v)};xt(rt,c=>{a(s).length&&c(lt)})}t(b),t(S),A("click",_,()=>l(q,!1)),yt(j,()=>a(M),c=>l(M,c)),A("click",V,w),f(h,S)};xt(K,h=>{a(q)&&h(Q)})}m(()=>re(st,"href",`${ce??""}/finances/expenses/parse-upi-sms`)),A("click",it,()=>l(q,!0)),f(wt,F),Qt()}export{Ae as component};
