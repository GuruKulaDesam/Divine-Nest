import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as Ma}from"../chunks/Dl7RRJWM.js";import{p as Pa,l as xe,d as Na,e as h,h as za,f as ca,t as m,i as t,j as K,g as e,a as f,b as Oa,m as y,$ as Ba,k as s,s as u,n as ce,r as a,o as we,u as d,q as b,v as Je,w as Ra,x as da,y as x,z as Ua}from"../chunks/6uIj5N_2.js";import{i as C}from"../chunks/Dvp2nKH1.js";import{e as Q,i as V}from"../chunks/D27cKp0K.js";import{b as ye,r as k}from"../chunks/CuqaNdSY.js";import{s as Ga}from"../chunks/DtCY3ta1.js";import{b as D,a as Ha}from"../chunks/DgriDnSR.js";import{p as Wa}from"../chunks/Bfc47y5P.js";import{i as Ja}from"../chunks/CRscWiiN.js";import{I as $}from"../chunks/BHUeFzQU.js";import{s as de}from"../chunks/BesrdQ_8.js";var Ka=h("<option> </option>"),Qa=h("<option> </option>"),Va=h('<span class="badge badge-outline badge-sm"> </span>'),Xa=h('<span class="badge badge-outline badge-sm"> </span>'),Ya=h("<!> <!>",1),Za=h('<p class="text-sm text-base-content/80"> </p>'),et=h('<div class="space-y-1 mb-3"></div>'),at=h('<p class="text-sm text-base-content/80 mb-2"> </p>'),tt=h('<p class="text-sm text-base-content/80 mb-2"> </p>'),rt=h('<p class="text-sm text-base-content/60 italic"> </p>'),st=h('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex items-start justify-between"><div class="flex items-start gap-3"><div class="avatar"><div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center"><!></div></div> <div class="flex-1"><div class="flex items-center gap-2 mb-2"><h3 class="card-title text-lg"> </h3> <!></div> <p class="text-sm text-base-content/70 mb-3"> </p> <div class="flex flex-wrap gap-2 mb-3"><span> </span> <!></div> <!> <!> <!> <!></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-40"><li><a><!> </a></li> <li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="pt-3 border-t border-base-300"><span class="text-xs text-base-content/50"> </span></div></div></div>'),ot=h('<div class="mb-8"><h2 class="text-2xl font-semibold mb-4 text-base-content flex items-center gap-2"><!> <span class="badge badge-primary badge-sm"> </span></h2> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>'),it=h('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No directory entries found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),lt=h('<div class="modal modal-open"><div class="modal-box max-w-2xl"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>Emergency</option><option>Medical</option><option>Government</option><option>Education</option><option>Services</option><option>Shopping</option><option>Food</option><option>Transportation</option><option>Entertainment</option><option>Religious</option><option>Community</option><option>Personal</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Contact</option><option>Service</option><option>Business</option><option>Organization</option><option>Place</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Name *</span></label> <input type="text" placeholder="Entry name..." class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Description *</span></label> <textarea placeholder="Brief description..." class="textarea textarea-bordered" rows="2" required></textarea></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Phone</span></label> <input type="tel" placeholder="+1 (555) 123-4567" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Email</span></label> <input type="email" placeholder="contact@example.com" class="input input-bordered"/></div></div> <div class="form-control"><label class="label"><span class="label-text">Address</span></label> <input type="text" placeholder="Full address..." class="input input-bordered"/></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Website</span></label> <input type="url" placeholder="https://example.com" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Hours</span></label> <input type="text" placeholder="Mon-Fri 9AM-5PM" class="input input-bordered"/></div></div> <div class="form-control"><label class="label"><span class="label-text">Tags</span></label> <input type="text" placeholder="urgent, local, 24/7 (comma separated)" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Additional Notes</span></label> <textarea placeholder="Any additional information..." class="textarea textarea-bordered" rows="2"></textarea></div> <div class="form-group"><label class="label cursor-pointer"><span class="label-text">Mark as Favorite</span> <input type="checkbox" class="toggle toggle-primary"/></label></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),nt=h('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> Family Directory</h1> <p class="text-base-content/70 mt-1">Important contacts, services, and community resources</p></div> <button class="btn btn-primary"><!> Add Entry</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search directory..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div></div></div> <!> <!></div></div> <!>',1);function yt(va,pa){Pa(pa,!1);const X=y(),Ee=y(),De=y(),$e=y();let A=y([]),Y=y(!1),w=y(null),S=y(""),F=y(""),T=y(""),i=y({category:"Emergency",type:"Contact",name:"",description:"",phone:"",email:"",address:"",website:"",hours:"",notes:"",is_favorite:!1,tags:""});Ma(async()=>{await ve()});async function ve(){try{u(A,await de.getDirectory())}catch(r){console.error("Error loading directory:",r)}}function Ce(){u(i,{category:"Emergency",type:"Contact",name:"",description:"",phone:"",email:"",address:"",website:"",hours:"",notes:"",is_favorite:!1,tags:""})}async function ua(){try{const r={...e(i),id:e(w)?e(w).id:crypto.randomUUID(),created_at:e(w)?e(w).created_at:new Date().toISOString(),tags:e(i).tags?e(i).tags.split(",").map(l=>l.trim()):[]};e(w)?await de.updateDirectoryEntry(r):await de.saveDirectoryEntry(r),await ve(),u(Y,!1),u(w,null),Ce()}catch(r){console.error("Error saving directory entry:",r)}}function ba(r){u(w,r),u(i,{...r,tags:r.tags?r.tags.join(", "):""}),u(Y,!0)}async function _a(r){if(confirm(`Delete directory entry "${r.name}"?`))try{await de.deleteDirectoryEntry(r.id),await ve()}catch(l){console.error("Error deleting directory entry:",l)}}async function ma(r){try{const l={...r,is_favorite:!r.is_favorite};await de.updateDirectoryEntry(l),await ve()}catch(l){console.error("Error toggling favorite:",l)}}function ga(){u(Y,!1),u(w,null),Ce()}function Ke(r){switch(r){case"Emergency":return"heroicons:exclamation-triangle";case"Medical":return"heroicons:heart";case"Government":return"heroicons:building-office";case"Education":return"heroicons:academic-cap";case"Services":return"heroicons:wrench-screwdriver";case"Shopping":return"heroicons:shopping-bag";case"Food":return"heroicons:building-storefront";case"Transportation":return"heroicons:truck";case"Entertainment":return"heroicons:film";case"Religious":return"heroicons:sparkles";case"Community":return"heroicons:user-group";case"Personal":return"heroicons:user";default:return"heroicons:information-circle"}}function fa(r){switch(r){case"Contact":return"text-blue-600 bg-blue-100";case"Service":return"text-green-600 bg-green-100";case"Business":return"text-purple-600 bg-purple-100";case"Organization":return"text-orange-600 bg-orange-100";case"Place":return"text-teal-600 bg-teal-100";default:return"text-base-content bg-base-200"}}function Qe(r){const l=[];return r.phone&&l.push(`ðŸ“ž ${r.phone}`),r.email&&l.push(`âœ‰ï¸ ${r.email}`),r.website&&l.push(`ðŸŒ ${r.website}`),l}xe(()=>(e(A),e(S),e(F),e(T)),()=>{u(X,e(A).filter(r=>{const l=!e(S)||r.name.toLowerCase().includes(e(S).toLowerCase())||r.description.toLowerCase().includes(e(S).toLowerCase())||r.tags&&r.tags.some(g=>g.toLowerCase().includes(e(S).toLowerCase())),v=!e(F)||r.category===e(F),_=!e(T)||r.type===e(T);return l&&v&&_}))}),xe(()=>e(A),()=>{u(Ee,[...new Set(e(A).map(r=>r.category))])}),xe(()=>e(A),()=>{u(De,[...new Set(e(A).map(r=>r.type))])}),xe(()=>e(X),()=>{u($e,e(X).reduce((r,l)=>(r[l.category]||(r[l.category]=[]),r[l.category].push(l),r),{}))}),Na(),Ja();var Ve=nt();za(r=>{Ba.title="Directory - Divine-Nest"});var ke=ca(Ve),Xe=t(ke),Se=t(Xe),Ae=t(Se),Ye=t(Ae),ha=t(Ye);$(ha,{icon:"heroicons:book-open",class:"w-8 h-8"}),ce(),a(Ye),ce(2),a(Ae);var Fe=s(Ae,2),xa=t(Fe);$(xa,{icon:"heroicons:plus",class:"w-5 h-5"}),ce(),a(Fe),a(Se);var Te=s(Se,2),Ze=t(Te),je=t(Ze),ea=s(t(je),2);k(ea),a(je);var qe=s(je,2),Ie=s(t(qe),2);m(()=>{e(F),we(()=>{e(Ee)})});var Le=t(Ie);Le.value=Le.__value="";var wa=s(Le);Q(wa,1,()=>e(Ee),V,(r,l)=>{var v=Ka(),_=t(v,!0);a(v);var g={};m(()=>{b(_,e(l)),g!==(g=e(l))&&(v.value=(v.__value=e(l))??"")}),f(r,v)}),a(Ie),a(qe);var aa=s(qe,2),Me=s(t(aa),2);m(()=>{e(T),we(()=>{e(De)})});var Pe=t(Me);Pe.value=Pe.__value="";var ya=s(Pe);Q(ya,1,()=>e(De),V,(r,l)=>{var v=Qa(),_=t(v,!0);a(v);var g={};m(()=>{b(_,e(l)),g!==(g=e(l))&&(v.value=(v.__value=e(l))??"")}),f(r,v)}),a(Me),a(aa),a(Ze),a(Te);var ta=s(Te,2);Q(ta,1,()=>(e($e),d(()=>Object.entries(e($e)))),V,(r,l)=>{var v=Ra(()=>Ua(e(l),2));let _=()=>e(v)[0],g=()=>e(v)[1];var j=ot(),q=t(j),B=t(q);{let U=Je(()=>(_(),d(()=>Ke(_()))));$(B,{get icon(){return e(U)},class:"w-6 h-6"})}var pe=s(B),Z=s(pe),Ne=t(Z,!0);a(Z),a(q);var R=s(q,2);Q(R,5,g,V,(U,o)=>{var G=st(),H=t(G),I=t(H),W=t(I),J=t(W),ee=t(J),ae=t(ee);{let n=Je(()=>(e(o),d(()=>Ke(e(o).category))));$(ae,{get icon(){return e(n)},class:"w-6 h-6 text-primary"})}a(ee),a(J);var te=s(J,2),L=t(te),M=t(L),ue=t(M,!0);a(M);var be=s(M,2);{var _e=n=>{$(n,{icon:"heroicons:star",class:"w-5 h-5 text-yellow-500"})};C(be,n=>{e(o),d(()=>e(o).is_favorite)&&n(_e)})}a(L);var P=s(L,2),me=t(P,!0);a(P);var N=s(P,2),z=t(N),re=t(z,!0);a(z);var ge=s(z,2);{var fe=n=>{var p=Ya(),E=ca(p);Q(E,1,()=>(e(o),d(()=>e(o).tags.slice(0,2))),V,(O,le)=>{var ne=Va(),La=t(ne,!0);a(ne),m(()=>b(La,e(le))),f(O,ne)});var We=s(E,2);{var ie=O=>{var le=Xa(),ne=t(le);a(le),m(()=>b(ne,`+${e(o),d(()=>e(o).tags.length-2)??""} more`)),f(O,le)};C(We,O=>{e(o),d(()=>e(o).tags.length>2)&&O(ie)})}f(n,p)};C(ge,n=>{e(o),d(()=>e(o).tags&&e(o).tags.length>0)&&n(fe)})}a(N);var se=s(N,2);{var he=n=>{var p=et();Q(p,5,()=>(e(o),d(()=>Qe(e(o)))),V,(E,We)=>{var ie=Za(),O=t(ie,!0);a(ie),m(()=>b(O,e(We))),f(E,ie)}),a(p),f(n,p)};C(se,n=>{e(o),d(()=>Qe(e(o)).length>0)&&n(he)})}var oe=s(se,2);{var ze=n=>{var p=at(),E=t(p);a(p),m(()=>b(E,`ðŸ“ ${e(o),d(()=>e(o).address)??""}`)),f(n,p)};C(oe,n=>{e(o),d(()=>e(o).address)&&n(ze)})}var c=s(oe,2);{var ka=n=>{var p=tt(),E=t(p);a(p),m(()=>b(E,`ðŸ• ${e(o),d(()=>e(o).hours)??""}`)),f(n,p)};C(c,n=>{e(o),d(()=>e(o).hours)&&n(ka)})}var Sa=s(c,2);{var Aa=n=>{var p=rt(),E=t(p);a(p),m(()=>b(E,`"${e(o),d(()=>e(o).notes)??""}"`)),f(n,p)};C(Sa,n=>{e(o),d(()=>e(o).notes)&&n(Aa)})}a(te),a(W);var ra=s(W,2),Oe=t(ra),Fa=t(Oe);$(Fa,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),a(Oe);var sa=s(Oe,2),Be=t(sa),Re=t(Be),oa=t(Re);{let n=Je(()=>(e(o),d(()=>(e(o).is_favorite,"heroicons:star"))));$(oa,{get icon(){return e(n)},class:"w-4 h-4"})}var Ta=s(oa);a(Re),a(Be);var Ue=s(Be,2),Ge=t(Ue),ja=t(Ge);$(ja,{icon:"heroicons:pencil",class:"w-4 h-4"}),ce(),a(Ge),a(Ue);var ia=s(Ue,2),He=t(ia),qa=t(He);$(qa,{icon:"heroicons:trash",class:"w-4 h-4"}),ce(),a(He),a(ia),a(sa),a(ra),a(I);var la=s(I,2),na=t(la),Ia=t(na);a(na),a(la),a(H),a(G),m((n,p)=>{b(ue,(e(o),d(()=>e(o).name))),b(me,(e(o),d(()=>e(o).description))),Ga(z,1,`badge badge-sm ${n??""}`),b(re,(e(o),d(()=>e(o).type))),b(Ta,` ${e(o),d(()=>e(o).is_favorite?"Remove Favorite":"Add Favorite")??""}`),b(Ia,`Added ${p??""}`)},[()=>(e(o),d(()=>fa(e(o).type))),()=>(e(o),d(()=>new Date(e(o).created_at).toLocaleDateString()))]),K("click",Re,()=>ma(e(o))),K("click",Ge,()=>ba(e(o))),K("click",He,()=>_a(e(o))),f(U,G)}),a(R),a(j),m(()=>{b(pe,` ${_()??""} `),b(Ne,(g(),d(()=>g().length)))}),f(r,j)});var Ea=s(ta,2);{var Da=r=>{var l=it(),v=t(l);$(v,{icon:"heroicons:book-open",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var _=s(v,4),g=t(_,!0);a(_),a(l),m(()=>b(g,e(S)||e(F)||e(T)?"Try adjusting your filters":"Add your first directory entry to get started")),f(r,l)};C(Ea,r=>{e(X),d(()=>e(X).length===0)&&r(Da)})}a(Xe),a(ke);var $a=s(ke,2);{var Ca=r=>{var l=lt(),v=t(l),_=t(v),g=t(_,!0);a(_);var j=s(_,2),q=t(j),B=t(q),pe=s(t(B),2);m(()=>{e(i),we(()=>{})}),a(B);var Z=s(B,2),Ne=s(t(Z),2);m(()=>{e(i),we(()=>{})}),a(Z),a(q);var R=s(q,2),U=s(t(R),2);k(U),a(R);var o=s(R,2),G=s(t(o),2);da(G),a(o);var H=s(o,2),I=t(H),W=s(t(I),2);k(W),a(I);var J=s(I,2),ee=s(t(J),2);k(ee),a(J),a(H);var ae=s(H,2),te=s(t(ae),2);k(te),a(ae);var L=s(ae,2),M=t(L),ue=s(t(M),2);k(ue),a(M);var be=s(M,2),_e=s(t(be),2);k(_e),a(be),a(L);var P=s(L,2),me=s(t(P),2);k(me),a(P);var N=s(P,2),z=s(t(N),2);da(z),a(N);var re=s(N,2),ge=t(re),fe=s(t(ge),2);k(fe),a(ge),a(re);var se=s(re,2),he=t(se),oe=s(he,2),ze=t(oe);a(oe),a(se),a(j),a(v),a(l),m(()=>{b(g,e(w)?"Edit Directory Entry":"Add New Directory Entry"),b(ze,`${e(w)?"Update":"Add"} Entry`)}),ye(pe,()=>e(i).category,c=>x(i,e(i).category=c)),ye(Ne,()=>e(i).type,c=>x(i,e(i).type=c)),D(U,()=>e(i).name,c=>x(i,e(i).name=c)),D(G,()=>e(i).description,c=>x(i,e(i).description=c)),D(W,()=>e(i).phone,c=>x(i,e(i).phone=c)),D(ee,()=>e(i).email,c=>x(i,e(i).email=c)),D(te,()=>e(i).address,c=>x(i,e(i).address=c)),D(ue,()=>e(i).website,c=>x(i,e(i).website=c)),D(_e,()=>e(i).hours,c=>x(i,e(i).hours=c)),D(me,()=>e(i).tags,c=>x(i,e(i).tags=c)),D(z,()=>e(i).notes,c=>x(i,e(i).notes=c)),Ha(fe,()=>e(i).is_favorite,c=>x(i,e(i).is_favorite=c)),K("click",he,ga),K("submit",j,Wa(ua)),f(r,l)};C($a,r=>{e(Y)&&r(Ca)})}K("click",Fe,()=>{u(Y,!0),u(w,null),Ce()}),D(ea,()=>e(S),r=>u(S,r)),ye(Ie,()=>e(F),r=>u(F,r)),ye(Me,()=>e(T),r=>u(T,r)),f(va,Ve),Oa()}export{yt as component};
