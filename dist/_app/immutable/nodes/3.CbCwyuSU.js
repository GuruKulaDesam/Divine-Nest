import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as ut}from"../chunks/Dl7RRJWM.js";import{p as mt,l as le,d as ft,e as h,h as gt,f as yt,t as _,i as a,j as Z,g as e,a as x,b as xt,k as r,s as p,m as y,$ as ht,n as G,r as t,o as P,u as v,q as b,v as Ge,w as wt,x as At,y as w,z as $t}from"../chunks/6uIj5N_2.js";import{i as ee}from"../chunks/Dvp2nKH1.js";import{e as ie,i as ne}from"../chunks/D27cKp0K.js";import{b as j,r as ce}from"../chunks/CuqaNdSY.js";import{s as qt}from"../chunks/DtCY3ta1.js";import{b as te}from"../chunks/DgriDnSR.js";import{p as Ct}from"../chunks/Bfc47y5P.js";import{i as St}from"../chunks/CRscWiiN.js";import{I as q}from"../chunks/BHUeFzQU.js";import{s as de}from"../chunks/BesrdQ_8.js";var Dt=h("<option> </option>"),Tt=h("<option> </option>"),Mt=h('<p class="text-sm"><strong>Sub-category:</strong> </p>'),kt=h('<p class="text-sm"><strong>Time:</strong> </p>'),Lt=h('<p class="text-sm"><strong>Location:</strong> </p>'),Et=h('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex justify-between items-start"><div class="flex-1"><h3 class="card-title text-lg"> </h3> <div class="flex flex-wrap gap-2 mt-2"><span class="badge badge-primary"> </span> <span class="badge badge-secondary"> </span></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-32"><li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="mt-4 space-y-2"><!> <p class="text-sm"><strong>Participant:</strong> </p> <!> <!> <div class="flex justify-between items-center pt-2"><span class="text-sm text-base-content/60"> </span> <!></div></div></div></div>'),Pt=h('<div class="mb-8"><h2 class="text-2xl font-semibold mb-4 text-base-content flex items-center gap-2"><!> <span> </span></h2> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>'),jt=h('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No activities found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),It=h('<div class="modal modal-open"><div class="modal-box max-w-lg"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Physical</option><option>Mental</option><option>Soulful</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>Learning</option><option>Crafting</option><option>Sports</option><option>Meditation</option><option>Reading</option><option>Music</option><option>Art</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Sub Category</span></label> <input type="text" placeholder="Specific sub-category..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Description *</span></label> <textarea placeholder="Activity description..." class="textarea textarea-bordered" required rows="3"></textarea></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Participant *</span></label> <input type="text" placeholder="Who participates..." class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Frequency *</span></label> <select class="select select-bordered" required><option>Daily</option><option>Weekly</option><option>Monthly</option><option>Ad-Hoc</option></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Time of Day</span></label> <select class="select select-bordered"><option>Any Time</option><option>Morning</option><option>Afternoon</option><option>Evening</option><option>Night</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Alert Type *</span></label> <select class="select select-bordered" required><option>Reminder</option><option>Alarm</option><option>None</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Location</span></label> <input type="text" placeholder="Where to perform..." class="input input-bordered"/></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),Nt=h('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> Activities Management</h1> <p class="text-base-content/70 mt-1">Manage physical, mental, and soulful activities</p></div> <button class="btn btn-primary"><!> Add Activity</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search activities..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div></div></div> <!> <!></div></div> <!>',1);function Xt(Je,Ke){mt(Ke,!1);const J=y(),pe=y(),ve=y(),_e=y();let C=y([]),K=y(!1),f=y(null),A=y(""),S=y(""),D=y(""),o=y({type:"Physical",category:"Learning",sub_category:"",description:"",participant:"",frequency:"Daily",location:"",time_of_day:"Morning",alert_type:"Reminder"});ut(async()=>{await be()});async function be(){try{p(C,await de.getActivities())}catch(s){console.error("Error loading activities:",s)}}function ue(){p(o,{type:"Physical",category:"Learning",sub_category:"",description:"",participant:"",frequency:"Daily",location:"",time_of_day:"Morning",alert_type:"Reminder"})}async function Qe(){try{const s={...e(o),id:e(f)?e(f).id:crypto.randomUUID(),created_by:"current_user",created_at:e(f)?e(f).created_at:new Date().toISOString()};e(f)?await de.updateActivity(s):await de.saveActivity(s),await be(),p(K,!1),p(f,null),ue()}catch(s){console.error("Error saving activity:",s)}}function Ve(s){p(f,s),p(o,{...s}),p(K,!0)}async function Xe(s){if(confirm(`Delete "${s.description}"?`))try{await de.deleteActivity(s.id),await be()}catch(i){console.error("Error deleting activity:",i)}}function Ye(){p(K,!1),p(f,null),ue()}function Ee(s){switch(s){case"Physical":return"heroicons:bolt";case"Mental":return"heroicons:brain";case"Soulful":return"heroicons:sparkles";default:return"heroicons:star"}}function Ze(s){switch(s){case"Physical":return"badge-primary";case"Mental":return"badge-secondary";case"Soulful":return"badge-accent";default:return"badge-neutral"}}le(()=>(e(C),e(A),e(S),e(D)),()=>{p(J,e(C).filter(s=>{const i=!e(A)||s.description.toLowerCase().includes(e(A).toLowerCase())||s.sub_category&&s.sub_category.toLowerCase().includes(e(A).toLowerCase())||s.participant.toLowerCase().includes(e(A).toLowerCase()),n=!e(S)||s.type===e(S),d=!e(D)||s.category===e(D);return i&&n&&d}))}),le(()=>e(C),()=>{p(pe,[...new Set(e(C).map(s=>s.type))])}),le(()=>e(C),()=>{p(ve,[...new Set(e(C).map(s=>s.category))])}),le(()=>e(J),()=>{p(_e,e(J).reduce((s,i)=>(s[i.type]||(s[i.type]=[]),s[i.type].push(i),s),{}))}),ft(),St();var Pe=Nt();gt(s=>{ht.title="Activities - Divine-Nest"});var me=yt(Pe),je=a(me),fe=a(je),ge=a(fe),Ie=a(ge),et=a(Ie);q(et,{icon:"heroicons:sparkles",class:"w-8 h-8"}),G(),t(Ie),G(2),t(ge);var ye=r(ge,2),tt=a(ye);q(tt,{icon:"heroicons:plus",class:"w-5 h-5"}),G(),t(ye),t(fe);var xe=r(fe,2),Ne=a(xe),he=a(Ne),Re=r(a(he),2);ce(Re),t(he);var we=r(he,2),Ae=r(a(we),2);_(()=>{e(S),P(()=>{e(pe)})});var $e=a(Ae);$e.value=$e.__value="";var at=r($e);ie(at,1,()=>e(pe),ne,(s,i)=>{var n=Dt(),d=a(n,!0);t(n);var u={};_(()=>{b(d,e(i)),u!==(u=e(i))&&(n.value=(n.__value=e(i))??"")}),x(s,n)}),t(Ae),t(we);var Fe=r(we,2),qe=r(a(Fe),2);_(()=>{e(D),P(()=>{e(ve)})});var Ce=a(qe);Ce.value=Ce.__value="";var st=r(Ce);ie(st,1,()=>e(ve),ne,(s,i)=>{var n=Tt(),d=a(n,!0);t(n);var u={};_(()=>{b(d,e(i)),u!==(u=e(i))&&(n.value=(n.__value=e(i))??"")}),x(s,n)}),t(qe),t(Fe),t(Ne),t(xe);var Ue=r(xe,2);ie(Ue,1,()=>(e(_e),v(()=>Object.entries(e(_e)))),ne,(s,i)=>{var n=wt(()=>$t(e(i),2));let d=()=>e(n)[0],u=()=>e(n)[1];var T=Pt(),M=a(T),I=a(M);{let $=Ge(()=>(d(),v(()=>Ee(d()))));q(I,{get icon(){return e($)},class:"w-6 h-6"})}var ae=r(I),N=r(ae),Se=a(N,!0);t(N),t(M);var R=r(M,2);ie(R,5,u,ne,($,l)=>{var F=Et(),U=a(F),k=a(U),W=a(k),z=a(W),De=a(z,!0);t(z);var O=r(z,2),L=a(O),Q=a(L,!0);t(L);var V=r(L,2),se=a(V,!0);t(V),t(O),t(W);var re=r(W,2),E=a(re),oe=a(E);q(oe,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),t(E);var X=r(E,2),H=a(X),B=a(H),Te=a(B);q(Te,{icon:"heroicons:pencil",class:"w-4 h-4"}),G(),t(B),t(H);var c=r(H,2),Me=a(c),nt=a(Me);q(nt,{icon:"heroicons:trash",class:"w-4 h-4"}),G(),t(Me),t(c),t(X),t(re),t(k);var We=r(k,2),ze=a(We);{var ct=m=>{var g=Mt(),Y=r(a(g));t(g),_(()=>b(Y,` ${e(l),v(()=>e(l).sub_category)??""}`)),x(m,g)};ee(ze,m=>{e(l),v(()=>e(l).sub_category)&&m(ct)})}var ke=r(ze,2),dt=r(a(ke));t(ke);var Oe=r(ke,2);{var pt=m=>{var g=kt(),Y=r(a(g));t(g),_(()=>b(Y,` ${e(l),v(()=>e(l).time_of_day)??""}`)),x(m,g)};ee(Oe,m=>{e(l),v(()=>e(l).time_of_day)&&m(pt)})}var He=r(Oe,2);{var vt=m=>{var g=Lt(),Y=r(a(g));t(g),_(()=>b(Y,` ${e(l),v(()=>e(l).location)??""}`)),x(m,g)};ee(He,m=>{e(l),v(()=>e(l).location)&&m(vt)})}var Be=r(He,2),Le=a(Be),_t=a(Le);t(Le);var bt=r(Le,2);{let m=Ge(()=>(e(l),v(()=>Ee(e(l).type))));q(bt,{get icon(){return e(m)},class:"w-5 h-5 text-primary"})}t(Be),t(We),t(U),t(F),_(()=>{b(De,(e(l),v(()=>e(l).description))),b(Q,(e(l),v(()=>e(l).category))),b(se,(e(l),v(()=>e(l).frequency))),b(dt,` ${e(l),v(()=>e(l).participant)??""}`),b(_t,`Alert: ${e(l),v(()=>e(l).alert_type)??""}`)}),Z("click",B,()=>Ve(e(l))),Z("click",Me,()=>Xe(e(l))),x($,F)}),t(R),t(T),_($=>{b(ae,` ${d()??""} Activities `),qt(N,1,`badge ${$??""} badge-sm`),b(Se,(u(),v(()=>u().length)))},[()=>(d(),v(()=>Ze(d())))]),x(s,T)});var rt=r(Ue,2);{var ot=s=>{var i=jt(),n=a(i);q(n,{icon:"heroicons:sparkles",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var d=r(n,4),u=a(d,!0);t(d),t(i),_(()=>b(u,e(A)||e(S)||e(D)?"Try adjusting your filters":"Add your first activity to get started")),x(s,i)};ee(rt,s=>{e(J),v(()=>e(J).length===0)&&s(ot)})}t(je),t(me);var lt=r(me,2);{var it=s=>{var i=It(),n=a(i),d=a(n),u=a(d,!0);t(d);var T=r(d,2),M=a(T),I=a(M),ae=r(a(I),2);_(()=>{e(o),P(()=>{})}),t(I);var N=r(I,2),Se=r(a(N),2);_(()=>{e(o),P(()=>{})}),t(N),t(M);var R=r(M,2),$=r(a(R),2);ce($),t(R);var l=r(R,2),F=r(a(l),2);At(F),t(l);var U=r(l,2),k=a(U),W=r(a(k),2);ce(W),t(k);var z=r(k,2),De=r(a(z),2);_(()=>{e(o),P(()=>{})}),t(z),t(U);var O=r(U,2),L=a(O),Q=r(a(L),2);_(()=>{e(o),P(()=>{})});var V=a(Q);V.value=V.__value="",G(4),t(Q),t(L);var se=r(L,2),re=r(a(se),2);_(()=>{e(o),P(()=>{})}),t(se),t(O);var E=r(O,2),oe=r(a(E),2);ce(oe),t(E);var X=r(E,2),H=a(X),B=r(H,2),Te=a(B);t(B),t(X),t(T),t(n),t(i),_(()=>{b(u,e(f)?"Edit Activity":"Add New Activity"),b(Te,`${e(f)?"Update":"Add"} Activity`)}),j(ae,()=>e(o).type,c=>w(o,e(o).type=c)),j(Se,()=>e(o).category,c=>w(o,e(o).category=c)),te($,()=>e(o).sub_category,c=>w(o,e(o).sub_category=c)),te(F,()=>e(o).description,c=>w(o,e(o).description=c)),te(W,()=>e(o).participant,c=>w(o,e(o).participant=c)),j(De,()=>e(o).frequency,c=>w(o,e(o).frequency=c)),j(Q,()=>e(o).time_of_day,c=>w(o,e(o).time_of_day=c)),j(re,()=>e(o).alert_type,c=>w(o,e(o).alert_type=c)),te(oe,()=>e(o).location,c=>w(o,e(o).location=c)),Z("click",H,Ye),Z("submit",T,Ct(Qe)),x(s,i)};ee(lt,s=>{e(K)&&s(it)})}Z("click",ye,()=>{p(K,!0),p(f,null),ue()}),te(Re,()=>e(A),s=>p(A,s)),j(Ae,()=>e(S),s=>p(S,s)),j(qe,()=>e(D),s=>p(D,s)),x(Je,Pe),xt()}export{Xt as component};
