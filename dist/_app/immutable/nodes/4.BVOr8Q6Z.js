import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as wt}from"../chunks/Dl7RRJWM.js";import{p as At,l as ge,d as Pt,e as w,h as It,f as Ct,t as p,i as a,j as oe,g as e,a as x,b as St,m as h,$ as $t,k as r,s as v,n as le,r as t,o as M,u as d,q as u,v as Xe,w as qt,x as Ye,y,z as Tt,A as kt}from"../chunks/6uIj5N_2.js";import{i as B}from"../chunks/Dvp2nKH1.js";import{e as be,i as me}from"../chunks/D27cKp0K.js";import{b as D,r as ie}from"../chunks/CuqaNdSY.js";import{c as Lt,s as Mt}from"../chunks/DtCY3ta1.js";import{b as E}from"../chunks/DgriDnSR.js";import{p as Dt}from"../chunks/Bfc47y5P.js";import{i as Et}from"../chunks/CRscWiiN.js";import{I as A}from"../chunks/BHUeFzQU.js";import{s as fe}from"../chunks/BesrdQ_8.js";var Ft=w("<option> </option>"),Nt=w("<option> </option>"),jt=w('<p class="text-sm"><strong>Trigger Time:</strong> </p>'),Ot=w('<p class="text-sm"><strong>Location:</strong> <!></p>'),Ut=w('<p class="text-sm"><strong>Conditions:</strong> </p>'),Wt=w('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex justify-between items-start"><div class="flex-1"><h3 class="card-title text-lg"> </h3> <div class="flex flex-wrap gap-2 mt-2"><span class="badge badge-primary"> </span> <span class="badge badge-secondary"> </span> <span class="badge badge-outline flex items-center gap-1"> </span></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-32"><li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="mt-4 space-y-2"><!> <!> <!> <div class="flex justify-between items-center pt-2"><span class="text-sm text-base-content/60">Sound: <span> </span></span> <!></div></div></div></div>'),zt=w('<div class="mb-8"><h2 class="text-2xl font-semibold mb-4 text-base-content flex items-center gap-2"><!> <span class="badge badge-primary badge-sm"> </span></h2> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>'),Ht=w('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No AI prompts found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),Qt=w('<div class="modal modal-open"><div class="modal-box max-w-2xl"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Alert</option><option>Notes</option><option>Checklist</option><option>Query</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>SMS</option><option>Email</option><option>Phone</option><option>Calendar Schedule</option><option>WhatsApp</option><option>Alarm</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Purpose *</span></label> <textarea placeholder="What is this prompt for..." class="textarea textarea-bordered" required rows="3"></textarea></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Trigger Time</span></label> <input type="time" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Frequency *</span></label> <select class="select select-bordered" required><option>Once</option><option>Daily</option><option>Weekly</option><option>Monthly</option><option>Custom</option></select></div></div> <div class="space-y-4"><h4 class="font-semibold">Location Trigger (Optional)</h4> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Latitude</span></label> <input type="number" step="0.000001" placeholder="-90 to 90" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Longitude</span></label> <input type="number" step="0.000001" placeholder="-180 to 180" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Radius (meters)</span></label> <input type="number" placeholder="100" class="input input-bordered"/></div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Sound Type *</span></label> <select class="select select-bordered" required><option>Positive</option><option>Negative</option><option>Alarming</option><option>Pleasant</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Volume Level *</span></label> <select class="select select-bordered" required><option>Low</option><option>Medium</option><option>High</option><option>Adaptive</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Conditions</span></label> <textarea placeholder="Additional conditions for triggering..." class="textarea textarea-bordered" rows="2"></textarea></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),Vt=w('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> AI Prompts Management</h1> <p class="text-base-content/70 mt-1">Configure AI-driven alerts, notes, checklists, and queries</p></div> <button class="btn btn-primary"><!> Add AI Prompt</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search AI prompts..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div></div></div> <!> <!></div></div> <!>',1);function oa(Ze,et){At(et,!1);const G=h(),xe=h(),he=h(),ye=h();let P=h([]),J=h(!1),f=h(null),I=h(""),C=h(""),S=h(""),o=h({type:"Alert",category:"SMS",purpose:"",trigger_time:"",trigger_location_lat:"",trigger_location_lng:"",trigger_radius_meters:"",frequency:"Once",sound_type:"Positive",volume_level:"Medium",conditions:""});wt(async()=>{await we()});async function we(){try{v(P,await fe.getAIPrompts())}catch(s){console.error("Error loading AI prompts:",s)}}function Ae(){v(o,{type:"Alert",category:"SMS",purpose:"",trigger_time:"",trigger_location_lat:"",trigger_location_lng:"",trigger_radius_meters:"",frequency:"Once",sound_type:"Positive",volume_level:"Medium",conditions:""})}async function tt(){try{const s={...e(o),id:e(f)?e(f).id:crypto.randomUUID(),trigger_location_lat:e(o).trigger_location_lat?parseFloat(e(o).trigger_location_lat):null,trigger_location_lng:e(o).trigger_location_lng?parseFloat(e(o).trigger_location_lng):null,trigger_radius_meters:e(o).trigger_radius_meters?parseInt(e(o).trigger_radius_meters):null,created_at:e(f)?e(f).created_at:new Date().toISOString()};e(f)?await fe.updateAIPrompt(s):await fe.saveAIPrompt(s),await we(),v(J,!1),v(f,null),Ae()}catch(s){console.error("Error saving AI prompt:",s)}}function at(s){v(f,s),v(o,{...s}),v(J,!0)}async function rt(s){if(confirm(`Delete "${s.purpose}"?`))try{await fe.deleteAIPrompt(s.id),await we()}catch(i){console.error("Error deleting AI prompt:",i)}}function st(){v(J,!1),v(f,null),Ae()}function Oe(s){switch(s){case"Alert":return"heroicons:exclamation-triangle";case"Notes":return"heroicons:document-text";case"Checklist":return"heroicons:check-circle";case"Query":return"heroicons:question-mark-circle";default:return"heroicons:cpu-chip"}}function ot(s){switch(s){case"Positive":return"text-green-600";case"Negative":return"text-red-600";case"Alarming":return"text-orange-600";case"Pleasant":return"text-blue-600";default:return"text-base-content"}}function lt(s){return{Low:"🔈",Medium:"🔉",High:"🔊",Adaptive:"🎚️"}[s]||"🔊"}ge(()=>(e(P),e(I),e(C),e(S)),()=>{v(G,e(P).filter(s=>{const i=!e(I)||s.purpose.toLowerCase().includes(e(I).toLowerCase())||s.conditions&&s.conditions.toLowerCase().includes(e(I).toLowerCase()),c=!e(C)||s.type===e(C),_=!e(S)||s.category===e(S);return i&&c&&_}))}),ge(()=>e(P),()=>{v(xe,[...new Set(e(P).map(s=>s.type))])}),ge(()=>e(P),()=>{v(he,[...new Set(e(P).map(s=>s.category))])}),ge(()=>e(G),()=>{v(ye,e(G).reduce((s,i)=>(s[i.type]||(s[i.type]=[]),s[i.type].push(i),s),{}))}),Pt(),Et();var Ue=Vt();It(s=>{$t.title="AI Prompts - Divine-Nest"});var Pe=Ct(Ue),We=a(Pe),Ie=a(We),Ce=a(Ie),ze=a(Ce),it=a(ze);A(it,{icon:"heroicons:cpu-chip",class:"w-8 h-8"}),le(),t(ze),le(2),t(Ce);var Se=r(Ce,2),nt=a(Se);A(nt,{icon:"heroicons:plus",class:"w-5 h-5"}),le(),t(Se),t(Ie);var $e=r(Ie,2),He=a($e),qe=a(He),Qe=r(a(qe),2);ie(Qe),t(qe);var Te=r(qe,2),ke=r(a(Te),2);p(()=>{e(C),M(()=>{e(xe)})});var Le=a(ke);Le.value=Le.__value="";var ct=r(Le);be(ct,1,()=>e(xe),me,(s,i)=>{var c=Ft(),_=a(c,!0);t(c);var b={};p(()=>{u(_,e(i)),b!==(b=e(i))&&(c.value=(c.__value=e(i))??"")}),x(s,c)}),t(ke),t(Te);var Ve=r(Te,2),Me=r(a(Ve),2);p(()=>{e(S),M(()=>{e(he)})});var De=a(Me);De.value=De.__value="";var dt=r(De);be(dt,1,()=>e(he),me,(s,i)=>{var c=Nt(),_=a(c,!0);t(c);var b={};p(()=>{u(_,e(i)),b!==(b=e(i))&&(c.value=(c.__value=e(i))??"")}),x(s,c)}),t(Me),t(Ve),t(He),t($e);var Re=r($e,2);be(Re,1,()=>(e(ye),d(()=>Object.entries(e(ye)))),me,(s,i)=>{var c=qt(()=>Tt(e(i),2));let _=()=>e(c)[0],b=()=>e(c)[1];var $=zt(),q=a($),F=a(q);{let j=Xe(()=>(_(),d(()=>Oe(_()))));A(F,{get icon(){return e(j)},class:"w-6 h-6"})}var ne=r(F),K=r(ne),Ee=a(K,!0);t(K),t(q);var N=r(q,2);be(N,5,b,me,(j,l)=>{var T=Wt(),X=a(T),O=a(X),Y=a(O),k=a(Y),ce=a(k,!0);t(k);var U=r(k,2),W=a(U),Z=a(W,!0);t(W);var z=r(W,2),de=a(z,!0);t(z);var ee=r(z,2),te=a(ee);t(ee),t(U),t(Y);var H=r(Y,2),ae=a(H),ve=a(ae);A(ve,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),t(ae);var pe=r(ae,2),L=a(pe),Q=a(L),_e=a(Q);A(_e,{icon:"heroicons:pencil",class:"w-4 h-4"}),le(),t(Q),t(L);var re=r(L,2),V=a(re),Fe=a(V);A(Fe,{icon:"heroicons:trash",class:"w-4 h-4"}),le(),t(V),t(re),t(pe),t(H),t(O);var n=r(O,2),Be=a(n);{var gt=g=>{var m=jt(),R=r(a(m));t(m),p(()=>u(R,` ${e(l),d(()=>e(l).trigger_time)??""}`)),x(g,m)};B(Be,g=>{e(l),d(()=>e(l).trigger_time)&&g(gt)})}var Ge=r(Be,2);{var bt=g=>{var m=Ot(),R=r(a(m)),ht=r(R);{var yt=se=>{var ue=kt();p(()=>u(ue,`(${e(l),d(()=>e(l).trigger_radius_meters)??""}m radius)`)),x(se,ue)};B(ht,se=>{e(l),d(()=>e(l).trigger_radius_meters)&&se(yt)})}t(m),p((se,ue)=>u(R,` ${se??""}, ${ue??""} `),[()=>(e(l),d(()=>e(l).trigger_location_lat.toFixed(4))),()=>(e(l),d(()=>e(l).trigger_location_lng.toFixed(4)))]),x(g,m)};B(Ge,g=>{e(l),d(()=>e(l).trigger_location_lat&&e(l).trigger_location_lng)&&g(bt)})}var Je=r(Ge,2);{var mt=g=>{var m=Ut(),R=r(a(m));t(m),p(()=>u(R,` ${e(l),d(()=>e(l).conditions)??""}`)),x(g,m)};B(Je,g=>{e(l),d(()=>e(l).conditions)&&g(mt)})}var Ke=r(Je,2),Ne=a(Ke),je=r(a(Ne)),ft=a(je,!0);t(je),t(Ne);var xt=r(Ne,2);{let g=Xe(()=>(e(l),d(()=>Oe(e(l).type))));A(xt,{get icon(){return e(g)},class:"w-5 h-5 text-primary"})}t(Ke),t(n),t(X),t(T),p((g,m)=>{u(ce,(e(l),d(()=>e(l).purpose))),u(Z,(e(l),d(()=>e(l).category))),u(de,(e(l),d(()=>e(l).frequency))),u(te,`${g??""}
                        ${e(l),d(()=>e(l).volume_level)??""}`),Mt(je,1,m),u(ft,(e(l),d(()=>e(l).sound_type)))},[()=>(e(l),d(()=>lt(e(l).volume_level))),()=>Lt((e(l),d(()=>ot(e(l).sound_type))))]),oe("click",Q,()=>at(e(l))),oe("click",V,()=>rt(e(l))),x(j,T)}),t(N),t($),p(()=>{u(ne,` ${_()??""} Prompts `),u(Ee,(b(),d(()=>b().length)))}),x(s,$)});var vt=r(Re,2);{var pt=s=>{var i=Ht(),c=a(i);A(c,{icon:"heroicons:cpu-chip",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var _=r(c,4),b=a(_,!0);t(_),t(i),p(()=>u(b,e(I)||e(C)||e(S)?"Try adjusting your filters":"Add your first AI prompt to get started")),x(s,i)};B(vt,s=>{e(G),d(()=>e(G).length===0)&&s(pt)})}t(We),t(Pe);var _t=r(Pe,2);{var ut=s=>{var i=Qt(),c=a(i),_=a(c),b=a(_,!0);t(_);var $=r(_,2),q=a($),F=a(q),ne=r(a(F),2);p(()=>{e(o),M(()=>{})}),t(F);var K=r(F,2),Ee=r(a(K),2);p(()=>{e(o),M(()=>{})}),t(K),t(q);var N=r(q,2),j=r(a(N),2);Ye(j),t(N);var l=r(N,2),T=a(l),X=r(a(T),2);ie(X),t(T);var O=r(T,2),Y=r(a(O),2);p(()=>{e(o),M(()=>{})}),t(O),t(l);var k=r(l,2),ce=r(a(k),2),U=a(ce),W=r(a(U),2);ie(W),t(U);var Z=r(U,2),z=r(a(Z),2);ie(z),t(Z);var de=r(Z,2),ee=r(a(de),2);ie(ee),t(de),t(ce),t(k);var te=r(k,2),H=a(te),ae=r(a(H),2);p(()=>{e(o),M(()=>{})}),t(H);var ve=r(H,2),pe=r(a(ve),2);p(()=>{e(o),M(()=>{})}),t(ve),t(te);var L=r(te,2),Q=r(a(L),2);Ye(Q),t(L);var _e=r(L,2),re=a(_e),V=r(re,2),Fe=a(V);t(V),t(_e),t($),t(c),t(i),p(()=>{u(b,e(f)?"Edit AI Prompt":"Add New AI Prompt"),u(Fe,`${e(f)?"Update":"Add"} AI Prompt`)}),D(ne,()=>e(o).type,n=>y(o,e(o).type=n)),D(Ee,()=>e(o).category,n=>y(o,e(o).category=n)),E(j,()=>e(o).purpose,n=>y(o,e(o).purpose=n)),E(X,()=>e(o).trigger_time,n=>y(o,e(o).trigger_time=n)),D(Y,()=>e(o).frequency,n=>y(o,e(o).frequency=n)),E(W,()=>e(o).trigger_location_lat,n=>y(o,e(o).trigger_location_lat=n)),E(z,()=>e(o).trigger_location_lng,n=>y(o,e(o).trigger_location_lng=n)),E(ee,()=>e(o).trigger_radius_meters,n=>y(o,e(o).trigger_radius_meters=n)),D(ae,()=>e(o).sound_type,n=>y(o,e(o).sound_type=n)),D(pe,()=>e(o).volume_level,n=>y(o,e(o).volume_level=n)),E(Q,()=>e(o).conditions,n=>y(o,e(o).conditions=n)),oe("click",re,st),oe("submit",$,Dt(tt)),x(s,i)};B(_t,s=>{e(J)&&s(ut)})}oe("click",Se,()=>{v(J,!0),v(f,null),Ae()}),E(Qe,()=>e(I),s=>v(I,s)),D(ke,()=>e(C),s=>v(C,s)),D(Me,()=>e(S),s=>v(S,s)),x(Ze,Ue),St()}export{oa as component};
