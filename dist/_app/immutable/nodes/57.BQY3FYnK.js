import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as Aa}from"../chunks/Dl7RRJWM.js";import{p as Ia,m as y,l as ue,d as Ma,e as g,h as qa,f as Be,t as v,i as t,j as se,g as e,a as _,b as Pa,$ as Va,k as s,s as p,n as re,r as a,o as J,u as n,q as b,v as Na,w as $a,x as ja,y as w,z as Ea,c as Ze}from"../chunks/6uIj5N_2.js";import{i as q}from"../chunks/Dvp2nKH1.js";import{e as _e,i as be}from"../chunks/D27cKp0K.js";import{b as K,r as ie,a as le}from"../chunks/CuqaNdSY.js";import{c as Oa,s as Ra}from"../chunks/DtCY3ta1.js";import{b as Q}from"../chunks/DgriDnSR.js";import{p as Ba}from"../chunks/Bfc47y5P.js";import{i as Ua}from"../chunks/CRscWiiN.js";import{I as P}from"../chunks/BHUeFzQU.js";import{s as me}from"../chunks/BesrdQ_8.js";var Ha=g("<option> </option>"),Wa=g("<option> </option>"),za=g('<p class="text-sm"><strong>Location:</strong> </p>'),Ga=g('<img class="w-full h-32 object-cover rounded-lg"/>'),Ja=g('<video controls class="w-full h-32 rounded-lg"><source type="video/mp4"/></video>',2),Ka=g('<audio controls class="w-full"><source type="audio/mpeg"/></audio>'),Qa=g('<a target="_blank" class="link link-primary"> </a>'),Xa=g('<div class="mt-2"><!></div>'),Ya=g('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex justify-between items-start"><div class="flex-1"><h3 class="card-title text-lg"> </h3> <div class="flex flex-wrap gap-2 mt-2"><span class="badge badge-primary"> </span> <span class="badge badge-secondary"> </span> <span> </span></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-32"><li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="mt-4 space-y-2"><p class="text-sm"> </p> <!> <p class="text-sm"><strong>Date:</strong> </p> <!></div></div></div>'),Za=g('<div class="mb-8"><h2 class="text-2xl font-semibold mb-4 text-base-content flex items-center gap-2"><!> <span class="badge badge-primary badge-sm"> </span></h2> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>'),et=g('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No family items found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),at=g('<div class="modal modal-open"><div class="modal-box max-w-2xl"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Nuclear</option><option>Joined</option><option>Independent</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>Profile</option><option>Wisdom</option><option>Heritage</option><option>Tradition</option><option>Stories</option><option>Legacy</option><option>Success</option><option>Achievements</option><option>Certifications</option><option>Photos</option><option>Videos</option><option>Life Lessons</option><option>Rules</option><option>Virtues</option><option>Memories</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Sub Category *</span></label> <select class="select select-bordered" required><option>Members</option><option>Relatives</option><option>Friends</option><option>Neighbours</option><option>Life Lessons</option><option>Stories</option><option>Virtues</option><option>Legacy</option><option>Family Line</option><option>Traditions</option><option>Festivals</option><option>Celebrations</option><option>Certifications</option><option>Awards</option><option>Rewards</option><option>Success</option><option>Strict Guidelines</option><option>Mistakes to Avoid</option><option>Habits to Avoid</option><option>To Dos</option><option>Not To Dos</option><option>Occasions</option><option>Rituals</option><option>Functions</option><option>Moments</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Title *</span></label> <input type="text" placeholder="Item title..." class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Description *</span></label> <textarea placeholder="Detailed description..." class="textarea textarea-bordered" required rows="4"></textarea></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Date & Time *</span></label> <input type="datetime-local" class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Location</span></label> <input type="text" placeholder="Where it happened..." class="input input-bordered"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Media Type *</span></label> <select class="select select-bordered" required><option>Blog</option><option>Audio</option><option>Photo</option><option>Video</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Media URL</span></label> <input type="url" placeholder="https://..." class="input input-bordered"/></div></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),tt=g('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> Family Management</h1> <p class="text-base-content/70 mt-1">Document family history, wisdom, traditions, and memories</p></div> <button class="btn btn-primary"><!> Add Family Item</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search family items..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div></div></div> <!> <!></div></div> <!>',1);function mt(ea,aa){Ia(aa,!1);const X=y(),ge=y(),fe=y(),ye=y();let L=y([]),Y=y(!1),f=y(null),F=y(""),C=y(""),D=y(""),i=y({type:"Nuclear",category:"Profile",sub_category:"Members",title:"",description:"",date_time:new Date().toISOString().slice(0,16),location:"",media_type:"Blog",media_url:""});Aa(async()=>{await he()});async function he(){try{p(L,await me.getFamily())}catch(o){console.error("Error loading family:",o)}}function xe(){p(i,{type:"Nuclear",category:"Profile",sub_category:"Members",title:"",description:"",date_time:new Date().toISOString().slice(0,16),location:"",media_type:"Blog",media_url:""})}async function ta(){try{const o={...e(i),id:e(f)?e(f).id:crypto.randomUUID(),created_by:"current_user",created_at:e(f)?e(f).created_at:new Date().toISOString()};e(f)?await me.updateFamily(o):await me.saveFamily(o),await he(),p(Y,!1),p(f,null),xe()}catch(o){console.error("Error saving family:",o)}}function oa(o){p(f,o),p(i,{...o,date_time:new Date(o.date_time).toISOString().slice(0,16)}),p(Y,!0)}async function sa(o){if(confirm(`Delete "${o.title}"?`))try{await me.deleteFamily(o.id),await he()}catch(l){console.error("Error deleting family:",l)}}function ra(){p(Y,!1),p(f,null),xe()}function ia(o){switch(o){case"Profile":return"heroicons:user-group";case"Wisdom":return"heroicons:light-bulb";case"Heritage":return"heroicons:sparkles";case"Tradition":return"heroicons:fire";case"Stories":return"heroicons:book-open";case"Legacy":return"heroicons:trophy";case"Success":return"heroicons:check-circle";case"Achievements":return"heroicons:star";case"Certifications":return"heroicons:academic-cap";case"Photos":return"heroicons:photo";case"Videos":return"heroicons:video-camera";case"Life Lessons":return"heroicons:heart";case"Rules":return"heroicons:shield-check";case"Virtues":return"heroicons:sparkles";case"Memories":return"heroicons:clock";default:return"heroicons:home"}}function la(o){switch(o){case"Blog":return"badge-primary";case"Audio":return"badge-secondary";case"Photo":return"badge-accent";case"Video":return"badge-neutral";default:return"badge-ghost"}}ue(()=>(e(L),e(F),e(C),e(D)),()=>{p(X,e(L).filter(o=>{const l=!e(F)||o.title.toLowerCase().includes(e(F).toLowerCase())||o.description.toLowerCase().includes(e(F).toLowerCase())||o.sub_category.toLowerCase().includes(e(F).toLowerCase()),c=!e(C)||o.category===e(C),u=!e(D)||o.type===e(D);return l&&c&&u}))}),ue(()=>e(L),()=>{p(ge,[...new Set(e(L).map(o=>o.category))])}),ue(()=>e(L),()=>{p(fe,[...new Set(e(L).map(o=>o.type))])}),ue(()=>e(X),()=>{p(ye,e(X).reduce((o,l)=>(o[l.category]||(o[l.category]=[]),o[l.category].push(l),o),{}))}),Ma(),Ua();var Ue=tt();qa(o=>{Va.title="Family - Divine-Nest"});var we=Be(Ue),He=t(we),Fe=t(He),Se=t(Fe),We=t(Se),na=t(We);P(na,{icon:"heroicons:home",class:"w-8 h-8"}),re(),a(We),re(2),a(Se);var Le=s(Se,2),ca=t(Le);P(ca,{icon:"heroicons:plus",class:"w-5 h-5"}),re(),a(Le),a(Fe);var Ce=s(Fe,2),ze=t(Ce),De=t(ze),Ge=s(t(De),2);ie(Ge),a(De);var ke=s(De,2),Te=s(t(ke),2);v(()=>{e(C),J(()=>{e(ge)})});var Ae=t(Te);Ae.value=Ae.__value="";var da=s(Ae);_e(da,1,()=>e(ge),be,(o,l)=>{var c=Ha(),u=t(c,!0);a(c);var m={};v(()=>{b(u,e(l)),m!==(m=e(l))&&(c.value=(c.__value=e(l))??"")}),_(o,c)}),a(Te),a(ke);var Je=s(ke,2),Ie=s(t(Je),2);v(()=>{e(D),J(()=>{e(fe)})});var Me=t(Ie);Me.value=Me.__value="";var pa=s(Me);_e(pa,1,()=>e(fe),be,(o,l)=>{var c=Wa(),u=t(c,!0);a(c);var m={};v(()=>{b(u,e(l)),m!==(m=e(l))&&(c.value=(c.__value=e(l))??"")}),_(o,c)}),a(Ie),a(Je),a(ze),a(Ce);var Ke=s(Ce,2);_e(Ke,1,()=>(e(ye),n(()=>Object.entries(e(ye)))),be,(o,l)=>{var c=$a(()=>Ea(e(l),2));let u=()=>e(c)[0],m=()=>e(c)[1];var k=Za(),T=t(k),V=t(T);{let ee=Na(()=>(u(),n(()=>ia(u()))));P(V,{get icon(){return e(ee)},class:"w-6 h-6"})}var ne=s(V),Z=s(ne),qe=t(Z,!0);a(Z),a(T);var N=s(T,2);_e(N,5,m,be,(ee,r)=>{var $=Ya(),j=t($),E=t(j),A=t(E),I=t(A),ce=t(I,!0);a(I);var ae=s(I,2),O=t(ae),te=t(O,!0);a(O);var M=s(O,2),Pe=t(M,!0);a(M);var R=s(M,2),de=t(R,!0);a(R),a(ae),a(A);var oe=s(A,2),B=t(oe),pe=t(B);P(pe,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),a(B);var ve=s(B,2),d=t(ve),Ve=t(d),ma=t(Ve);P(ma,{icon:"heroicons:pencil",class:"w-4 h-4"}),re(),a(Ve),a(d);var Qe=s(d,2),Ne=t(Qe),ga=t(Ne);P(ga,{icon:"heroicons:trash",class:"w-4 h-4"}),re(),a(Ne),a(Qe),a(ve),a(oe),a(E);var Xe=s(E,2),$e=t(Xe),fa=t($e,!0);a($e);var Ye=s($e,2);{var ya=h=>{var x=za(),Ee=s(t(x));a(x),v(()=>b(Ee,` ${e(r),n(()=>e(r).location)??""}`)),_(h,x)};q(Ye,h=>{e(r),n(()=>e(r).location)&&h(ya)})}var je=s(Ye,2),ha=s(t(je));a(je);var xa=s(je,2);{var wa=h=>{var x=Xa(),Ee=t(x);{var Fa=U=>{var H=Ga();v(()=>{le(H,"src",(e(r),n(()=>e(r).media_url))),le(H,"alt",(e(r),n(()=>e(r).title)))}),_(U,H)},Sa=U=>{var H=Ze(),La=Be(H);{var Ca=W=>{var z=Ja(),Oe=t(z);a(z),v(()=>le(Oe,"src",(e(r),n(()=>e(r).media_url)))),_(W,z)},Da=W=>{var z=Ze(),Oe=Be(z);{var ka=G=>{var S=Ka(),Re=t(S);a(S),v(()=>le(Re,"src",(e(r),n(()=>e(r).media_url)))),_(G,S)},Ta=G=>{var S=Qa(),Re=t(S);a(S),v(()=>{le(S,"href",(e(r),n(()=>e(r).media_url))),b(Re,`View ${e(r),n(()=>e(r).media_type)??""}`)}),_(G,S)};q(Oe,G=>{e(r),n(()=>e(r).media_type==="Audio")?G(ka):G(Ta,!1)},!0)}_(W,z)};q(La,W=>{e(r),n(()=>e(r).media_type==="Video")?W(Ca):W(Da,!1)},!0)}_(U,H)};q(Ee,U=>{e(r),n(()=>e(r).media_type==="Photo")?U(Fa):U(Sa,!1)})}a(x),_(h,x)};q(xa,h=>{e(r),n(()=>e(r).media_url)&&h(wa)})}a(Xe),a(j),a($),v((h,x)=>{b(ce,(e(r),n(()=>e(r).title))),b(te,(e(r),n(()=>e(r).type))),b(Pe,(e(r),n(()=>e(r).sub_category))),Ra(R,1,h),b(de,(e(r),n(()=>e(r).media_type))),b(fa,(e(r),n(()=>e(r).description))),b(ha,` ${x??""}`)},[()=>Oa((e(r),n(()=>la(e(r).media_type)))),()=>(e(r),n(()=>new Date(e(r).date_time).toLocaleString()))]),se("click",Ve,()=>oa(e(r))),se("click",Ne,()=>sa(e(r))),_(ee,$)}),a(N),a(k),v(()=>{b(ne,` ${u()??""} `),b(qe,(m(),n(()=>m().length)))}),_(o,k)});var va=s(Ke,2);{var ua=o=>{var l=et(),c=t(l);P(c,{icon:"heroicons:home",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var u=s(c,4),m=t(u,!0);a(u),a(l),v(()=>b(m,e(F)||e(C)||e(D)?"Try adjusting your filters":"Add your first family item to get started")),_(o,l)};q(va,o=>{e(X),n(()=>e(X).length===0)&&o(ua)})}a(He),a(we);var _a=s(we,2);{var ba=o=>{var l=at(),c=t(l),u=t(c),m=t(u,!0);a(u);var k=s(u,2),T=t(k),V=t(T),ne=s(t(V),2);v(()=>{e(i),J(()=>{})}),a(V);var Z=s(V,2),qe=s(t(Z),2);v(()=>{e(i),J(()=>{})}),a(Z),a(T);var N=s(T,2),ee=s(t(N),2);v(()=>{e(i),J(()=>{})}),a(N);var r=s(N,2),$=s(t(r),2);ie($),a(r);var j=s(r,2),E=s(t(j),2);ja(E),a(j);var A=s(j,2),I=t(A),ce=s(t(I),2);ie(ce),a(I);var ae=s(I,2),O=s(t(ae),2);ie(O),a(ae),a(A);var te=s(A,2),M=t(te),Pe=s(t(M),2);v(()=>{e(i),J(()=>{})}),a(M);var R=s(M,2),de=s(t(R),2);ie(de),a(R),a(te);var oe=s(te,2),B=t(oe),pe=s(B,2),ve=t(pe);a(pe),a(oe),a(k),a(c),a(l),v(()=>{b(m,e(f)?"Edit Family Item":"Add New Family Item"),b(ve,`${e(f)?"Update":"Add"} Family Item`)}),K(ne,()=>e(i).type,d=>w(i,e(i).type=d)),K(qe,()=>e(i).category,d=>w(i,e(i).category=d)),K(ee,()=>e(i).sub_category,d=>w(i,e(i).sub_category=d)),Q($,()=>e(i).title,d=>w(i,e(i).title=d)),Q(E,()=>e(i).description,d=>w(i,e(i).description=d)),Q(ce,()=>e(i).date_time,d=>w(i,e(i).date_time=d)),Q(O,()=>e(i).location,d=>w(i,e(i).location=d)),K(Pe,()=>e(i).media_type,d=>w(i,e(i).media_type=d)),Q(de,()=>e(i).media_url,d=>w(i,e(i).media_url=d)),se("click",B,ra),se("submit",k,Ba(ta)),_(o,l)};q(_a,o=>{e(Y)&&o(ba)})}se("click",Le,()=>{p(Y,!0),p(f,null),xe()}),Q(Ge,()=>e(F),o=>p(F,o)),K(Te,()=>e(C),o=>p(C,o)),K(Ie,()=>e(D),o=>p(D,o)),_(ea,Ue),Pa()}export{mt as component};
