import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as oa}from"../chunks/Dl7RRJWM.js";import{p as sa,l as se,d as la,e as x,h as na,f as ia,t as b,i as t,j as J,g as e,a as h,b as ca,m,$ as da,k as s,s as d,n as W,r as a,o as X,u as p,q as u,y as S}from"../chunks/6uIj5N_2.js";import{i as A}from"../chunks/Dvp2nKH1.js";import{e as qe,i as Ce}from"../chunks/D27cKp0K.js";import{b as Y,r as N}from"../chunks/CuqaNdSY.js";import{b as O}from"../chunks/DgriDnSR.js";import{p as va}from"../chunks/Bfc47y5P.js";import{i as pa}from"../chunks/CRscWiiN.js";import{I as F}from"../chunks/BHUeFzQU.js";import{s as le}from"../chunks/BesrdQ_8.js";var _a=x("<option> </option>"),ba=x("<option> </option>"),ua=x('<span class="badge badge-warning badge-sm ml-2">Low Stock</span>'),ga=x('<div class="flex justify-between items-center"><span class="text-sm">Restock at:</span> <span class="text-sm text-warning"> </span></div>'),ya=x('<p class="text-sm"><strong>Location:</strong> </p>'),fa=x('<p class="text-sm"><strong>Vendor:</strong> </p>'),ha=x('<div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow"><div class="card-body"><div class="flex justify-between items-start"><div class="flex-1"><h3 class="card-title text-lg"> <!></h3> <div class="flex flex-wrap gap-2 mt-2"><span class="badge badge-primary"> </span> <span class="badge badge-secondary"> </span></div></div> <div class="dropdown dropdown-left"><label tabindex="0" class="btn btn-ghost btn-sm"><!></label> <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-32"><li><a><!> Edit</a></li> <li><a class="text-error"><!> Delete</a></li></ul></div></div> <div class="mt-4 space-y-2"><div class="flex justify-between items-center"><span class="text-sm font-medium">Quantity:</span> <span class="text-lg font-bold text-primary"> </span></div> <!> <!> <!> <p class="text-xs text-base-content/60"> </p></div></div></div>'),ma=x('<div class="text-center py-12"><!> <h3 class="text-xl font-semibold text-base-content/70">No inventory items found</h3> <p class="text-base-content/50 mt-2"> </p></div>'),xa=x('<div class="alert alert-warning mt-6"><!> <div><h3 class="font-bold">Low Stock Alert!</h3> <p> </p></div></div>'),wa=x('<div class="modal modal-open"><div class="modal-box max-w-lg"><h3 class="font-bold text-lg mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Type *</span></label> <select class="select select-bordered" required><option>Food Ingredient</option><option>Grocery</option><option>Toiletry</option><option>Pooja Item</option><option>Other</option></select></div> <div class="form-control"><label class="label"><span class="label-text">Category *</span></label> <select class="select select-bordered" required><option>Dry Goods</option><option>Fresh Produce</option><option>Spices</option><option>Cleaning</option><option>Personal Care</option><option>Ritual Supplies</option></select></div></div> <div class="form-control"><label class="label"><span class="label-text">Sub Category</span></label> <input type="text" placeholder="e.g., Rice, Tomatoes, Soap..." class="input input-bordered"/></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Quantity Available *</span></label> <input type="number" step="0.01" placeholder="0.00" class="input input-bordered" required/></div> <div class="form-control"><label class="label"><span class="label-text">Unit *</span></label> <select class="select select-bordered" required><option>kg</option><option>g</option><option>litre</option><option>ml</option><option>pieces</option><option>packets</option></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Restock Threshold</span></label> <input type="number" step="0.01" placeholder="Minimum quantity to trigger alert" class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Location</span></label> <input type="text" placeholder="e.g., Kitchen shelf, Pantry..." class="input input-bordered"/></div></div> <div class="form-control"><label class="label"><span class="label-text">Preferred Vendor</span></label> <input type="text" placeholder="e.g., Local market, Big Bazaar..." class="input input-bordered"/></div> <div class="modal-action"><button type="button" class="btn">Cancel</button> <button type="submit" class="btn btn-primary"> </button></div></form></div></div>'),Ia=x('<div class="min-h-screen bg-base-200 p-4"><div class="max-w-7xl mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"><div><h1 class="text-3xl font-bold text-primary flex items-center gap-2"><!> Inventory Management</h1> <p class="text-base-content/70 mt-1">Track household supplies, groceries, and essentials</p></div> <button class="btn btn-primary"><!> Add Item</button></div> <div class="bg-base-100 rounded-lg p-4 mb-6 shadow"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="form-control"><label class="label"><span class="label-text">Search</span></label> <input type="text" placeholder="Search inventory..." class="input input-bordered"/></div> <div class="form-control"><label class="label"><span class="label-text">Type</span></label> <select class="select select-bordered"><option>All Types</option><!></select></div> <div class="form-control"><label class="label"><span class="label-text">Category</span></label> <select class="select select-bordered"><option>All Categories</option><!></select></div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!> <!></div></div> <!>',1);function Pa(Ue,Ge){sa(Ge,!1);const Z=m(),ne=m(),ie=m(),q=m();let y=m([]),z=m(!1),f=m(null),k=m(""),C=m(""),$=m(""),l=m({type:"Food Ingredient",category:"Dry Goods",sub_category:"",quantity_available:"",unit:"kg",location:"",restock_threshold:"",preferred_vendor:""});oa(async()=>{await ce()});async function ce(){try{d(y,await le.getInventoryItems())}catch(o){console.error("Error loading inventory:",o)}}function de(){d(l,{type:"Food Ingredient",category:"Dry Goods",sub_category:"",quantity_available:"",unit:"kg",location:"",restock_threshold:"",preferred_vendor:""})}async function Me(){try{const o={...e(l),id:e(f)?e(f).id:crypto.randomUUID(),quantity_available:parseFloat(e(l).quantity_available),restock_threshold:e(l).restock_threshold?parseFloat(e(l).restock_threshold):null,last_updated:new Date().toISOString(),added_by:"current_user",created_at:e(f)?e(f).created_at:new Date().toISOString()};e(f)?await le.updateInventoryItem(o):await le.saveInventoryItem(o),await ce(),d(z,!1),d(f,null),de()}catch(o){console.error("Error saving inventory item:",o)}}function Ne(o){d(f,o),d(l,{...o}),d(z,!0)}async function Oe(o){if(confirm(`Delete "${o.sub_category||o.category}"?`))try{await le.deleteInventoryItem(o.id),await ce()}catch(r){console.error("Error deleting inventory item:",r)}}function ze(){d(z,!1),d(f,null),de()}se(()=>(e(y),e(k),e(C),e($)),()=>{d(Z,e(y).filter(o=>{const r=!e(k)||o.sub_category&&o.sub_category.toLowerCase().includes(e(k).toLowerCase())||o.category.toLowerCase().includes(e(k).toLowerCase())||o.type.toLowerCase().includes(e(k).toLowerCase()),n=!e(C)||o.type===e(C),i=!e($)||o.category===e($);return r&&n&&i}))}),se(()=>e(y),()=>{d(ne,[...new Set(e(y).map(o=>o.type))])}),se(()=>e(y),()=>{d(ie,[...new Set(e(y).map(o=>o.category))])}),se(()=>{},()=>{d(q,o=>o.restock_threshold&&o.quantity_available<=o.restock_threshold)}),la(),pa();var $e=Ia();na(o=>{da.title="Inventory - Divine-Nest"});var ve=ia($e),De=t(ve),pe=t(De),_e=t(pe),Le=t(_e),Be=t(Le);F(Be,{icon:"heroicons:archive-box",class:"w-8 h-8"}),W(),a(Le),W(2),a(_e);var be=s(_e,2),Qe=t(be);F(Qe,{icon:"heroicons:plus",class:"w-5 h-5"}),W(),a(be),a(pe);var ue=s(pe,2),Te=t(ue),ge=t(Te),Ae=s(t(ge),2);N(Ae),a(ge);var ye=s(ge,2),fe=s(t(ye),2);b(()=>{e(C),X(()=>{e(ne)})});var he=t(fe);he.value=he.__value="";var Ve=s(he);qe(Ve,1,()=>e(ne),Ce,(o,r)=>{var n=_a(),i=t(n,!0);a(n);var _={};b(()=>{u(i,e(r)),_!==(_=e(r))&&(n.value=(n.__value=e(r))??"")}),h(o,n)}),a(fe),a(ye);var Fe=s(ye,2),me=s(t(Fe),2);b(()=>{e($),X(()=>{e(ie)})});var xe=t(me);xe.value=xe.__value="";var Ke=s(xe);qe(Ke,1,()=>e(ie),Ce,(o,r)=>{var n=ba(),i=t(n,!0);a(n);var _={};b(()=>{u(i,e(r)),_!==(_=e(r))&&(n.value=(n.__value=e(r))??"")}),h(o,n)}),a(me),a(Fe),a(Te),a(ue);var we=s(ue,2);qe(we,5,()=>e(Z),Ce,(o,r)=>{var n=ha(),i=t(n),_=t(i),w=t(_),I=t(w),j=t(I),Ie=s(j);{var ee=v=>{var g=ua();h(v,g)};A(Ie,v=>{e(q),e(r),p(()=>e(q)(e(r)))&&v(ee)})}a(I);var ae=s(I,2),D=t(ae),te=t(D,!0);a(D);var E=s(D,2),B=t(E,!0);a(E),a(ae),a(w);var Q=s(w,2),P=t(Q),ke=t(P);F(ke,{icon:"heroicons:ellipsis-vertical",class:"w-5 h-5"}),a(P);var R=s(P,2),L=t(R),U=t(L),re=t(U);F(re,{icon:"heroicons:pencil",class:"w-4 h-4"}),W(),a(U),a(L);var V=s(L,2),T=t(V),oe=t(T);F(oe,{icon:"heroicons:trash",class:"w-4 h-4"}),W(),a(T),a(V),a(R),a(Q),a(_);var K=s(_,2),G=t(K),H=s(t(G),2),Se=t(H);a(H),a(G);var c=s(G,2);{var Ze=v=>{var g=ga(),M=s(t(g),2),ra=t(M);a(M),a(g),b(()=>u(ra,`${e(r),p(()=>e(r).restock_threshold)??""} ${e(r),p(()=>e(r).unit)??""}`)),h(v,g)};A(c,v=>{e(r),p(()=>e(r).restock_threshold)&&v(Ze)})}var Ee=s(c,2);{var ea=v=>{var g=ya(),M=s(t(g));a(g),b(()=>u(M,` ${e(r),p(()=>e(r).location)??""}`)),h(v,g)};A(Ee,v=>{e(r),p(()=>e(r).location)&&v(ea)})}var Pe=s(Ee,2);{var aa=v=>{var g=fa(),M=s(t(g));a(g),b(()=>u(M,` ${e(r),p(()=>e(r).preferred_vendor)??""}`)),h(v,g)};A(Pe,v=>{e(r),p(()=>e(r).preferred_vendor)&&v(aa)})}var Re=s(Pe,2),ta=t(Re);a(Re),a(K),a(i),a(n),b(v=>{u(j,`${e(r),p(()=>e(r).sub_category||e(r).category)??""} `),u(te,(e(r),p(()=>e(r).type))),u(B,(e(r),p(()=>e(r).category))),u(Se,`${e(r),p(()=>e(r).quantity_available)??""} ${e(r),p(()=>e(r).unit)??""}`),u(ta,`Updated: ${v??""}`)},[()=>(e(r),p(()=>new Date(e(r).last_updated).toLocaleDateString()))]),J("click",U,()=>Ne(e(r))),J("click",T,()=>Oe(e(r))),h(o,n)}),a(we);var je=s(we,2);{var He=o=>{var r=ma(),n=t(r);F(n,{icon:"heroicons:archive-box",class:"w-16 h-16 text-base-content/30 mx-auto mb-4"});var i=s(n,4),_=t(i,!0);a(i),a(r),b(()=>u(_,e(k)||e(C)||e($)?"Try adjusting your filters":"Add your first inventory item to get started")),h(o,r)};A(je,o=>{e(Z),p(()=>e(Z).length===0)&&o(He)})}var Je=s(je,2);{var We=o=>{var r=xa(),n=t(r);F(n,{icon:"heroicons:exclamation-triangle",class:"w-6 h-6"});var i=s(n,2),_=s(t(i),2),w=t(_);a(_),a(i),a(r),b(I=>u(w,`${I??""} items need restocking`),[()=>(e(y),e(q),p(()=>e(y).filter(e(q)).length))]),h(o,r)};A(Je,o=>{e(y),e(q),p(()=>e(y).filter(e(q)).length>0)&&o(We)})}a(De),a(ve);var Xe=s(ve,2);{var Ye=o=>{var r=wa(),n=t(r),i=t(n),_=t(i,!0);a(i);var w=s(i,2),I=t(w),j=t(I),Ie=s(t(j),2);b(()=>{e(l),X(()=>{})}),a(j);var ee=s(j,2),ae=s(t(ee),2);b(()=>{e(l),X(()=>{})}),a(ee),a(I);var D=s(I,2),te=s(t(D),2);N(te),a(D);var E=s(D,2),B=t(E),Q=s(t(B),2);N(Q),a(B);var P=s(B,2),ke=s(t(P),2);b(()=>{e(l),X(()=>{})}),a(P),a(E);var R=s(E,2),L=t(R),U=s(t(L),2);N(U),a(L);var re=s(L,2),V=s(t(re),2);N(V),a(re),a(R);var T=s(R,2),oe=s(t(T),2);N(oe),a(T);var K=s(T,2),G=t(K),H=s(G,2),Se=t(H);a(H),a(K),a(w),a(n),a(r),b(()=>{u(_,e(f)?"Edit Inventory Item":"Add New Inventory Item"),u(Se,`${e(f)?"Update":"Add"} Item`)}),Y(Ie,()=>e(l).type,c=>S(l,e(l).type=c)),Y(ae,()=>e(l).category,c=>S(l,e(l).category=c)),O(te,()=>e(l).sub_category,c=>S(l,e(l).sub_category=c)),O(Q,()=>e(l).quantity_available,c=>S(l,e(l).quantity_available=c)),Y(ke,()=>e(l).unit,c=>S(l,e(l).unit=c)),O(U,()=>e(l).restock_threshold,c=>S(l,e(l).restock_threshold=c)),O(V,()=>e(l).location,c=>S(l,e(l).location=c)),O(oe,()=>e(l).preferred_vendor,c=>S(l,e(l).preferred_vendor=c)),J("click",G,ze),J("submit",w,va(Me)),h(o,r)};A(Xe,o=>{e(z)&&o(Ye)})}J("click",be,()=>{d(z,!0),d(f,null),de()}),O(Ae,()=>e(k),o=>d(k,o)),Y(fe,()=>e(C),o=>d(C,o)),Y(me,()=>e($),o=>d($,o)),h(Ue,$e),ca()}export{Pa as component};
