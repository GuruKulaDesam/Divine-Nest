import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as Sa}from"../chunks/39fK5dpH.js";import{ad as ma,ae as re,y as b,K as P,W as L,t as e,af as ba,ag as y,am as a,an as t,ak as r,ao as it,ah as C,u as s,al as d,ap as Y,ai as x,aj as xa,aq as va,ar as ea,ax as Kt,w as ca,aC as Na,as as Vt}from"../chunks/CirWT1vm.js";import{i as Te}from"../chunks/Dn4D4y7S.js";import{e as Be,i as Ke}from"../chunks/Bsg-a7gO.js";import{s as de,a as Ia,r as la,b as Qt}from"../chunks/Du-74nnx.js";import{i as fa}from"../chunks/CVl-uwuJ.js";import"../chunks/BxK_9t4t.js";import"../chunks/DgcpNONS.js";import{I as h}from"../chunks/Bt9iu7zA.js";import{p as Jt}from"../chunks/zUXBVMR_.js";import"../chunks/DpFXYgIl.js";import{a as sa}from"../chunks/-jVUd4rq.js";import{p as Ma}from"../chunks/Bfc47y5P.js";const da={APPA:"appa",AMMA:"amma",PAATI:"paati",THATHA:"thatha",AKKA:"akka",THAMBI:"thambi"},De={SPIRITUAL:"spiritual",EDUCATION:"education",HEALTH:"health",DIGITAL_SUBSCRIPTIONS:"digital_subscriptions",TRANSPORT:"transport",HOUSEHOLD:"household",FOOD:"food",ENTERTAINMENT:"entertainment"},ae={PAID:"paid",PENDING:"pending",OVERDUE:"overdue",UPCOMING:"upcoming"},le=[{id:1,name:"Raman",role:da.APPA,age:52,avatar:"ЁЯСиЁЯП╜тАНЁЯТ╝",responsibilities:["House rent","Vehicle maintenance","Insurance premiums"],monthlyBudget:25e3,preferredLanguage:"tamil",phoneNumber:"+91 98765 43210",whatsappNumber:"+91 98765 43210"},{id:2,name:"Lakshmi",role:da.AMMA,age:48,avatar:"ЁЯСйЁЯП╜тАНЁЯПл",responsibilities:["Grocery shopping","Utility bills","Children's education"],monthlyBudget:2e4,preferredLanguage:"tamil",phoneNumber:"+91 98765 43211",whatsappNumber:"+91 98765 43211"},{id:3,name:"Kamala",role:da.PAATI,age:75,avatar:"ЁЯС╡ЁЯП╜",responsibilities:["Temple donations","Medical expenses","Festival preparations"],monthlyBudget:8e3,preferredLanguage:"tamil",phoneNumber:"+91 98765 43212",whatsappNumber:"+91 98765 43212"},{id:4,name:"Krishnan",role:da.THATHA,age:78,avatar:"ЁЯС┤ЁЯП╜",responsibilities:["Newspaper subscription","Medical checkups","Banking"],monthlyBudget:6e3,preferredLanguage:"tamil",phoneNumber:"+91 98765 43213",whatsappNumber:"+91 98765 43213"},{id:5,name:"Priya",role:da.AKKA,age:22,avatar:"ЁЯСйЁЯП╜тАНЁЯОУ",responsibilities:["College fees","Books","Mobile recharge"],monthlyBudget:12e3,preferredLanguage:"english",phoneNumber:"+91 98765 43214",whatsappNumber:"+91 98765 43214"},{id:6,name:"Arjun",role:da.THAMBI,age:18,avatar:"ЁЯСиЁЯП╜тАНЁЯОУ",responsibilities:["School fees","Sports equipment","Gaming subscriptions"],monthlyBudget:8e3,preferredLanguage:"english",phoneNumber:"+91 98765 43215",whatsappNumber:"+91 98765 43215"}],Pt=[{id:1,type:"mobile",provider:"Airtel",number:"98765 43210",amount:599,dueDate:"2025-10-15",assignedTo:le[0],status:ae.UPCOMING,category:De.DIGITAL_SUBSCRIPTIONS},{id:2,type:"mobile",provider:"Jio",number:"98765 43211",amount:399,dueDate:"2025-10-12",assignedTo:le[1],status:ae.UPCOMING,category:De.DIGITAL_SUBSCRIPTIONS},{id:3,type:"broadband",provider:"BSNL Fiber",plan:"100 Mbps Unlimited",amount:849,dueDate:"2025-10-20",assignedTo:le[0],status:ae.UPCOMING,category:De.DIGITAL_SUBSCRIPTIONS},{id:4,type:"dth",provider:"Tata Sky",plan:"South Plus HD",amount:315,dueDate:"2025-10-25",assignedTo:le[1],status:ae.UPCOMING,category:De.ENTERTAINMENT},{id:5,type:"electricity",provider:"TNEB",account:"240156789012",amount:1200,dueDate:"2025-10-30",assignedTo:le[0],status:ae.UPCOMING,category:De.HOUSEHOLD},{id:6,type:"water",provider:"Chennai Metro Water",account:"CW98765432",amount:180,dueDate:"2025-10-28",assignedTo:le[1],status:ae.UPCOMING,category:De.HOUSEHOLD},{id:7,type:"gas",provider:"Indane Gas",connection:"17654321890",amount:450,dueDate:"2025-10-22",assignedTo:le[1],status:ae.UPCOMING,category:De.HOUSEHOLD},{id:8,type:"streaming",provider:"Netflix",plan:"Premium",amount:649,dueDate:"2025-10-18",assignedTo:le[4],status:ae.UPCOMING,category:De.ENTERTAINMENT},{id:9,type:"streaming",provider:"Amazon Prime",plan:"Annual",amount:1499,dueDate:"2025-10-15",assignedTo:le[0],status:ae.UPCOMING,category:De.ENTERTAINMENT}],pa=Pt.reduce((nt,c)=>nt+c.amount,0),Ft=[{id:1,type:"life_insurance",provider:"LIC",policyNumber:"240156789",amount:24e3,dueDate:"2025-12-15",assignedTo:le[0],status:ae.UPCOMING,category:De.HEALTH},{id:2,type:"health_insurance",provider:"Star Health",policyNumber:"SH9876543",amount:18500,dueDate:"2025-11-20",assignedTo:le[1],status:ae.UPCOMING,category:De.HEALTH},{id:3,type:"vehicle_insurance",provider:"ICICI Lombard",vehicleNumber:"TN 09 AB 1234",amount:8200,dueDate:"2026-03-10",assignedTo:le[0],status:ae.UPCOMING,category:De.TRANSPORT},{id:4,type:"property_tax",provider:"Chennai Corporation",propertyId:"CC/2024/789456",amount:12e3,dueDate:"2026-03-31",assignedTo:le[0],status:ae.UPCOMING,category:De.HOUSEHOLD}],ua=Ft.reduce((nt,c)=>nt+c.amount,0),ga=[{id:De.SPIRITUAL,name:"Spiritual & Cultural",nameTamil:"роЖройрпНрооро┐роХроорпН рооро▒рпНро▒рпБроорпН рокрогрпНрокро╛роЯрпБ",icon:"ЁЯХЙя╕П",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",examples:["Temple donations","Festival celebrations","Puja items","Religious books"]},{id:De.EDUCATION,name:"Education",nameTamil:"роХро▓рпНро╡ро┐",icon:"ЁЯУЪ",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",examples:["School fees","Tuition","Books","Educational supplies"]},{id:De.HEALTH,name:"Health & Medical",nameTamil:"роЙроЯро▓рпНроиро▓роорпН рооро▒рпНро▒рпБроорпН рооро░рпБродрпНродрпБро╡роорпН",icon:"ЁЯТК",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",examples:["Doctor visits","Medicines","Health insurance","Medical tests"]},{id:De.DIGITAL_SUBSCRIPTIONS,name:"Digital & Subscriptions",nameTamil:"роЯро┐роЬро┐роЯрпНроЯро▓рпН рооро▒рпНро▒рпБроорпН роЪроирпНродро╛роХрпНроХро│рпН",icon:"ЁЯУ▒",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",examples:["Mobile recharge","Internet","Streaming services","App subscriptions"]},{id:De.TRANSPORT,name:"Transport & Vehicle",nameTamil:"рокрпЛроХрпНроХрпБро╡ро░родрпНродрпБ рооро▒рпНро▒рпБроорпН ро╡ро╛роХройроорпН",icon:"ЁЯЪЧ",color:"text-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",examples:["Fuel","Vehicle maintenance","Auto/taxi","Public transport"]},{id:De.HOUSEHOLD,name:"Household & Utilities",nameTamil:"ро╡рпАроЯрпНроЯрпБ рооро▒рпНро▒рпБроорпН рокропройрпНрокро╛роЯрпБроХро│рпН",icon:"ЁЯПа",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",examples:["Electricity","Water","Gas","House maintenance","Cleaning supplies"]},{id:De.FOOD,name:"Food & Groceries",nameTamil:"роЙрогро╡рпБ рооро▒рпНро▒рпБроорпН рооро│ро┐роХрпИ",icon:"ЁЯЫТ",color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",examples:["Groceries","Vegetables","Dairy","Eating out","Snacks"]},{id:De.ENTERTAINMENT,name:"Entertainment & Leisure",nameTamil:"рокрпКро┤рпБродрпБрокрпЛроХрпНроХрпБ рооро▒рпНро▒рпБроорпН ро╡ро┐ро│рпИропро╛роЯрпНроЯрпБ",icon:"ЁЯОм",color:"text-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",examples:["Movies","Games","Outings","Hobbies","Sports"]}],ha={sms:{tamil:{reminder:"ро╡рогроХрпНроХроорпН {name}! роЙроЩрпНроХро│рпН {service} рокро┐ро▓рпН тВ╣{amount} {date} роЕройрпНро▒рпБ роЪрпЖро▓рпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН. - роХрпБроЯрпБроорпНрокроорпН",overdue:"ро╡рогроХрпНроХроорпН {name}! роЙроЩрпНроХро│рпН {service} рокро┐ро▓рпН тВ╣{amount} родро╛роородрооро╛роХро┐ро╡ро┐роЯрпНроЯродрпБ. роЙроЯройрпЗ роЪрпЖро▓рпБродрпНродро╡рпБроорпН. - роХрпБроЯрпБроорпНрокроорпН"},english:{reminder:"Hi {name}! Your {service} bill of тВ╣{amount} is due on {date}. Please pay on time. - Family",overdue:"Hi {name}! Your {service} bill of тВ╣{amount} is overdue. Please pay immediately. - Family"}},whatsapp:{tamil:{reminder:`ЁЯЩП ро╡рогроХрпНроХроорпН {name}!

ЁЯТ░ роЙроЩрпНроХро│рпН {service} рокро┐ро▓рпН:
тАв родрпКроХрпИ: тВ╣{amount}
тАв роХроЯрпИроЪро┐ родрпЗродро┐: {date}

ЁЯУЕ роирпЗро░родрпНродро┐ро▓рпН роЪрпЖро▓рпБродрпНрод рооро▒роХрпНроХро╛родрпАро░рпНроХро│рпН!

ЁЯТЦ роЕройрпНрокрпБроЯройрпН,
роХрпБроЯрпБроорпНрокроорпН`,overdue:`тЪая╕П роХро╡ройроорпН {name}!

ЁЯТ╕ родро╛роородрооро╛рой рокро┐ро▓рпН:
тАв {service}: тВ╣{amount}
тАв роХроЯрпИроЪро┐ родрпЗродро┐: {date}

ЁЯЪи роЙроЯройрпЗ роЪрпЖро▓рпБродрпНродро╡рпБроорпН!

ЁЯТЦ роЕройрпНрокрпБроЯройрпН,
роХрпБроЯрпБроорпНрокроорпН`},english:{reminder:`ЁЯЩП Hi {name}!

ЁЯТ░ Your {service} bill:
тАв Amount: тВ╣{amount}
тАв Due date: {date}

ЁЯУЕ Please pay on time!

ЁЯТЦ With love,
Family`,overdue:`тЪая╕П Attention {name}!

ЁЯТ╕ Overdue bill:
тАв {service}: тВ╣{amount}
тАв Due date: {date}

ЁЯЪи Please pay immediately!

ЁЯТЦ With love,
Family`}}};var $a=y('<div class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse">!</div>'),Ca=y('<div class="absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs rounded-full flex items-center justify-center"> </div>'),Ba=y('<div class="absolute -top-1 -right-1 w-5 h-5 bg-green-500 text-white text-xs rounded-full flex items-center justify-center">тЬУ</div>'),Ra=y('<div class="text-gray-400 group-hover:text-gray-600 transition-colors svelte-1qrtz0k"><!></div>'),Ea=y("<span> </span>"),Oa=y('<div class="flex justify-between items-center text-sm bg-white rounded-lg p-2 border"><span class="font-medium"> </span> <span> </span></div>'),ja=y('<div class="mb-4"><h5 class="text-sm font-medium text-gray-700 mb-2">Monthly Bills:</h5> <div class="space-y-2"></div></div>'),La=y('<div class="flex justify-between items-center text-sm bg-white rounded-lg p-2 border"><span class="font-medium"> </span> <span> </span></div>'),Ua=y('<div><h5 class="text-sm font-medium text-gray-700 mb-2">Yearly Renewals:</h5> <div class="space-y-2"></div></div>'),Fa=y('<div class="border-t border-gray-100 p-4 bg-gray-50/50"><h4 class="font-semibold text-gray-900 mb-3">Responsibilities & Bills</h4> <div class="mb-4"><h5 class="text-sm font-medium text-gray-700 mb-2">Primary Responsibilities:</h5> <div class="flex flex-wrap gap-1"></div></div> <!> <!></div>'),Ha=y('<div role="button" tabindex="0"><div class="relative p-4"><div class="flex items-center space-x-4"><div class="relative"><div> </div> <!></div> <div class="flex-1"><h3 class="text-lg font-semibold text-gray-900"> </h3> <p> </p> <p class="text-xs text-gray-500"> </p></div> <!></div></div> <div class="px-4 pb-4 space-y-3"><div class="bg-gray-50 rounded-lg p-3"><div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-gray-600">Monthly Budget</span> <span> </span></div> <div class="flex justify-between items-center"><span class="text-sm text-gray-500">Allocated Bills</span> <span class="text-sm font-semibold text-gray-700"> </span></div> <div class="mt-2 w-full bg-gray-200 rounded-full h-2"><div></div></div></div> <div class="grid grid-cols-3 gap-2 text-center"><div class="bg-blue-50 rounded-lg p-2"><div class="text-lg font-bold text-blue-600"> </div> <div class="text-xs text-blue-500">Monthly Bills</div></div> <div class="bg-purple-50 rounded-lg p-2"><div class="text-lg font-bold text-purple-600"> </div> <div class="text-xs text-purple-500">Yearly Bills</div></div> <div class="bg-gray-50 rounded-lg p-2"><div> </div> <div>Due Soon</div></div></div> <div class="flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-100"><div class="flex items-center space-x-2"><!> <span> </span></div> <div class="flex items-center space-x-1"><!> <!></div></div></div> <!></div>');function ka(nt,c){ma(c,!1);const l=P(),v=P(),m=P(),D=P(),A=P(),q=P(),o=P();let T=Jt(c,"member",8),V=Jt(c,"showDetails",8,!1),Se=Jt(c,"onClick",8,null);function Q(){Se()&&Se()(T())}function Z(f){return{appa:"Appa (Father)",amma:"Amma (Mother)",paati:"Paati (Grandmother)",thatha:"Thatha (Grandfather)",akka:"Akka (Elder Sister)",thambi:"Thambi (Younger Brother)",chithi:"Chithi (Aunt)",mama:"Mama (Uncle)"}[f]||f.charAt(0).toUpperCase()+f.slice(1)}function ot(f){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(f)}re(()=>L(T()),()=>{b(l,Pt.filter(f=>f.assignedTo.id===T().id))}),re(()=>L(T()),()=>{b(v,Ft.filter(f=>f.assignedTo.id===T().id))}),re(()=>e(l),()=>{b(m,e(l).reduce((f,U)=>f+U.amount,0))}),re(()=>e(v),()=>{b(D,e(v).reduce((f,U)=>f+U.amount,0))}),re(()=>e(l),()=>{b(A,e(l).filter(f=>f.status==="upcoming").length)}),re(()=>e(l),()=>{b(q,e(l).filter(f=>f.status==="overdue").length)}),re(()=>L(T()),()=>{b(o,{appa:{bg:"bg-gradient-to-br from-blue-500 to-indigo-600",text:"text-blue-600",border:"border-blue-200"},amma:{bg:"bg-gradient-to-br from-pink-500 to-rose-600",text:"text-pink-600",border:"border-pink-200"},paati:{bg:"bg-gradient-to-br from-orange-500 to-amber-600",text:"text-orange-600",border:"border-orange-200"},thatha:{bg:"bg-gradient-to-br from-purple-500 to-violet-600",text:"text-purple-600",border:"border-purple-200"},akka:{bg:"bg-gradient-to-br from-green-500 to-emerald-600",text:"text-green-600",border:"border-green-200"},thambi:{bg:"bg-gradient-to-br from-cyan-500 to-teal-600",text:"text-cyan-600",border:"border-cyan-200"},chithi:{bg:"bg-gradient-to-br from-yellow-500 to-orange-600",text:"text-yellow-600",border:"border-yellow-200"},mama:{bg:"bg-gradient-to-br from-gray-500 to-slate-600",text:"text-gray-600",border:"border-gray-200"}}[T().role]||{bg:"bg-gradient-to-br from-gray-500 to-slate-600",text:"text-gray-600",border:"border-gray-200"})}),ba(),fa();var ke=Ha();let gt;var dt=a(ke),lt=a(dt),Qe=a(lt),Oe=a(Qe),Rt=a(Oe,!0);t(Oe);var Et=r(Oe,2);{var Ot=f=>{var U=$a();x(f,U)},At=f=>{var U=va(),ye=ea(U);{var p=E=>{var ie=Ca(),ce=a(ie,!0);t(ie),C(()=>d(ce,e(A))),x(E,ie)},w=E=>{var ie=Ba();x(E,ie)};Te(ye,E=>{e(A)>0?E(p):E(w,!1)},!0)}x(f,U)};Te(Et,f=>{e(q)>0?f(Ot):f(At,!1)})}t(Qe);var Nt=r(Qe,2),Ye=a(Nt),Mt=a(Ye,!0);t(Ye);var Je=r(Ye,2),vt=a(Je,!0);t(Je);var $t=r(Je,2),Ht=a($t);t($t),t(Nt);var zt=r(Nt,2);{var jt=f=>{var U=Ra(),ye=a(U);h(ye,{icon:"heroicons:chevron-right",class:"w-5 h-5"}),t(U),x(f,U)};Te(zt,f=>{(V()||Se())&&f(jt)})}t(lt),t(dt);var mt=r(dt,2),M=a(mt),$=a(M),K=r(a($),2),_e=a(K,!0);t(K),t($);var J=r($,2),ee=r(a(J),2),he=a(ee,!0);t(ee),t(J);var ve=r(J,2),ge=a(ve);t(ve),t(M);var Ie=r(M,2),se=a(Ie),Pe=a(se),ct=a(Pe,!0);t(Pe),it(2),t(se);var je=r(se,2),Ne=a(je),me=a(Ne,!0);t(Ne),it(2),t(je);var Me=r(je,2),Re=a(Me),Le=a(Re,!0);t(Re);var qe=r(Re,2);t(Me),t(Ie);var Ue=r(Ie,2),Ae=a(Ue),Xe=a(Ae);h(Xe,{icon:"heroicons:phone",class:"w-3 h-3"});var Ze=r(Xe,2),yt=a(Ze,!0);t(Ze),t(Ae);var Fe=r(Ae,2),et=a(Fe);h(et,{icon:"simple-icons:whatsapp",class:"w-3 h-3 text-green-600"});var bt=r(et,2);h(bt,{icon:"heroicons:chat-bubble-left-right",class:"w-3 h-3 text-blue-600"}),t(Fe),t(Ue),t(mt);var xt=r(mt,2);{var tt=f=>{var U=Fa(),ye=r(a(U),2),p=r(a(ye),2);Be(p,5,()=>(L(T()),s(()=>T().responsibilities)),Ke,(R,F)=>{var j=Ea(),_=a(j,!0);t(j),C(()=>{de(j,1,`px-2 py-1 bg-white rounded-full text-xs ${e(o),s(()=>e(o).text)??""} border ${e(o),s(()=>e(o).border)??""}`,"svelte-1qrtz0k"),d(_,e(F))}),x(R,j)}),t(p),t(ye);var w=r(ye,2);{var E=R=>{var F=ja(),j=r(a(F),2);Be(j,5,()=>e(l),Ke,(_,O)=>{var X=Oa(),I=a(X),we=a(I);t(I);var ne=r(I,2),He=a(ne,!0);t(ne),t(X),C(at=>{d(we,`${e(O),s(()=>e(O).provider)??""} ${e(O),s(()=>e(O).type)??""}`),de(ne,1,`font-semibold ${e(o),s(()=>e(o).text)??""}`,"svelte-1qrtz0k"),d(He,at)},[()=>(e(O),s(()=>ot(e(O).amount)))]),x(_,X)}),t(j),t(F),x(R,F)};Te(w,R=>{e(l),s(()=>e(l).length>0)&&R(E)})}var ie=r(w,2);{var ce=R=>{var F=Ua(),j=r(a(F),2);Be(j,5,()=>e(v),Ke,(_,O)=>{var X=La(),I=a(X),we=a(I);t(I);var ne=r(I,2),He=a(ne,!0);t(ne),t(X),C(at=>{d(we,`${e(O),s(()=>e(O).provider)??""} ${e(O),s(()=>e(O).type)??""}`),de(ne,1,`font-semibold ${e(o),s(()=>e(o).text)??""}`,"svelte-1qrtz0k"),d(He,at)},[()=>(e(O),s(()=>ot(e(O).amount)))]),x(_,X)}),t(j),t(F),x(R,F)};Te(ie,R=>{e(v),s(()=>e(v).length>0)&&R(ce)})}t(U),x(f,U)};Te(xt,f=>{V()&&f(tt)})}t(ke),C((f,U,ye,p,w,E)=>{gt=de(ke,1,`group relative rounded-xl border-2 ${e(o),s(()=>e(o).border)??""} bg-white/80 backdrop-blur-sm hover:bg-white/90 hover:scale-[1.02] transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl`,"svelte-1qrtz0k",gt,f),de(Oe,1,`w-16 h-16 rounded-full ${e(o),s(()=>e(o).bg)??""} flex items-center justify-center text-3xl shadow-lg`,"svelte-1qrtz0k"),d(Rt,(L(T()),s(()=>T().avatar))),d(Mt,(L(T()),s(()=>T().name))),de(Je,1,`text-sm ${e(o),s(()=>e(o).text)??""} font-medium`,"svelte-1qrtz0k"),d(vt,U),d(Ht,`Age: ${L(T()),s(()=>T().age)??""} тАв ${ye??""}`),de(K,1,`text-sm font-bold ${e(o),s(()=>e(o).text)??""}`,"svelte-1qrtz0k"),d(_e,p),d(he,w),de(ge,1,`h-2 rounded-full transition-all duration-500 ${e(m),L(T()),s(()=>e(m)>T().monthlyBudget?"bg-red-500":e(m)>T().monthlyBudget*.8?"bg-amber-500":"bg-green-500")??""}`),Ia(ge,`width: ${E??""}%`),d(ct,(e(l),s(()=>e(l).length))),d(me,(e(v),s(()=>e(v).length))),de(Re,1,`text-lg font-bold ${e(A)>0?"text-amber-600":"text-green-600"}`),d(Le,e(A)),de(qe,1,`text-xs ${e(A)>0?"text-amber-500":"text-green-500"}`),d(yt,(L(T()),s(()=>T().phoneNumber)))},[()=>({"cursor-pointer":Se()}),()=>(L(T()),s(()=>Z(T().role))),()=>(L(T()),s(()=>T().preferredLanguage.charAt(0).toUpperCase()+T().preferredLanguage.slice(1))),()=>(L(T()),s(()=>ot(T().monthlyBudget))),()=>(e(m),s(()=>ot(e(m)))),()=>(e(m),L(T()),s(()=>Math.min(e(m)/T().monthlyBudget*100,100)))]),Y("click",ke,Q),Y("keydown",ke,f=>f.key==="Enter"&&Q()),x(nt,ke),xa()}var za=y('<div class="mt-4 pt-4 border-t border-gray-100"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Status</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>All Status</option><option>Upcoming</option><option>Pending</option><option>Paid</option><option>Overdue</option></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Sort By</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>Due Date</option><option>Amount</option><option>Provider</option><option>Type</option></select></div> <div class="flex items-end"><button class="w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">Clear Filters</button></div></div></div>'),Ga=y('<div class="text-center py-12 bg-white rounded-lg border"><!> <h3 class="text-lg font-medium text-gray-900 mb-2">No recharges found</h3> <p class="text-gray-500">Try adjusting your search or filter criteria.</p></div>'),Wa=y('<div class="flex justify-between"><span class="text-sm text-gray-600">Number</span> <span class="text-sm font-mono"> </span></div>'),Ya=y('<button class="flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors">Mark Paid</button>'),qa=y('<div class="bg-white rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-200"><div class="p-4"><div class="flex items-start justify-between mb-3"><div class="flex items-center space-x-3"><div class="p-2 bg-gray-100 rounded-lg"><!></div> <div><h3 class="font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500 capitalize"> </p></div></div> <span> </span></div> <div class="space-y-2 mb-4"><div class="flex justify-between"><span class="text-sm text-gray-600">Amount</span> <span class="text-sm font-semibold"> </span></div> <div class="flex justify-between"><span class="text-sm text-gray-600">Due Date</span> <span class="text-sm font-medium"> </span></div> <div class="flex justify-between"><span class="text-sm text-gray-600">Assigned To</span> <span class="text-sm font-medium"> </span></div> <!></div> <div class="flex space-x-2"><!> <button class="px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"><!></button></div></div></div>'),Va=y('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),Ka=y('<button class="text-green-600 hover:text-green-900">Mark Paid</button>'),Qa=y('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><div class="p-2 bg-gray-100 rounded-lg mr-3"><!></div> <div><div class="text-sm font-medium text-gray-900"> </div> <div class="text-sm text-gray-500 capitalize"> </div></div></div></td><td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"><!> <button class="text-blue-600 hover:text-blue-900">Remind</button></td></tr>'),Ja=y('<div class="bg-white rounded-lg border overflow-hidden"><div class="overflow-x-auto"><table class="min-w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Service</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Due Date</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Assigned To</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),Xa=y('<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white rounded-lg p-4 shadow-sm border border-blue-100"><div class="flex items-center space-x-3"><div class="p-2 bg-blue-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Total Monthly</p> <p class="text-xl font-bold text-blue-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-amber-100"><div class="flex items-center space-x-3"><div class="p-2 bg-amber-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Upcoming</p> <p class="text-xl font-bold text-amber-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-red-100"><div class="flex items-center space-x-3"><div class="p-2 bg-red-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Overdue</p> <p class="text-xl font-bold text-red-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-green-100"><div class="flex items-center space-x-3"><div class="p-2 bg-green-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Paid</p> <p class="text-xl font-bold text-green-600"> </p></div></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border"><div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"><div class="relative flex-1 max-w-md"><!> <input type="text" placeholder="Search recharges..." class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div class="flex items-center space-x-4"><div class="flex items-center bg-gray-100 rounded-lg p-1"><button><!></button> <button><!></button></div> <button class="flex items-center space-x-2 px-3 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"><!> <span class="text-sm">Filters</span></button></div></div> <!></div> <div class="space-y-4"><!></div></div>');function Za(nt,c){ma(c,!1);const l=P(),v=P(),m=P(),D=P(),A=P();let q=Jt(c,"viewMode",12,"grid"),o=Jt(c,"filterStatus",12,"all"),T=Jt(c,"sortBy",12,"dueDate"),V=P(""),Se=P(!1),Q=P([...Pt]);function Z(p){switch(p){case ae.PAID:return"text-green-600 bg-green-50";case ae.PENDING:return"text-yellow-600 bg-yellow-50";case ae.OVERDUE:return"text-red-600 bg-red-50";case ae.UPCOMING:return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}}function ot(p){switch(p){case"mobile":return"heroicons:device-phone-mobile";case"broadband":return"heroicons:wifi";case"dth":return"heroicons:tv";case"electricity":return"heroicons:bolt";case"water":return"heroicons:beaker";case"gas":return"heroicons:fire";case"streaming":return"heroicons:play-circle";default:return"heroicons:credit-card"}}function ke(p){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(p)}function gt(p){const w=new Date(p),E=new Date,ie=w.getTime()-E.getTime(),ce=Math.ceil(ie/(1e3*60*60*24));return ce<0?`${Math.abs(ce)} days overdue`:ce===0?"Due today":ce===1?"Due tomorrow":ce<=7?`Due in ${ce} days`:w.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:w.getFullYear()!==E.getFullYear()?"numeric":void 0})}function dt(p){b(Q,e(Q).map(w=>w.id===p?{...w,status:ae.PAID}:w))}function lt(p){alert(`Reminder sent to ${p.assignedTo.name} for ${p.provider} ${p.type}`)}re(()=>(e(Q),L(o()),e(V),L(T())),()=>{b(l,e(Q).filter(p=>{if(o()!=="all"&&p.status!==o())return!1;if(e(V)){const w=e(V).toLowerCase();return p.provider.toLowerCase().includes(w)||p.type.toLowerCase().includes(w)||p.assignedTo.name.toLowerCase().includes(w)||p.number&&p.number.includes(w)}return!0}).sort((p,w)=>{switch(T()){case"amount":return w.amount-p.amount;case"provider":return p.provider.localeCompare(w.provider);case"type":return p.type.localeCompare(w.type);case"dueDate":default:return new Date(p.dueDate).getTime()-new Date(w.dueDate).getTime()}}))}),re(()=>e(l),()=>{b(v,e(l).reduce((p,w)=>p+w.amount,0))}),re(()=>(e(Q),ae),()=>{b(m,e(Q).filter(p=>p.status===ae.UPCOMING).length)}),re(()=>(e(Q),ae),()=>{b(D,e(Q).filter(p=>p.status===ae.OVERDUE).length)}),re(()=>(e(Q),ae),()=>{b(A,e(Q).filter(p=>p.status===ae.PAID).length)}),ba(),fa();var Qe=Xa(),Oe=a(Qe),Rt=a(Oe),Et=a(Rt),Ot=a(Et),At=a(Ot);h(At,{icon:"heroicons:banknotes",class:"w-6 h-6 text-blue-600"}),t(Ot);var Nt=r(Ot,2),Ye=r(a(Nt),2),Mt=a(Ye,!0);t(Ye),t(Nt),t(Et),t(Rt);var Je=r(Rt,2),vt=a(Je),$t=a(vt),Ht=a($t);h(Ht,{icon:"heroicons:calendar-days",class:"w-6 h-6 text-amber-600"}),t($t);var zt=r($t,2),jt=r(a(zt),2),mt=a(jt,!0);t(jt),t(zt),t(vt),t(Je);var M=r(Je,2),$=a(M),K=a($),_e=a(K);h(_e,{icon:"heroicons:exclamation-triangle",class:"w-6 h-6 text-red-600"}),t(K);var J=r(K,2),ee=r(a(J),2),he=a(ee,!0);t(ee),t(J),t($),t(M);var ve=r(M,2),ge=a(ve),Ie=a(ge),se=a(Ie);h(se,{icon:"heroicons:check-circle",class:"w-6 h-6 text-green-600"}),t(Ie);var Pe=r(Ie,2),ct=r(a(Pe),2),je=a(ct,!0);t(ct),t(Pe),t(ge),t(ve),t(Oe);var Ne=r(Oe,2),me=a(Ne),Me=a(me),Re=a(Me);h(Re,{icon:"heroicons:magnifying-glass",class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"});var Le=r(Re,2);la(Le),t(Me);var qe=r(Me,2),Ue=a(qe),Ae=a(Ue),Xe=a(Ae);h(Xe,{icon:"heroicons:squares-2x2",class:"w-4 h-4"}),t(Ae);var Ze=r(Ae,2),yt=a(Ze);h(yt,{icon:"heroicons:list-bullet",class:"w-4 h-4"}),t(Ze),t(Ue);var Fe=r(Ue,2),et=a(Fe);h(et,{icon:"heroicons:funnel",class:"w-4 h-4"}),it(2),t(Fe),t(qe),t(me);var bt=r(me,2);{var xt=p=>{var w=za(),E=a(w),ie=a(E),ce=r(a(ie),2);C(()=>{o(),Kt(()=>{})});var R=a(ce);R.value=R.__value="all";var F=r(R);F.value=F.__value="upcoming";var j=r(F);j.value=j.__value="pending";var _=r(j);_.value=_.__value="paid";var O=r(_);O.value=O.__value="overdue",t(ce),t(ie);var X=r(ie,2),I=r(a(X),2);C(()=>{T(),Kt(()=>{})});var we=a(I);we.value=we.__value="dueDate";var ne=r(we);ne.value=ne.__value="amount";var He=r(ne);He.value=He.__value="provider";var at=r(He);at.value=at.__value="type",t(I),t(X);var wt=r(X,2),Gt=a(wt);t(wt),t(E),t(w),Qt(ce,o),Qt(I,T),Y("click",Gt,()=>{b(V,""),o("all"),T("dueDate")}),x(p,w)};Te(bt,p=>{e(Se)&&p(xt)})}t(Ne);var tt=r(Ne,2),f=a(tt);{var U=p=>{var w=Ga(),E=a(w);h(E,{icon:"heroicons:inbox",class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),it(4),t(w),x(p,w)},ye=p=>{var w=va(),E=ea(w);{var ie=R=>{var F=Va();Be(F,5,()=>e(l),j=>j.id,(j,_)=>{var O=qa(),X=a(O),I=a(X),we=a(I),ne=a(we),He=a(ne);{let n=ca(()=>(e(_),s(()=>ot(e(_).type))));h(He,{get icon(){return e(n)},class:"w-5 h-5 text-gray-600"})}t(ne);var at=r(ne,2),wt=a(at),Gt=a(wt,!0);t(wt);var u=r(wt,2),g=a(u,!0);t(u),t(at),t(we);var N=r(we,2),be=a(N,!0);t(N),t(I);var B=r(I,2),H=a(B),rt=r(a(H),2),Dt=a(rt,!0);t(rt),t(H);var ft=r(H,2),Tt=r(a(ft),2),ut=a(Tt,!0);t(Tt),t(ft);var pt=r(ft,2),_t=r(a(pt),2),Lt=a(_t,!0);t(_t),t(pt);var Wt=r(pt,2);{var Ct=n=>{var i=Wa(),S=r(a(i),2),k=a(S,!0);t(S),t(i),C(()=>d(k,(e(_),s(()=>e(_).number)))),x(n,i)};Te(Wt,n=>{e(_),s(()=>e(_).number)&&n(Ct)})}t(B);var It=r(B,2),ze=a(It);{var st=n=>{var i=Ya();Y("click",i,()=>dt(e(_).id)),x(n,i)};Te(ze,n=>{e(_),L(ae),s(()=>e(_).status!==ae.PAID)&&n(st)})}var St=r(ze,2),Yt=a(St);h(Yt,{icon:"heroicons:paper-airplane",class:"w-4 h-4"}),t(St),t(It),t(X),t(O),C((n,i,S)=>{d(Gt,(e(_),s(()=>e(_).provider))),d(g,(e(_),s(()=>e(_).type))),de(N,1,`px-2 py-1 rounded-full text-xs font-medium ${n??""}`),d(be,(e(_),s(()=>e(_).status))),d(Dt,i),d(ut,S),d(Lt,(e(_),s(()=>e(_).assignedTo.name)))},[()=>(e(_),s(()=>Z(e(_).status))),()=>(e(_),s(()=>ke(e(_).amount))),()=>(e(_),s(()=>gt(e(_).dueDate)))]),Y("click",St,()=>lt(e(_))),x(j,O)}),t(F),x(R,F)},ce=R=>{var F=Ja(),j=a(F),_=a(j),O=r(a(_));Be(O,5,()=>e(l),X=>X.id,(X,I)=>{var we=Qa(),ne=a(we),He=a(ne),at=a(He),wt=a(at);{let ze=ca(()=>(e(I),s(()=>ot(e(I).type))));h(wt,{get icon(){return e(ze)},class:"w-4 h-4 text-gray-600"})}t(at);var Gt=r(at,2),u=a(Gt),g=a(u,!0);t(u);var N=r(u,2),be=a(N,!0);t(N),t(Gt),t(He),t(ne);var B=r(ne),H=a(B,!0);t(B);var rt=r(B),Dt=a(rt,!0);t(rt);var ft=r(rt),Tt=a(ft,!0);t(ft);var ut=r(ft),pt=a(ut),_t=a(pt,!0);t(pt),t(ut);var Lt=r(ut),Wt=a(Lt);{var Ct=ze=>{var st=Ka();Y("click",st,()=>dt(e(I).id)),x(ze,st)};Te(Wt,ze=>{e(I),L(ae),s(()=>e(I).status!==ae.PAID)&&ze(Ct)})}var It=r(Wt,2);t(Lt),t(we),C((ze,st,St)=>{d(g,(e(I),s(()=>e(I).provider))),d(be,(e(I),s(()=>e(I).type))),d(H,ze),d(Dt,st),d(Tt,(e(I),s(()=>e(I).assignedTo.name))),de(pt,1,`px-2 py-1 rounded-full text-xs font-medium ${St??""}`),d(_t,(e(I),s(()=>e(I).status)))},[()=>(e(I),s(()=>ke(e(I).amount))),()=>(e(I),s(()=>gt(e(I).dueDate))),()=>(e(I),s(()=>Z(e(I).status)))]),Y("click",It,()=>lt(e(I))),x(X,we)}),t(O),t(_),t(j),t(F),x(R,F)};Te(E,R=>{q()==="grid"?R(ie):R(ce,!1)},!0)}x(p,w)};Te(f,p=>{e(l),s(()=>e(l).length===0)?p(U):p(ye,!1)})}t(tt),t(Qe),C(p=>{d(Mt,p),d(mt,e(m)),d(he,e(D)),d(je,e(A)),de(Ae,1,`p-2 rounded-md transition-colors ${q()==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"}`),de(Ze,1,`p-2 rounded-md transition-colors ${q()==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"}`)},[()=>(e(v),s(()=>ke(e(v))))]),sa(Le,()=>e(V),p=>b(V,p)),Y("click",Ae,()=>q("grid")),Y("click",Ze,()=>q("list")),Y("click",Fe,()=>b(Se,!e(Se))),x(nt,Qe),xa()}var er=y("<option> </option>"),tr=y("<option> </option>"),ar=y('<div class="text-center py-12"><!> <h3 class="text-lg font-medium text-gray-900 mb-2">No expenses found</h3> <p class="text-gray-500">Add your first expense or adjust the filters.</p></div>'),rr=y('<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full"> </span>'),sr=y('<div class="flex flex-wrap gap-1 mt-1"></div>'),ir=y('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"> </td><td class="px-6 py-4"><div><div class="text-sm font-medium text-gray-900"> </div> <!></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><span class="mr-2"> </span> <span class="text-sm text-gray-900"> </span></div></td><td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full capitalize"> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"><button class="text-blue-600 hover:text-blue-900">Edit</button> <button class="text-red-600 hover:text-red-900">Delete</button></td></tr>'),nr=y('<div class="overflow-x-auto"><table class="min-w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Paid By</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Payment</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>'),or=y("<option> </option>"),dr=y("<option> </option>"),lr=y("<option> </option>"),vr=y('<span class="flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm"><span> </span> <button type="button" class="text-blue-500 hover:text-blue-700"><!></button></span>'),cr=y('<div class="flex flex-wrap gap-2"></div>'),ur=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-gray-900"> </h2> <button class="text-gray-400 hover:text-gray-600"><!></button></div> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Amount *</label> <input type="number" step="0.01" placeholder="Enter amount" class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Date *</label> <input type="date" class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500" required/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Description *</label> <input type="text" placeholder="What did you spend on?" class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500" required/></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Category *</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500" required><option>Select category</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Paid By *</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500" required><option>Select member</option><!></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Beneficiary</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>Whole family</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Payment Method</label> <select class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>Cash</option><option>Debit/Credit Card</option><option>UPI</option><option>Net Banking</option><option>Other</option></select></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Tags</label> <div class="flex space-x-2 mb-2"><input type="text" placeholder="Add tag" class="flex-1 p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"/> <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Add</button></div> <!></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Notes</label> <textarea placeholder="Additional notes..." rows="3" class="w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea></div> <div class="flex justify-end space-x-3 pt-4 border-t"><button type="button" class="px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50">Cancel</button> <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"> </button></div></form></div></div></div>'),pr=y('<div class="space-y-6"><div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"><div><h1 class="text-2xl font-bold text-gray-900">Expense Tracker</h1> <p class="text-gray-600">Track and manage family expenses</p></div> <div class="flex space-x-3"><button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2"><!> <span>Add Expense</span></button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"><!> <span>Export</span></button></div></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white rounded-lg p-4 shadow-sm border border-blue-100"><div class="flex items-center space-x-3"><div class="p-2 bg-blue-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Total Expenses</p> <p class="text-xl font-bold text-blue-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-purple-100"><div class="flex items-center space-x-3"><div class="p-2 bg-purple-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Transactions</p> <p class="text-xl font-bold text-purple-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-emerald-100"><div class="flex items-center space-x-3"><div class="p-2 bg-emerald-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Categories</p> <p class="text-xl font-bold text-emerald-600"> </p></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border border-amber-100"><div class="flex items-center space-x-3"><div class="p-2 bg-amber-100 rounded-lg"><!></div> <div><p class="text-sm text-gray-600">Avg. per day</p> <p class="text-xl font-bold text-amber-600"> </p></div></div></div></div> <div class="bg-white rounded-lg p-4 shadow-sm border"><div class="grid grid-cols-1 md:grid-cols-5 gap-4"><div class="relative"><!> <input type="text" placeholder="Search expenses..." class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <select class="p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>All Categories</option><!></select> <select class="p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>All Members</option><!></select> <select class="p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"><option>All Time</option><option>Today</option><option>This Week</option><option>This Month</option><option>This Year</option></select> <button class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">Clear</button></div></div> <div class="bg-white rounded-lg shadow-sm border"><!></div></div> <!>',1);function gr(nt,c){ma(c,!1);const l=P(),v=P(),m=P();let D=Jt(c,"onExpenseAdded",8,null),A=P(!1),q=P([]),o=P({id:null,amount:"",description:"",category:"",subcategory:"",memberPaidId:"",memberBeneficiaryId:"",date:new Date().toISOString().split("T")[0],paymentMethod:"cash",tags:[],receipt:null,notes:""}),T=P(""),V=P("all"),Se=P("all"),Q=P("this_month"),Z=P("");Sa(()=>{b(q,[{id:1,amount:2500,description:"Groceries from Saravana Stores",category:De.FOOD,subcategory:"Groceries",memberPaidId:2,memberBeneficiaryId:null,date:"2025-10-05",paymentMethod:"upi",tags:["groceries","monthly"],receipt:null,notes:"Monthly grocery shopping"},{id:2,amount:500,description:"Temple donation - Vinayagar Chaturthi",category:De.SPIRITUAL,subcategory:"Temple donation",memberPaidId:3,memberBeneficiaryId:null,date:"2025-10-04",paymentMethod:"cash",tags:["temple","festival","donation"],receipt:null,notes:"Special festival donation"},{id:3,amount:1200,description:"College textbooks",category:De.EDUCATION,subcategory:"Books",memberPaidId:1,memberBeneficiaryId:5,date:"2025-10-03",paymentMethod:"card",tags:["education","books","college"],receipt:null,notes:"Engineering semester books"}])});function ot(u){return ga.find(g=>g.id===u)||{name:"Other",icon:"тЭУ",color:"text-gray-600"}}function ke(u){if(!u)return"Family";const g=le.find(N=>N.id===u);return g?g.name:"Unknown"}function gt(u){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(u)}function dt(u){return new Date(u).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}function lt(){b(o,{id:null,amount:"",description:"",category:"",subcategory:"",memberPaidId:"",memberBeneficiaryId:"",date:new Date().toISOString().split("T")[0],paymentMethod:"cash",tags:[],receipt:null,notes:""}),b(Z,"")}function Qe(){e(Z).trim()&&!e(o).tags.includes(e(Z).trim())&&(Vt(o,e(o).tags=[...e(o).tags,e(Z).trim()]),b(Z,""))}function Oe(u){Vt(o,e(o).tags=e(o).tags.filter(g=>g!==u))}function Rt(){if(!e(o).amount||!e(o).description||!e(o).category||!e(o).memberPaidId){alert("Please fill in all required fields");return}const u={...e(o),id:e(o).id||Date.now(),amount:parseFloat(e(o).amount),memberPaidId:parseInt(e(o).memberPaidId),memberBeneficiaryId:e(o).memberBeneficiaryId?parseInt(e(o).memberBeneficiaryId):null};e(o).id?b(q,e(q).map(g=>g.id===e(o).id?u:g)):b(q,[u,...e(q)]),D()&&D()(u),lt(),b(A,!1)}function Et(u){b(o,{...u,amount:u.amount.toString(),memberPaidId:u.memberPaidId.toString(),memberBeneficiaryId:u.memberBeneficiaryId?u.memberBeneficiaryId.toString():""}),b(A,!0)}function Ot(u){confirm("Are you sure you want to delete this expense?")&&b(q,e(q).filter(g=>g.id!==u))}function At(){const u=[["Date","Description","Category","Amount","Paid By","Beneficiary","Payment Method","Tags","Notes"],...e(l).map(B=>[B.date,B.description,ot(B.category).name,B.amount,ke(B.memberPaidId),ke(B.memberBeneficiaryId),B.paymentMethod,B.tags.join("; "),B.notes])].map(B=>B.map(H=>`"${H}"`).join(",")).join(`
`),g=new Blob([u],{type:"text/csv"}),N=window.URL.createObjectURL(g),be=document.createElement("a");be.href=N,be.download=`expenses_${new Date().toISOString().split("T")[0]}.csv`,be.click(),window.URL.revokeObjectURL(N)}re(()=>(e(q),e(T),e(V),e(Se),e(Q)),()=>{b(l,e(q).filter(u=>{if(e(T)){const be=e(T).toLowerCase();if(!u.description.toLowerCase().includes(be)&&!u.tags.some(B=>B.toLowerCase().includes(be))&&!ke(u.memberPaidId).toLowerCase().includes(be))return!1}if(e(V)!=="all"&&u.category!==e(V)||e(Se)!=="all"&&u.memberPaidId.toString()!==e(Se))return!1;const g=new Date(u.date),N=new Date;switch(e(Q)){case"today":return g.toDateString()===N.toDateString();case"this_week":const be=new Date(N.getTime()-10080*60*1e3);return g>=be;case"this_month":return g.getMonth()===N.getMonth()&&g.getFullYear()===N.getFullYear();case"this_year":return g.getFullYear()===N.getFullYear();default:return!0}}))}),re(()=>e(l),()=>{b(v,e(l).reduce((u,g)=>u+g.amount,0))}),re(()=>e(l),()=>{b(m,e(l).reduce((u,g)=>(u[g.category]=(u[g.category]||0)+g.amount,u),{}))}),ba(),fa();var Nt=pr(),Ye=ea(Nt),Mt=a(Ye),Je=r(a(Mt),2),vt=a(Je),$t=a(vt);h($t,{icon:"heroicons:plus",class:"w-4 h-4"}),it(2),t(vt);var Ht=r(vt,2),zt=a(Ht);h(zt,{icon:"heroicons:arrow-down-tray",class:"w-4 h-4"}),it(2),t(Ht),t(Je),t(Mt);var jt=r(Mt,2),mt=a(jt),M=a(mt),$=a(M),K=a($);h(K,{icon:"heroicons:banknotes",class:"w-6 h-6 text-blue-600"}),t($);var _e=r($,2),J=r(a(_e),2),ee=a(J,!0);t(J),t(_e),t(M),t(mt);var he=r(mt,2),ve=a(he),ge=a(ve),Ie=a(ge);h(Ie,{icon:"heroicons:tag",class:"w-6 h-6 text-purple-600"}),t(ge);var se=r(ge,2),Pe=r(a(se),2),ct=a(Pe,!0);t(Pe),t(se),t(ve),t(he);var je=r(he,2),Ne=a(je),me=a(Ne),Me=a(me);h(Me,{icon:"heroicons:chart-pie",class:"w-6 h-6 text-emerald-600"}),t(me);var Re=r(me,2),Le=r(a(Re),2),qe=a(Le,!0);t(Le),t(Re),t(Ne),t(je);var Ue=r(je,2),Ae=a(Ue),Xe=a(Ae),Ze=a(Xe);h(Ze,{icon:"heroicons:calculator",class:"w-6 h-6 text-amber-600"}),t(Xe);var yt=r(Xe,2),Fe=r(a(yt),2),et=a(Fe,!0);t(Fe),t(yt),t(Ae),t(Ue),t(jt);var bt=r(jt,2),xt=a(bt),tt=a(xt),f=a(tt);h(f,{icon:"heroicons:magnifying-glass",class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"});var U=r(f,2);la(U),t(tt);var ye=r(tt,2);C(()=>{e(V),Kt(()=>{})});var p=a(ye);p.value=p.__value="all";var w=r(p);Be(w,1,()=>ga,Ke,(u,g)=>{var N=er(),be=a(N);t(N);var B={};C(()=>{d(be,`${e(g),s(()=>e(g).icon)??""} ${e(g),s(()=>e(g).name)??""}`),B!==(B=(e(g),s(()=>e(g).id)))&&(N.value=(N.__value=(e(g),s(()=>e(g).id)))??"")}),x(u,N)}),t(ye);var E=r(ye,2);C(()=>{e(Se),Kt(()=>{})});var ie=a(E);ie.value=ie.__value="all";var ce=r(ie);Be(ce,1,()=>le,Ke,(u,g)=>{var N=tr(),be=a(N);t(N);var B={};C(()=>{d(be,`${e(g),s(()=>e(g).avatar)??""} ${e(g),s(()=>e(g).name)??""}`),B!==(B=(e(g),s(()=>e(g).id)))&&(N.value=(N.__value=(e(g),s(()=>e(g).id)))??"")}),x(u,N)}),t(E);var R=r(E,2);C(()=>{e(Q),Kt(()=>{})});var F=a(R);F.value=F.__value="all";var j=r(F);j.value=j.__value="today";var _=r(j);_.value=_.__value="this_week";var O=r(_);O.value=O.__value="this_month";var X=r(O);X.value=X.__value="this_year",t(R);var I=r(R,2);t(xt),t(bt);var we=r(bt,2),ne=a(we);{var He=u=>{var g=ar(),N=a(g);h(N,{icon:"heroicons:receipt-percent",class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),it(4),t(g),x(u,g)},at=u=>{var g=nr(),N=a(g),be=r(a(N));Be(be,5,()=>e(l),B=>B.id,(B,H)=>{const rt=ca(()=>(e(H),s(()=>ot(e(H).category))));var Dt=ir(),ft=a(Dt),Tt=a(ft,!0);t(ft);var ut=r(ft),pt=a(ut),_t=a(pt),Lt=a(_t,!0);t(_t);var Wt=r(_t,2);{var Ct=pe=>{var oe=sr();Be(oe,5,()=>(e(H),s(()=>e(H).tags)),Ke,($e,Ce)=>{var Ve=rr(),ht=a(Ve,!0);t(Ve),C(()=>d(ht,e(Ce))),x($e,Ve)}),t(oe),x(pe,oe)};Te(Wt,pe=>{e(H),s(()=>e(H).tags.length>0)&&pe(Ct)})}t(pt),t(ut);var It=r(ut),ze=a(It),st=a(ze),St=a(st,!0);t(st);var Yt=r(st,2),n=a(Yt,!0);t(Yt),t(ze),t(It);var i=r(It),S=a(i,!0);t(i);var k=r(i),xe=a(k,!0);t(k);var z=r(k),fe=a(z),te=a(fe,!0);t(fe),t(z);var ue=r(z),Ge=a(ue),Ee=r(Ge,2);t(ue),t(Dt),C((pe,oe,$e)=>{d(Tt,pe),d(Lt,(e(H),s(()=>e(H).description))),d(St,(L(e(rt)),s(()=>e(rt).icon))),d(n,(L(e(rt)),s(()=>e(rt).name))),d(S,oe),d(xe,$e),d(te,(e(H),s(()=>e(H).paymentMethod)))},[()=>(e(H),s(()=>dt(e(H).date))),()=>(e(H),s(()=>gt(e(H).amount))),()=>(e(H),s(()=>ke(e(H).memberPaidId)))]),Y("click",Ge,()=>Et(e(H))),Y("click",Ee,()=>Ot(e(H).id)),x(B,Dt)}),t(be),t(N),t(g),x(u,g)};Te(ne,u=>{e(l),s(()=>e(l).length===0)?u(He):u(at,!1)})}t(we),t(Ye);var wt=r(Ye,2);{var Gt=u=>{var g=ur(),N=a(g),be=a(N),B=a(be),H=a(B),rt=a(H,!0);t(H);var Dt=r(H,2),ft=a(Dt);h(ft,{icon:"heroicons:x-mark",class:"w-6 h-6"}),t(Dt),t(B);var Tt=r(B,2),ut=a(Tt),pt=a(ut),_t=r(a(pt),2);la(_t),t(pt);var Lt=r(pt,2),Wt=r(a(Lt),2);la(Wt),t(Lt),t(ut);var Ct=r(ut,2),It=r(a(Ct),2);la(It),t(Ct);var ze=r(Ct,2),st=a(ze),St=r(a(st),2);C(()=>{e(o),Kt(()=>{})});var Yt=a(St);Yt.value=Yt.__value="";var n=r(Yt);Be(n,1,()=>ga,Ke,(G,W)=>{var We=or(),Zt=a(We);t(We);var Ut={};C(()=>{d(Zt,`${e(W),s(()=>e(W).icon)??""} ${e(W),s(()=>e(W).name)??""}`),Ut!==(Ut=(e(W),s(()=>e(W).id)))&&(We.value=(We.__value=(e(W),s(()=>e(W).id)))??"")}),x(G,We)}),t(St),t(st);var i=r(st,2),S=r(a(i),2);C(()=>{e(o),Kt(()=>{})});var k=a(S);k.value=k.__value="";var xe=r(k);Be(xe,1,()=>le,Ke,(G,W)=>{var We=dr(),Zt=a(We);t(We);var Ut={};C(()=>{d(Zt,`${e(W),s(()=>e(W).avatar)??""} ${e(W),s(()=>e(W).name)??""}`),Ut!==(Ut=(e(W),s(()=>e(W).id)))&&(We.value=(We.__value=(e(W),s(()=>e(W).id)))??"")}),x(G,We)}),t(S),t(i),t(ze);var z=r(ze,2),fe=a(z),te=r(a(fe),2);C(()=>{e(o),Kt(()=>{})});var ue=a(te);ue.value=ue.__value="";var Ge=r(ue);Be(Ge,1,()=>le,Ke,(G,W)=>{var We=lr(),Zt=a(We);t(We);var Ut={};C(()=>{d(Zt,`${e(W),s(()=>e(W).avatar)??""} ${e(W),s(()=>e(W).name)??""}`),Ut!==(Ut=(e(W),s(()=>e(W).id)))&&(We.value=(We.__value=(e(W),s(()=>e(W).id)))??"")}),x(G,We)}),t(te),t(fe);var Ee=r(fe,2),pe=r(a(Ee),2);C(()=>{e(o),Kt(()=>{})});var oe=a(pe);oe.value=oe.__value="cash";var $e=r(oe);$e.value=$e.__value="card";var Ce=r($e);Ce.value=Ce.__value="upi";var Ve=r(Ce);Ve.value=Ve.__value="netbanking";var ht=r(Ve);ht.value=ht.__value="other",t(pe),t(Ee),t(z);var Bt=r(z,2),qt=r(a(Bt),2),kt=a(qt);la(kt);var ta=r(kt,2);t(qt);var ia=r(qt,2);{var aa=G=>{var W=cr();Be(W,5,()=>(e(o),s(()=>e(o).tags)),Ke,(We,Zt)=>{var Ut=vr(),Da=a(Ut),Pa=a(Da,!0);t(Da);var Ta=r(Da,2),Aa=a(Ta);h(Aa,{icon:"heroicons:x-mark",class:"w-3 h-3"}),t(Ta),t(Ut),C(()=>d(Pa,e(Zt))),Y("click",Ta,()=>Oe(e(Zt))),x(We,Ut)}),t(W),x(G,W)};Te(ia,G=>{e(o),s(()=>e(o).tags.length>0)&&G(aa)})}t(Bt);var Xt=r(Bt,2),ra=r(a(Xt),2);Na(ra),t(Xt);var na=r(Xt,2),oa=a(na),_a=r(oa,2),wa=a(_a,!0);t(_a),t(na),t(Tt),t(be),t(N),t(g),C(()=>{d(rt,(e(o),s(()=>e(o).id?"Edit Expense":"Add New Expense"))),d(wa,(e(o),s(()=>e(o).id?"Update Expense":"Add Expense")))}),Y("click",Dt,()=>{b(A,!1),lt()}),sa(_t,()=>e(o).amount,G=>Vt(o,e(o).amount=G)),sa(Wt,()=>e(o).date,G=>Vt(o,e(o).date=G)),sa(It,()=>e(o).description,G=>Vt(o,e(o).description=G)),Qt(St,()=>e(o).category,G=>Vt(o,e(o).category=G)),Qt(S,()=>e(o).memberPaidId,G=>Vt(o,e(o).memberPaidId=G)),Qt(te,()=>e(o).memberBeneficiaryId,G=>Vt(o,e(o).memberBeneficiaryId=G)),Qt(pe,()=>e(o).paymentMethod,G=>Vt(o,e(o).paymentMethod=G)),sa(kt,()=>e(Z),G=>b(Z,G)),Y("keydown",kt,G=>G.key==="Enter"&&(G.preventDefault(),Qe())),Y("click",ta,Qe),sa(ra,()=>e(o).notes,G=>Vt(o,e(o).notes=G)),Y("click",oa,()=>{b(A,!1),lt()}),Y("submit",Tt,Ma(Rt)),x(u,g)};Te(wt,u=>{e(A)&&u(Gt)})}C((u,g,N)=>{d(ee,u),d(ct,(e(l),s(()=>e(l).length))),d(qe,g),d(et,N)},[()=>(e(v),s(()=>gt(e(v)))),()=>(e(m),s(()=>Object.keys(e(m)).length)),()=>(e(v),s(()=>gt(e(v)/30)))]),Y("click",vt,()=>b(A,!0)),Y("click",Ht,At),sa(U,()=>e(T),u=>b(T,u)),Qt(ye,()=>e(V),u=>b(V,u)),Qt(E,()=>e(Se),u=>b(Se,u)),Qt(R,()=>e(Q),u=>b(Q,u)),Y("click",I,()=>{b(T,""),b(V,"all"),b(Se,"all"),b(Q,"this_month")}),x(nt,Nt),xa()}var mr=y('<div><span class="text-2xl"> </span> <div class="flex-1"><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-600"> </p></div> <!></div>'),br=y('<div class="bg-white rounded-lg border shadow-sm p-4"><h2 class="text-lg font-semibold text-gray-900 mb-4 flex items-center"><!> </h2> <div class="space-y-3"></div></div>'),xr=y('<div class="border rounded-lg p-4"><div class="flex items-center justify-between mb-2"><div class="flex items-center space-x-3"><span class="text-xl"> </span> <div><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div></div> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <div class="mt-2 flex justify-between text-xs text-gray-600"><span> </span> <span> </span></div></div>'),fr=y('<div class="flex items-center justify-between"><div class="flex items-center space-x-3"><div></div> <span class="text-sm font-medium"> </span></div> <div class="text-right"><div class="text-sm font-semibold"> </div> <div class="text-xs text-gray-500"> </div></div></div>'),_r=y('<div class="border rounded-lg p-4"><div class="flex items-center space-x-3 mb-3"><span class="text-2xl"> </span> <div><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-500 capitalize"> </p></div></div> <div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Monthly Budget:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Allocated Bills:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Remaining:</span> <span> </span></div></div> <div class="mt-3"><div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <div class="mt-1 text-xs text-gray-600 text-center"> </div></div></div>'),hr=y('<div class="bg-white rounded-lg shadow-sm border"><div class="p-6 border-b border-gray-100"><h2 class="text-lg font-semibold text-gray-900">Budget Projections</h2></div> <div class="p-6"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="text-center p-4 bg-blue-50 rounded-lg"><h3 class="font-medium text-blue-900 mb-2">Projected Monthly</h3> <p class="text-2xl font-bold text-blue-600"> </p> <p class="text-sm text-blue-700 mt-1"> </p></div> <div class="text-center p-4 bg-purple-50 rounded-lg"><h3 class="font-medium text-purple-900 mb-2">Projected Yearly</h3> <p class="text-2xl font-bold text-purple-600"> </p> <p class="text-sm text-purple-700 mt-1">Based on current trends</p></div> <div class="text-center p-4 bg-green-50 rounded-lg"><h3 class="font-medium text-green-900 mb-2">Potential Savings</h3> <p> </p> <p class="text-sm text-green-700 mt-1"> </p></div></div></div></div>'),yr=y('<div class="space-y-6"><div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"><div><h1 class="text-2xl font-bold text-gray-900">Budget Dashboard</h1> <p class="text-gray-600">Track and analyze family spending patterns</p></div> <div class="flex space-x-3"><button class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2"><!> <span>Projections</span></button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"><!> <span>Export</span></button></div></div> <!> <div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white rounded-lg p-6 shadow-sm border"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Total Budget</p> <p class="text-2xl font-bold text-blue-600"> </p></div> <div class="p-3 bg-blue-100 rounded-lg"><!></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Total Spent</p> <p class="text-2xl font-bold text-orange-600"> </p></div> <div class="p-3 bg-orange-100 rounded-lg"><!></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Remaining</p> <p> </p></div> <div><!></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Budget Used</p> <p> </p></div> <div><!></div></div></div></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="bg-white rounded-lg shadow-sm border"><div class="p-6 border-b border-gray-100"><h2 class="text-lg font-semibold text-gray-900">Category Breakdown</h2></div> <div class="p-6"><div class="space-y-4"></div></div></div> <div class="bg-white rounded-lg shadow-sm border"><div class="p-6 border-b border-gray-100"><h2 class="text-lg font-semibold text-gray-900">Spending Distribution</h2></div> <div class="p-6"><div class="space-y-3"></div> <div class="mt-6 h-32 bg-gray-50 rounded-lg flex items-center justify-center"><div class="text-center text-gray-500"><!> <p class="text-sm">Interactive chart would render here</p></div></div></div></div></div> <div class="bg-white rounded-lg shadow-sm border"><div class="p-6 border-b border-gray-100"><h2 class="text-lg font-semibold text-gray-900">Family Member Budgets</h2></div> <div class="p-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div></div></div> <!> <div class="bg-white rounded-lg shadow-sm border"><div class="p-6 border-b border-gray-100"><h2 class="text-lg font-semibold text-gray-900">Monthly Bills & Recharges</h2></div> <div class="p-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h3 class="font-medium text-gray-900 mb-3">Fixed Monthly Expenses</h3> <div class="space-y-2"><div class="flex justify-between"><span class="text-gray-600">Mobile Recharges:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Utilities (Electricity, Water, Gas):</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Internet & TV:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Streaming Services:</span> <span class="font-medium"> </span></div> <div class="flex justify-between font-semibold border-t pt-2"><span>Total Monthly Bills:</span> <span> </span></div></div></div> <div><h3 class="font-medium text-gray-900 mb-3">Yearly Renewals</h3> <div class="space-y-2"><div class="flex justify-between"><span class="text-gray-600">Insurance (Life & Health):</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Property Tax:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Vehicle Insurance:</span> <span class="font-medium"> </span></div> <div class="flex justify-between font-semibold border-t pt-2"><span>Total Yearly Renewals:</span> <span> </span></div> <div class="flex justify-between text-sm text-gray-600"><span>Monthly Average:</span> <span> </span></div></div></div></div></div></div></div>');function wr(nt,c){ma(c,!1);const l=P(),v=P(),m=P(),D=P(),A=P(),q=P(),o=P();let T=Jt(c,"selectedPeriod",8,"monthly");Jt(c,"selectedMember",8,"all");let V=P([]),Se=P(!1),Q=P([{category:"food",amount:8500,budget:12e3,date:"2025-10-01"},{category:"spiritual",amount:2500,budget:3e3,date:"2025-10-02"},{category:"education",amount:4200,budget:8e3,date:"2025-10-03"},{category:"health",amount:1800,budget:5e3,date:"2025-10-04"},{category:"transport",amount:6500,budget:8e3,date:"2025-10-05"},{category:"household",amount:3200,budget:4e3,date:"2025-10-06"},{category:"digital_subscriptions",amount:2800,budget:3500,date:"2025-10-07"},{category:"entertainment",amount:1500,budget:2500,date:"2025-10-08"}]);Sa(()=>{ke()});function Z(n){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(n)}function ot(n){switch(n){case"danger":case"over":return"text-red-600 bg-red-50 border-red-200";case"warning":return"text-amber-600 bg-amber-50 border-amber-200";case"good":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}function ke(){const n=e(v)/new Date().getDate(),i=new Date(2025,9,0).getDate(),S=n*i,k=S*12;return{monthly:S,yearly:k,savings:e(l)-S}}function gt(){const n={period:T(),generatedAt:new Date().toISOString(),summary:{totalBudget:e(l),totalSpent:e(v),totalRemaining:e(m),budgetUtilization:e(D)},categoryBreakdown:e(A),memberBudgets:e(q),alerts:e(V),projections:ke()},i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),S=window.URL.createObjectURL(i),k=document.createElement("a");k.href=S,k.download=`budget_report_${new Date().toISOString().split("T")[0]}.json`,k.click(),window.URL.revokeObjectURL(S)}re(()=>e(Q),()=>{b(l,e(Q).reduce((n,i)=>n+i.budget,0))}),re(()=>e(Q),()=>{b(v,e(Q).reduce((n,i)=>n+i.amount,0))}),re(()=>(e(l),e(v)),()=>{b(m,e(l)-e(v))}),re(()=>(e(v),e(l)),()=>{b(D,e(v)/e(l)*100)}),re(()=>(e(Q),ga),()=>{b(A,e(Q).map(n=>{const i=ga.find(xe=>xe.id===n.category),S=n.amount/n.budget*100,k=n.budget-n.amount;return{...n,categoryDetails:i,utilization:S,remaining:k,status:S>90?"danger":S>75?"warning":"good"}}).sort((n,i)=>i.utilization-n.utilization))}),re(()=>Ft,()=>{b(q,le.map(n=>{const i=Pt.filter(z=>z.assignedTo.id===n.id),S=Ft.filter(z=>z.assignedTo.id===n.id),k=i.reduce((z,fe)=>z+fe.amount,0),xe=S.reduce((z,fe)=>z+fe.amount,0);return{...n,allocatedMonthly:k,allocatedYearly:xe,budgetUtilization:k/n.monthlyBudget*100,remaining:n.monthlyBudget-k,status:k>n.monthlyBudget?"over":k>n.monthlyBudget*.9?"warning":"good"}}))}),re(()=>(e(A),e(q)),()=>{b(V,[...e(A).filter(n=>n.utilization>85).map(n=>({type:"category_high",severity:n.utilization>95?"danger":"warning",title:`${n.categoryDetails.name} Budget Alert`,message:`${n.utilization.toFixed(1)}% of budget used (тВ╣${n.amount.toLocaleString()} of тВ╣${n.budget.toLocaleString()})`,icon:n.categoryDetails.icon,category:n.category})),...e(q).filter(n=>n.budgetUtilization>85).map(n=>({type:"member_high",severity:n.budgetUtilization>100?"danger":"warning",title:`${n.name} Budget Alert`,message:`${n.budgetUtilization.toFixed(1)}% of monthly budget allocated`,icon:n.avatar,memberId:n.id}))])}),re(()=>e(A),()=>{b(o,e(A).map(n=>({label:n.categoryDetails.name,value:n.amount,color:n.categoryDetails.color.replace("text-","bg-"),icon:n.categoryDetails.icon})))}),ba(),fa();var dt=yr(),lt=a(dt),Qe=r(a(lt),2),Oe=a(Qe),Rt=a(Oe);h(Rt,{icon:"heroicons:chart-bar",class:"w-4 h-4"}),it(2),t(Oe);var Et=r(Oe,2),Ot=a(Et);h(Ot,{icon:"heroicons:arrow-down-tray",class:"w-4 h-4"}),it(2),t(Et),t(Qe),t(lt);var At=r(lt,2);{var Nt=n=>{var i=br(),S=a(i),k=a(S);h(k,{icon:"heroicons:exclamation-triangle",class:"w-5 h-5 text-amber-600 mr-2"});var xe=r(k);t(S);var z=r(S,2);Be(z,5,()=>e(V),Ke,(fe,te)=>{var ue=mr(),Ge=a(ue),Ee=a(Ge,!0);t(Ge);var pe=r(Ge,2),oe=a(pe),$e=a(oe,!0);t(oe);var Ce=r(oe,2),Ve=a(Ce,!0);t(Ce),t(pe);var ht=r(pe,2);h(ht,{icon:"heroicons:chevron-right",class:"w-4 h-4 text-gray-400"}),t(ue),C(Bt=>{de(ue,1,`flex items-start space-x-3 p-3 rounded-lg border ${Bt??""}`),d(Ee,(e(te),s(()=>e(te).icon))),d($e,(e(te),s(()=>e(te).title))),d(Ve,(e(te),s(()=>e(te).message)))},[()=>(e(te),s(()=>ot(e(te).severity)))]),x(fe,ue)}),t(z),t(i),C(()=>d(xe,` Budget Alerts (${e(V),s(()=>e(V).length)??""})`)),x(n,i)};Te(At,n=>{e(V),s(()=>e(V).length>0)&&n(Nt)})}var Ye=r(At,2),Mt=a(Ye),Je=a(Mt),vt=a(Je),$t=r(a(vt),2),Ht=a($t,!0);t($t),t(vt);var zt=r(vt,2),jt=a(zt);h(jt,{icon:"heroicons:banknotes",class:"w-6 h-6 text-blue-600"}),t(zt),t(Je),t(Mt);var mt=r(Mt,2),M=a(mt),$=a(M),K=r(a($),2),_e=a(K,!0);t(K),t($);var J=r($,2),ee=a(J);h(ee,{icon:"heroicons:credit-card",class:"w-6 h-6 text-orange-600"}),t(J),t(M),t(mt);var he=r(mt,2),ve=a(he),ge=a(ve),Ie=r(a(ge),2),se=a(Ie,!0);t(Ie),t(ge);var Pe=r(ge,2),ct=a(Pe);{let n=ca(()=>e(m)>=0?"text-green-600":"text-red-600");h(ct,{icon:"heroicons:wallet",get class(){return`w-6 h-6 ${e(n)??""}`}})}t(Pe),t(ve),t(he);var je=r(he,2),Ne=a(je),me=a(Ne),Me=r(a(me),2),Re=a(Me);t(Me),t(me);var Le=r(me,2),qe=a(Le);{let n=ca(()=>e(D)>90?"text-red-600":e(D)>75?"text-amber-600":"text-green-600");h(qe,{icon:"heroicons:chart-pie",get class(){return`w-6 h-6 ${e(n)??""}`}})}t(Le),t(Ne),t(je),t(Ye);var Ue=r(Ye,2),Ae=a(Ue),Xe=r(a(Ae),2),Ze=a(Xe);Be(Ze,5,()=>e(A),Ke,(n,i)=>{var S=xr(),k=a(S),xe=a(k),z=a(xe),fe=a(z,!0);t(z);var te=r(z,2),ue=a(te),Ge=a(ue,!0);t(ue);var Ee=r(ue,2),pe=a(Ee);t(Ee),t(te),t(xe);var oe=r(xe,2),$e=a(oe);t(oe),t(k);var Ce=r(k,2),Ve=a(Ce);t(Ce);var ht=r(Ce,2),Bt=a(ht),qt=a(Bt);t(Bt);var kt=r(Bt,2),ta=a(kt,!0);t(kt),t(ht),t(S),C((ia,aa,Xt,ra,na,oa)=>{d(fe,(e(i),s(()=>e(i).categoryDetails.icon))),d(Ge,(e(i),s(()=>e(i).categoryDetails.name))),d(pe,`${ia??""} of ${aa??""}`),de(oe,1,`text-sm font-medium ${e(i),s(()=>e(i).utilization>90?"text-red-600":e(i).utilization>75?"text-amber-600":"text-green-600")??""}`),d($e,`${Xt??""}%`),de(Ve,1,`h-2 rounded-full transition-all duration-500 ${e(i),s(()=>e(i).utilization>90?"bg-red-500":e(i).utilization>75?"bg-amber-500":"bg-green-500")??""}`),Ia(Ve,`width: ${ra??""}%`),d(qt,`Remaining: ${na??""}`),de(kt,1,`px-2 py-1 rounded-full ${oa??""} text-xs`),d(ta,(e(i),s(()=>e(i).status==="danger"?"Over Budget":e(i).status==="warning"?"Near Limit":"On Track")))},[()=>(e(i),s(()=>Z(e(i).amount))),()=>(e(i),s(()=>Z(e(i).budget))),()=>(e(i),s(()=>e(i).utilization.toFixed(1))),()=>(e(i),s(()=>Math.min(e(i).utilization,100))),()=>(e(i),s(()=>Z(e(i).remaining))),()=>(e(i),s(()=>ot(e(i).status)))]),x(n,S)}),t(Ze),t(Xe),t(Ae);var yt=r(Ae,2),Fe=r(a(yt),2),et=a(Fe);Be(et,5,()=>(e(o),s(()=>e(o).slice(0,6))),Ke,(n,i)=>{var S=fr(),k=a(S),xe=a(k),z=r(xe,2),fe=a(z,!0);t(z),t(k);var te=r(k,2),ue=a(te),Ge=a(ue,!0);t(ue);var Ee=r(ue,2),pe=a(Ee);t(Ee),t(te),t(S),C((oe,$e,Ce)=>{de(xe,1,`w-4 h-4 rounded-full ${oe??""}`),d(fe,(e(i),s(()=>e(i).label))),d(Ge,$e),d(pe,`${Ce??""}%`)},[()=>(e(i),s(()=>e(i).color.replace("text-","bg-"))),()=>(e(i),s(()=>Z(e(i).value))),()=>(e(i),e(v),s(()=>(e(i).value/e(v)*100).toFixed(1)))]),x(n,S)}),t(et);var bt=r(et,2),xt=a(bt),tt=a(xt);h(tt,{icon:"heroicons:chart-pie",class:"w-8 h-8 mx-auto mb-2"}),it(2),t(xt),t(bt),t(Fe),t(yt),t(Ue);var f=r(Ue,2),U=r(a(f),2),ye=a(U);Be(ye,5,()=>e(q),Ke,(n,i)=>{var S=_r(),k=a(S),xe=a(k),z=a(xe,!0);t(xe);var fe=r(xe,2),te=a(fe),ue=a(te,!0);t(te);var Ge=r(te,2),Ee=a(Ge,!0);t(Ge),t(fe),t(k);var pe=r(k,2),oe=a(pe),$e=r(a(oe),2),Ce=a($e,!0);t($e),t(oe);var Ve=r(oe,2),ht=r(a(Ve),2),Bt=a(ht,!0);t(ht),t(Ve);var qt=r(Ve,2),kt=r(a(qt),2),ta=a(kt,!0);t(kt),t(qt),t(pe);var ia=r(pe,2),aa=a(ia),Xt=a(aa);t(aa);var ra=r(aa,2),na=a(ra);t(ra),t(ia),t(S),C((oa,_a,wa,G,W)=>{d(z,(e(i),s(()=>e(i).avatar))),d(ue,(e(i),s(()=>e(i).name))),d(Ee,(e(i),s(()=>e(i).role))),d(Ce,oa),d(Bt,_a),de(kt,1,`font-medium ${e(i),s(()=>e(i).remaining>=0?"text-green-600":"text-red-600")??""}`),d(ta,wa),de(Xt,1,`h-2 rounded-full transition-all duration-500 ${e(i),s(()=>e(i).status==="over"?"bg-red-500":e(i).status==="warning"?"bg-amber-500":"bg-green-500")??""}`),Ia(Xt,`width: ${G??""}%`),d(na,`${W??""}% used`)},[()=>(e(i),s(()=>Z(e(i).monthlyBudget))),()=>(e(i),s(()=>Z(e(i).allocatedMonthly))),()=>(e(i),s(()=>Z(e(i).remaining))),()=>(e(i),s(()=>Math.min(e(i).budgetUtilization,100))),()=>(e(i),s(()=>e(i).budgetUtilization.toFixed(1)))]),x(n,S)}),t(ye),t(U),t(f);var p=r(f,2);{var w=n=>{const i=ca(()=>s(ke));var S=hr(),k=r(a(S),2),xe=a(k),z=a(xe),fe=r(a(z),2),te=a(fe,!0);t(fe);var ue=r(fe,2),Ge=a(ue,!0);t(ue),t(z);var Ee=r(z,2),pe=r(a(Ee),2),oe=a(pe,!0);t(pe),it(2),t(Ee);var $e=r(Ee,2),Ce=r(a($e),2),Ve=a(Ce,!0);t(Ce);var ht=r(Ce,2),Bt=a(ht,!0);t(ht),t($e),t(xe),t(k),t(S),C((qt,kt,ta)=>{d(te,qt),d(Ge,(L(e(i)),e(l),s(()=>e(i).monthly>e(l)?"Over budget":"Within budget"))),d(oe,kt),de(Ce,1,`text-2xl font-bold ${L(e(i)),s(()=>e(i).savings>=0?"text-green-600":"text-red-600")??""}`),d(Ve,ta),d(Bt,(L(e(i)),s(()=>e(i).savings>=0?"On track":"Need to cut back")))},[()=>(L(e(i)),s(()=>Z(e(i).monthly))),()=>(L(e(i)),s(()=>Z(e(i).yearly))),()=>(L(e(i)),s(()=>Z(e(i).savings)))]),x(n,S)};Te(p,n=>{e(Se)&&n(w)})}var E=r(p,2),ie=r(a(E),2),ce=a(ie),R=a(ce),F=r(a(R),2),j=a(F),_=r(a(j),2),O=a(_);t(_),t(j);var X=r(j,2),I=r(a(X),2),we=a(I);t(I),t(X);var ne=r(X,2),He=r(a(ne),2),at=a(He);t(He),t(ne);var wt=r(ne,2),Gt=r(a(wt),2),u=a(Gt);t(Gt),t(wt);var g=r(wt,2),N=r(a(g),2),be=a(N);t(N),t(g),t(F),t(R);var B=r(R,2),H=r(a(B),2),rt=a(H),Dt=r(a(rt),2),ft=a(Dt);t(Dt),t(rt);var Tt=r(rt,2),ut=r(a(Tt),2),pt=a(ut);t(ut),t(Tt);var _t=r(Tt,2),Lt=r(a(_t),2),Wt=a(Lt);t(Lt),t(_t);var Ct=r(_t,2),It=r(a(Ct),2),ze=a(It);t(It),t(Ct);var st=r(Ct,2),St=r(a(st),2),Yt=a(St);t(St),t(st),t(H),t(B),t(ce),t(ie),t(E),t(dt),C((n,i,S,k,xe,z,fe,te,ue,Ge,Ee,pe,oe,$e)=>{d(Ht,n),d(_e,i),de(Ie,1,`text-2xl font-bold ${e(m)>=0?"text-green-600":"text-red-600"}`),d(se,S),de(Pe,1,`p-3 ${e(m)>=0?"bg-green-100":"bg-red-100"} rounded-lg`),de(Me,1,`text-2xl font-bold ${e(D)>90?"text-red-600":e(D)>75?"text-amber-600":"text-green-600"}`),d(Re,`${k??""}%`),de(Le,1,`p-3 ${e(D)>90?"bg-red-100":e(D)>75?"bg-amber-100":"bg-green-100"} rounded-lg`),d(O,`тВ╣${xe??""}`),d(we,`тВ╣${z??""}`),d(at,`тВ╣${fe??""}`),d(u,`тВ╣${te??""}`),d(be,`тВ╣${ue??""}`),d(ft,`тВ╣${Ge??""}`),d(pt,`тВ╣${Ee??""}`),d(Wt,`тВ╣${pe??""}`),d(ze,`тВ╣${oe??""}`),d(Yt,`тВ╣${$e??""}`)},[()=>(e(l),s(()=>Z(e(l)))),()=>(e(v),s(()=>Z(e(v)))),()=>(e(m),s(()=>Z(e(m)))),()=>(e(D),s(()=>e(D).toFixed(1))),()=>(L(Pt),s(()=>Pt.filter(n=>n.type==="mobile").reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(Pt),s(()=>Pt.filter(n=>["electricity","water","gas"].includes(n.type)).reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(Pt),s(()=>Pt.filter(n=>["broadband","dth"].includes(n.type)).reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(Pt),s(()=>Pt.filter(n=>n.type==="streaming").reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(pa),s(()=>pa.toLocaleString())),()=>(L(Ft),s(()=>Ft.filter(n=>n.type.includes("insurance")).reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(Ft),s(()=>Ft.filter(n=>n.type==="property_tax").reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(Ft),s(()=>Ft.filter(n=>n.type==="vehicle_insurance").reduce((n,i)=>n+i.amount,0).toLocaleString())),()=>(L(ua),s(()=>ua.toLocaleString())),()=>(L(ua),s(()=>Math.round(ua/12).toLocaleString()))]),Y("click",Oe,()=>b(Se,!e(Se))),Y("click",Et,gt),x(nt,dt),xa()}class Dr{constructor(){this.apiKeys={twilio:null,firebase:null,whatsapp:null},this.notificationQueue=[],this.sentNotifications=[],this.preferences={enableSMS:!0,enableWhatsApp:!0,enablePush:!0,reminderDaysBefore:[7,3,1],overdueReminders:!0,festivalReminders:!0}}init(){this.checkDuePayments(),this.scheduleReminders(),setInterval(()=>{this.checkDuePayments()},3600*1e3)}checkDuePayments(){const c=new Date;[...Pt,...Ft].forEach(v=>{const m=new Date(v.dueDate),D=Math.ceil((m-c)/(1e3*60*60*24));this.preferences.reminderDaysBefore.includes(D)?this.createReminder(v,"upcoming"):D<0&&this.preferences.overdueReminders?this.createReminder(v,"overdue"):D===0&&this.createReminder(v,"due_today")}),this.processNotificationQueue()}createReminder(c,l){const v=c.assignedTo,m=`${c.id}_${l}_${new Date().toISOString().split("T")[0]}`;if(this.sentNotifications.includes(m))return;const D={id:m,type:l,payment:c,member:v,createdAt:new Date,methods:[]};this.preferences.enableSMS&&D.methods.push({type:"sms",to:v.phoneNumber,message:this.generateSMSMessage(c,v,l)}),this.preferences.enableWhatsApp&&D.methods.push({type:"whatsapp",to:v.whatsappNumber,message:this.generateWhatsAppMessage(c,v,l)}),this.preferences.enablePush&&D.methods.push({type:"push",title:this.generatePushTitle(c,l),body:this.generatePushBody(c,v,l),icon:"ЁЯТ░",data:{paymentId:c.id,type:l}}),this.notificationQueue.push(D)}generateSMSMessage(c,l,v){const m=ha.sms[l.preferredLanguage]||ha.sms.english,D=m[v]||m.reminder;return this.replaceMessageVariables(D,c,l)}generateWhatsAppMessage(c,l,v){const m=ha.whatsapp[l.preferredLanguage]||ha.whatsapp.english,D=m[v]||m.reminder;return this.replaceMessageVariables(D,c,l)}generatePushTitle(c,l){switch(l){case"overdue":return"тЪая╕П Overdue Payment";case"due_today":return"ЁЯУЕ Payment Due Today";case"upcoming":return"тП░ Upcoming Payment";default:return"ЁЯТ░ Payment Reminder"}}generatePushBody(c,l,v){const m=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(c.amount);switch(v){case"overdue":return`${l.name}, your ${c.provider} bill of ${m} is overdue!`;case"due_today":return`${l.name}, your ${c.provider} bill of ${m} is due today.`;case"upcoming":return`${l.name}, your ${c.provider} bill of ${m} is due soon.`;default:return`Payment reminder for ${c.provider}`}}replaceMessageVariables(c,l,v){const m=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(l.amount),D=new Date(l.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return c.replace(/{name}/g,v.name).replace(/{service}/g,`${l.provider} ${l.type}`).replace(/{amount}/g,m).replace(/{date}/g,D)}async processNotificationQueue(){for(;this.notificationQueue.length>0;){const c=this.notificationQueue.shift();try{await this.sendNotification(c),this.sentNotifications.push(c.id),console.log(`Notification sent: ${c.id}`)}catch(l){console.error(`Failed to send notification ${c.id}:`,l)}}}async sendNotification(c){const l=c.methods.map(v=>{switch(v.type){case"sms":return this.sendSMS(v.to,v.message);case"whatsapp":return this.sendWhatsApp(v.to,v.message);case"push":return this.sendPushNotification(v);default:return Promise.resolve()}});await Promise.allSettled(l)}async sendSMS(c,l){if(!this.apiKeys.twilio)return console.log(`SMS to ${c}: ${l}`),{success:!0,mock:!0};try{return console.log(`SMS sent to ${c}: ${l}`),{success:!0}}catch(v){throw new Error(`SMS failed: ${v.message}`)}}async sendWhatsApp(c,l){if(!this.apiKeys.whatsapp)return console.log(`WhatsApp to ${c}: ${l}`),{success:!0,mock:!0};try{return console.log(`WhatsApp sent to ${c}: ${l}`),{success:!0}}catch(v){throw new Error(`WhatsApp failed: ${v.message}`)}}async sendPushNotification(c){if(!this.apiKeys.firebase)return console.log(`Push notification: ${c.title} - ${c.body}`),{success:!0,mock:!0};try{return console.log(`Push notification sent: ${c.title}`),{success:!0}}catch(l){throw new Error(`Push notification failed: ${l.message}`)}}async sendManualReminder(c,l=null){const v=[...Pt,...Ft].find(A=>A.id===c);if(!v)throw new Error("Payment not found");const D=(l?le.filter(A=>l.includes(A.id)):[v.assignedTo]).map(A=>({id:`manual_${v.id}_${A.id}_${Date.now()}`,type:"manual",payment:v,member:A,createdAt:new Date,methods:[{type:"whatsapp",to:A.whatsappNumber,message:this.generateWhatsAppMessage(v,A,"reminder")}]}));for(const A of D)await this.sendNotification(A);return{success:!0,sent:D.length}}getNotificationHistory(c=30){const l=new Date;return l.setDate(l.getDate()-c),this.sentNotifications.filter(v=>{const m=v.split("_");return m.length>=3?new Date(m[2])>=l:!0}).slice(-50)}scheduleReminders(){[{name:"Diwali",date:"2025-10-31",days:[7,3,1]},{name:"Pongal",date:"2026-01-14",days:[14,7,3,1]},{name:"Navaratri",date:"2025-10-03",days:[7,3,1]},{name:"Ganesh Chaturthi",date:"2025-08-29",days:[7,3,1]}].forEach(l=>{l.days.forEach(v=>{const m=new Date(l.date);m.setDate(m.getDate()-v),m>=new Date&&setTimeout(()=>{this.sendFestivalReminder(l,v)},m-new Date)})})}async sendFestivalReminder(c,l){const v=`ЁЯОЙ ${c.name} is in ${l} day(s)! Time to start preparations. Check your festival expenses budget and shopping list.`;for(const m of le)await this.sendPushNotification({title:`ЁЯкФ ${c.name} Reminder`,body:v,icon:"ЁЯОЙ",data:{type:"festival",festival:c.name}})}updatePreferences(c){this.preferences={...this.preferences,...c},localStorage.setItem("notificationPreferences",JSON.stringify(this.preferences))}loadPreferences(){const c=localStorage.getItem("notificationPreferences");c&&(this.preferences={...this.preferences,...JSON.parse(c)})}getPreferences(){return{...this.preferences}}async testNotification(c,l="sms"){const v=le.find(A=>A.id===c);if(!v)throw new Error("Member not found");const m={id:"test",provider:"Test Service",type:"test",amount:100,dueDate:new Date().toISOString().split("T")[0]},D=l==="sms"?this.generateSMSMessage(m,v,"reminder"):this.generateWhatsAppMessage(m,v,"reminder");return l==="sms"?await this.sendSMS(v.phoneNumber,D):await this.sendWhatsApp(v.whatsappNumber,D),{success:!0,message:D}}}const ya=new Dr;typeof window<"u"&&(ya.loadPreferences(),ya.init());var Tr=y('<button><!> <div class="text-left"><div class="font-medium"> </div> <div class="text-xs opacity-75"> </div></div></button>'),Ir=y('<div class="space-y-8"><div class="grid grid-cols-1 md:grid-cols-4 gap-6"><div class="bg-white rounded-lg p-6 shadow-sm border border-blue-100"><div class="flex items-center"><div class="p-3 bg-blue-100 rounded-lg"><!></div> <div class="ml-4"><p class="text-sm text-gray-600">Family Budget</p> <p class="text-2xl font-bold text-blue-600"> </p></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border border-orange-100"><div class="flex items-center"><div class="p-3 bg-orange-100 rounded-lg"><!></div> <div class="ml-4"><p class="text-sm text-gray-600">Monthly Bills</p> <p class="text-2xl font-bold text-orange-600"> </p></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border border-green-100"><div class="flex items-center"><div class="p-3 bg-green-100 rounded-lg"><!></div> <div class="ml-4"><p class="text-sm text-gray-600">Available</p> <p class="text-2xl font-bold text-green-600"> </p></div></div></div> <div class="bg-white rounded-lg p-6 shadow-sm border border-purple-100"><div class="flex items-center"><div class="p-3 bg-purple-100 rounded-lg"><!></div> <div class="ml-4"><p class="text-sm text-gray-600">Budget Used</p> <p class="text-2xl font-bold text-purple-600"> </p></div></div></div></div> <div><h2 class="text-xl font-semibold text-gray-900 mb-6">Family Financial Overview</h2> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div> <div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><button class="flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"><div class="p-2 bg-blue-100 rounded-lg"><!></div> <div class="text-left"><h4 class="font-medium text-gray-900">Add Expense</h4> <p class="text-sm text-gray-600">Log a new family expense</p></div></button> <button class="flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"><div class="p-2 bg-green-100 rounded-lg"><!></div> <div class="text-left"><h4 class="font-medium text-gray-900">Pay Bills</h4> <p class="text-sm text-gray-600">Manage monthly recharges</p></div></button> <button class="flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"><div class="p-2 bg-purple-100 rounded-lg"><!></div> <div class="text-left"><h4 class="font-medium text-gray-900">View Analytics</h4> <p class="text-sm text-gray-600">Budget analysis & trends</p></div></button></div></div></div>'),Sr=y('<div class="space-y-6"><div><h2 class="text-xl font-semibold text-gray-900 mb-6">Family Member Financial Profiles</h2> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div></div></div>'),kr=y('<span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm"> </span>'),Pr=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-gray-900"> </h2> <button class="text-gray-400 hover:text-gray-600"><!></button></div> <div class="space-y-6"><div class="flex items-center space-x-4"><span class="text-4xl"> </span> <div><h3 class="text-lg font-semibold"> </h3> <p class="text-gray-600 capitalize"> </p> <p class="text-sm text-gray-500"> </p></div></div> <div class="bg-gray-50 rounded-lg p-4"><h4 class="font-medium text-gray-900 mb-3">Budget Allocation</h4> <div class="space-y-2"><div class="flex justify-between"><span class="text-gray-600">Monthly Budget:</span> <span class="font-semibold"> </span></div></div></div> <div><h4 class="font-medium text-gray-900 mb-3">Financial Responsibilities</h4> <div class="flex flex-wrap gap-2"></div></div> <div><h4 class="font-medium text-gray-900 mb-3">Contact Information</h4> <div class="space-y-2"><div class="flex items-center space-x-2"><!> <span class="text-gray-600">Phone:</span> <span> </span></div> <div class="flex items-center space-x-2"><!> <span class="text-gray-600">WhatsApp:</span> <span> </span></div></div></div></div> <div class="flex justify-end space-x-3 pt-6 border-t border-gray-100 mt-6"><button class="px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50">Close</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Send Reminder</button></div></div></div></div>'),Ar=y('<div class="min-h-screen bg-gradient-to-br from-green-50 to-emerald-100"><div class="container mx-auto px-4 py-6"><div class="bg-white rounded-xl shadow-lg p-6 mb-6"><div class="flex items-center justify-between mb-4"><div class="flex items-center space-x-4"><div class="bg-green-100 p-3 rounded-lg"><!></div> <div><h1 class="text-3xl font-bold text-gray-900">Family Finance Management Suite</h1> <p class="text-lg text-gray-600">роХрпБроЯрпБроорпНрок роиро┐родро┐ роорпЗро▓ро╛рогрпНроорпИ родрпКроХрпБрокрпНрокрпБ</p> <p class="text-sm text-gray-500">Comprehensive financial planning for South Indian families</p></div></div> <div class="flex space-x-3"><button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2"><!> <span>Send Summary</span></button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"><!> <span>Export Report</span></button></div></div> <div class="flex flex-wrap gap-2"></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div> <!>',1);function Nr(nt,c){ma(c,!1);const l=P(),v=P(),m=P(),D=P(),A=P();let q=P("dashboard"),o=P(null);function T(M){b(q,M),window.history.pushState({},"",`/finances/${M}`)}function V(M){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(M)}function Se(M){b(o,M)}function Q(){ya.sendManualReminder("budget_summary",le.map(M=>M.id)),alert("Budget summary sent to all family members!")}function Z(){const M={generatedAt:new Date().toISOString(),familySummary:{totalBudget:e(v),totalAllocated:e(m),remainingBudget:e(D),budgetUtilization:e(A)},memberBreakdown:le.map(J=>({name:J.name,role:J.role,monthlyBudget:J.monthlyBudget,responsibilities:J.responsibilities})),monthlyCommitments:pa,yearlyCommitments:ua},$=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),K=window.URL.createObjectURL($),_e=document.createElement("a");_e.href=K,_e.download=`family_finance_report_${new Date().toISOString().split("T")[0]}.json`,_e.click(),window.URL.revokeObjectURL(K)}const ot=[{id:"dashboard",name:"Dashboard",tamil:"роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБ",icon:"heroicons:home",description:"Overview & Analytics"},{id:"recharges",name:"Recharges",tamil:"ро░рпАроЪро╛ро░рпНроЬрпН",icon:"heroicons:device-phone-mobile",description:"Monthly Bills & Renewals"},{id:"expenses",name:"Expenses",tamil:"роЪрпЖро▓ро╡рпБроХро│рпН",icon:"heroicons:credit-card",description:"Track Daily Expenses"},{id:"budget",name:"Budget",tamil:"рокроЯрпНроЬрпЖроЯрпН",icon:"heroicons:calculator",description:"Budget Planning & Analysis"},{id:"insurance",name:"Insurance",tamil:"роХро╛рокрпНрокрпАроЯрпБ",icon:"heroicons:shield-check",description:"Insurance Management"},{id:"investments",name:"Investments",tamil:"роорпБродро▓рпАроЯрпБроХро│рпН",icon:"heroicons:chart-line",description:"Investment Tracking"}];Sa(()=>{document.title="Family Finance Management Suite"}),re(()=>e(q),()=>{b(l,ot.find(M=>M.id===e(q)))}),re(()=>le,()=>{b(v,le.reduce((M,$)=>M+$.monthlyBudget,0))}),re(()=>pa,()=>{b(m,pa)}),re(()=>(e(v),e(m)),()=>{b(D,e(v)-e(m))}),re(()=>(e(m),e(v)),()=>{b(A,e(m)/e(v)*100)}),ba(),fa();var ke=Ar(),gt=ea(ke),dt=a(gt),lt=a(dt),Qe=a(lt),Oe=a(Qe),Rt=a(Oe),Et=a(Rt);h(Et,{icon:"heroicons:currency-rupee",class:"w-8 h-8 text-green-600"}),t(Rt),it(2),t(Oe);var Ot=r(Oe,2),At=a(Ot),Nt=a(At);h(Nt,{icon:"heroicons:paper-airplane",class:"w-4 h-4"}),it(2),t(At);var Ye=r(At,2),Mt=a(Ye);h(Mt,{icon:"heroicons:arrow-down-tray",class:"w-4 h-4"}),it(2),t(Ye),t(Ot),t(Qe);var Je=r(Qe,2);Be(Je,5,()=>ot,Ke,(M,$)=>{var K=Tr(),_e=a(K);h(_e,{get icon(){return e($),s(()=>e($).icon)},class:"w-5 h-5"});var J=r(_e,2),ee=a(J),he=a(ee,!0);t(ee);var ve=r(ee,2),ge=a(ve,!0);t(ve),t(J),t(K),C(()=>{de(K,1,`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e(q),e($),s(()=>e(q)===e($).id?"bg-green-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200")??""}`),d(he,(e($),s(()=>e($).name))),d(ge,(e($),s(()=>e($).tamil)))}),Y("click",K,()=>T(e($).id)),x(M,K)}),t(Je),t(lt),t(dt);var vt=r(dt,2),$t=a(vt);{var Ht=M=>{var $=Ir(),K=a($),_e=a(K),J=a(_e),ee=a(J),he=a(ee);h(he,{icon:"heroicons:banknotes",class:"w-6 h-6 text-blue-600"}),t(ee);var ve=r(ee,2),ge=r(a(ve),2),Ie=a(ge,!0);t(ge),t(ve),t(J),t(_e);var se=r(_e,2),Pe=a(se),ct=a(Pe),je=a(ct);h(je,{icon:"heroicons:credit-card",class:"w-6 h-6 text-orange-600"}),t(ct);var Ne=r(ct,2),me=r(a(Ne),2),Me=a(me,!0);t(me),t(Ne),t(Pe),t(se);var Re=r(se,2),Le=a(Re),qe=a(Le),Ue=a(qe);h(Ue,{icon:"heroicons:wallet",class:"w-6 h-6 text-green-600"}),t(qe);var Ae=r(qe,2),Xe=r(a(Ae),2),Ze=a(Xe,!0);t(Xe),t(Ae),t(Le),t(Re);var yt=r(Re,2),Fe=a(yt),et=a(Fe),bt=a(et);h(bt,{icon:"heroicons:chart-pie",class:"w-6 h-6 text-purple-600"}),t(et);var xt=r(et,2),tt=r(a(xt),2),f=a(tt);t(tt),t(xt),t(Fe),t(yt),t(K);var U=r(K,2),ye=r(a(U),2);Be(ye,5,()=>le,Ke,(I,we)=>{ka(I,{get member(){return e(we)},onClick:Se})}),t(ye),t(U);var p=r(U,2),w=r(a(p),2),E=a(w),ie=a(E),ce=a(ie);h(ce,{icon:"heroicons:plus",class:"w-5 h-5 text-blue-600"}),t(ie),it(2),t(E);var R=r(E,2),F=a(R),j=a(F);h(j,{icon:"heroicons:device-phone-mobile",class:"w-5 h-5 text-green-600"}),t(F),it(2),t(R);var _=r(R,2),O=a(_),X=a(O);h(X,{icon:"heroicons:chart-bar",class:"w-5 h-5 text-purple-600"}),t(O),it(2),t(_),t(w),t(p),t($),C((I,we,ne,He)=>{d(Ie,I),d(Me,we),d(Ze,ne),d(f,`${He??""}%`)},[()=>(e(v),s(()=>V(e(v)))),()=>(e(m),s(()=>V(e(m)))),()=>(e(D),s(()=>V(e(D)))),()=>(e(A),s(()=>e(A).toFixed(1)))]),Y("click",E,()=>activeTab="expenses"),Y("click",R,()=>activeTab="recharges"),Y("click",_,()=>activeTab="budget"),x(M,$)},zt=M=>{var $=va(),K=ea($);{var _e=ee=>{var he=Sr(),ve=a(he),ge=r(a(ve),2);Be(ge,5,()=>le,Ke,(Ie,se)=>{ka(Ie,{get member(){return e(se)},showDetails:!0})}),t(ge),t(ve),t(he),x(ee,he)},J=ee=>{var he=va(),ve=ea(he);{var ge=se=>{Za(se,{})},Ie=se=>{var Pe=va(),ct=ea(Pe);{var je=me=>{gr(me,{})},Ne=me=>{var Me=va(),Re=ea(Me);{var Le=qe=>{wr(qe,{})};Te(Re,qe=>{activeTab==="budget"&&qe(Le)},!0)}x(me,Me)};Te(ct,me=>{activeTab==="expenses"?me(je):me(Ne,!1)},!0)}x(se,Pe)};Te(ve,se=>{activeTab==="recharges"?se(ge):se(Ie,!1)},!0)}x(ee,he)};Te(K,ee=>{activeTab==="family"?ee(_e):ee(J,!1)},!0)}x(M,$)};Te($t,M=>{activeTab==="overview"?M(Ht):M(zt,!1)})}t(vt),t(gt);var jt=r(gt,2);{var mt=M=>{var $=Pr(),K=a($),_e=a(K),J=a(_e),ee=a(J),he=a(ee);t(ee);var ve=r(ee,2),ge=a(ve);h(ge,{icon:"heroicons:x-mark",class:"w-6 h-6"}),t(ve),t(J);var Ie=r(J,2),se=a(Ie),Pe=a(se),ct=a(Pe,!0);t(Pe);var je=r(Pe,2),Ne=a(je),me=a(Ne,!0);t(Ne);var Me=r(Ne,2),Re=a(Me);t(Me);var Le=r(Me,2),qe=a(Le);t(Le),t(je),t(se);var Ue=r(se,2),Ae=r(a(Ue),2),Xe=a(Ae),Ze=r(a(Xe),2),yt=a(Ze,!0);t(Ze),t(Xe),t(Ae),t(Ue);var Fe=r(Ue,2),et=r(a(Fe),2);Be(et,5,()=>(e(o),s(()=>e(o).responsibilities)),Ke,(j,_)=>{var O=kr(),X=a(O,!0);t(O),C(()=>d(X,e(_))),x(j,O)}),t(et),t(Fe);var bt=r(Fe,2),xt=r(a(bt),2),tt=a(xt),f=a(tt);h(f,{icon:"heroicons:phone",class:"w-4 h-4 text-gray-500"});var U=r(f,4),ye=a(U,!0);t(U),t(tt);var p=r(tt,2),w=a(p);h(w,{icon:"simple-icons:whatsapp",class:"w-4 h-4 text-green-500"});var E=r(w,4),ie=a(E,!0);t(E),t(p),t(xt),t(bt),t(Ie);var ce=r(Ie,2),R=a(ce),F=r(R,2);t(ce),t(_e),t(K),t($),C(j=>{d(he,`${e(o),s(()=>e(o).name)??""} - Financial Profile`),d(ct,(e(o),s(()=>e(o).avatar))),d(me,(e(o),s(()=>e(o).name))),d(Re,`${e(o),s(()=>e(o).role)??""} тАв Age ${e(o),s(()=>e(o).age)??""}`),d(qe,`Preferred Language: ${e(o),s(()=>e(o).preferredLanguage)??""}`),d(yt,j),d(ye,(e(o),s(()=>e(o).phoneNumber))),d(ie,(e(o),s(()=>e(o).whatsappNumber)))},[()=>(e(o),s(()=>V(e(o).monthlyBudget)))]),Y("click",ve,()=>showMemberDetails=!1),Y("click",R,()=>showMemberDetails=!1),Y("click",F,()=>{ya.sendManualReminder("test",[e(o).id]),alert(`Reminder sent to ${e(o).name}!`)}),x(M,$)};Te(jt,M=>{showMemberDetails&&e(o)&&M(mt)})}Y("click",At,Q),Y("click",Ye,Z),x(nt,ke),xa()}function Yr(nt){Nr(nt,{})}export{Yr as component};
