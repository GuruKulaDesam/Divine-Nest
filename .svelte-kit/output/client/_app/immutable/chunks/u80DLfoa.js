import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{c as lt}from"./39fK5dpH.js";import{ad as ot,ae as it,af as st,ag as y,ah as m,am as l,ap as C,t as e,ai as x,aj as nt,y as u,K as L,ak as o,ao as dt,an as r,ax as ie,u as i,al as v,aC as ct,as as Q,w as ut}from"./CirWT1vm.js";import{i as R}from"./Dn4D4y7S.js";import{e as U,i as z}from"./Bsg-a7gO.js";import{b as se,r as ne,s as Ie,a as vt}from"./C2NsQb6S.js";import{g as gt,t as pt,f as bt,u as Ne,a as ft,d as mt}from"./DpNtZ_7q.js";import{a as X}from"./-jVUd4rq.js";import{p as _t}from"./Bfc47y5P.js";import{i as xt}from"./CVl-uwuJ.js";import{I as D}from"./CCPGIiiA.js";var yt=y("<option> </option>"),ht=y("<option> </option>"),wt=y("<option> </option>"),Bt=y("<option> </option>"),Ct=y('<div class="mb-6 p-6 bg-green-50 rounded-xl border border-green-200"><h3 class="text-lg font-semibold text-gray-800 mb-4"> </h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Title</label> <input type="text" placeholder="Book title" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Author</label> <input type="text" placeholder="Author name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Owned By</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Total Pages (optional)</label> <input type="number" placeholder="e.g., 300" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Notes (optional)</label> <textarea placeholder="Additional notes about the book..." rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"></textarea></div> <div class="flex gap-3"><button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200"> </button> <button type="button" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200">Cancel</button></div></form></div>'),At=y('<div class="mb-4"><div class="flex justify-between text-sm mb-2"><span class="text-gray-600">Progress</span> <span class="font-medium"> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div></div>'),Pt=y('<div class="flex items-center gap-1 mb-3"><!> <span class="text-sm text-gray-600 ml-2"> </span></div>'),$t=y('<button class="flex-1 bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200">Mark Complete</button>'),Ft=y('<div class="border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 bg-white"><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-3"><div class="p-3 bg-gray-50 rounded-lg"><!></div> <div><span> </span></div></div> <div class="flex gap-1"><button class="text-blue-500 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-200"><!></button> <button class="text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors duration-200"><!></button></div></div> <div class="mb-4"><h3 class="text-lg font-semibold text-gray-800 mb-1 line-clamp-2"> </h3> <p class="text-sm text-gray-600 mb-2"> </p> <p class="text-xs text-gray-500"> </p></div> <!> <!> <div class="flex gap-2"><button class="flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200"> </button> <!></div></div>'),Lt=y('<button class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200">Add First Book</button>'),St=y('<div class="text-center py-12"><!> <h3 class="text-xl font-medium text-gray-600 mb-2"> </h3> <p class="text-gray-500 mb-4"> </p> <!></div>'),Et=y('<div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100"><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3"><!> Family Library Manager</h2> <button class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2"><!> </button></div> <div class="mb-6 p-4 bg-gray-50 rounded-xl"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Search</label> <input type="text" placeholder="Search by title or author..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"><option>All Categories</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Owned By</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"><option>All Owners</option><!></select></div> <div class="flex items-end"><button class="w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200">Clear Filters</button></div></div></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!></div>');function Rt(qe,Te){ot(Te,!1);const de=lt();let A=L([]),Y=L([]),S=L(!1),O=L(null),I=L(""),N=L("all"),q=L("all"),s=L({title:"",author:"",category:"academic",ownedBy:"family",totalPages:"",notes:""});const Z=[{value:"spiritual",label:"Spiritual",icon:"heroicons:sparkles",color:"text-purple-500"},{value:"comics",label:"Comics",icon:"heroicons:face-smile",color:"text-pink-500"},{value:"historical",label:"Historical",icon:"heroicons:clock",color:"text-amber-500"},{value:"mythics",label:"Mythics",icon:"heroicons:star",color:"text-indigo-500"},{value:"mystics",label:"Mystics",icon:"heroicons:eye",color:"text-cyan-500"},{value:"academic",label:"Academic",icon:"heroicons:academic-cap",color:"text-green-500"}],ce=[{value:"amma",label:"Amma"},{value:"appa",label:"Appa"},{value:"paati",label:"Paati"},{value:"children",label:"Children"},{value:"family",label:"Family"}];async function ee(){try{u(A,await gt()),Fe()}catch(a){console.error("Error loading books:",a)}}ee();function Fe(){let a=e(A);e(I)&&(a=a.filter(t=>t.title.toLowerCase().includes(e(I).toLowerCase())||t.author.toLowerCase().includes(e(I).toLowerCase()))),e(N)!=="all"&&(a=a.filter(t=>t.category===e(N))),e(q)!=="all"&&(a=a.filter(t=>t.ownedBy===e(q))),u(Y,a)}function Le(){u(s,{title:"",author:"",category:"academic",ownedBy:"family",totalPages:"",notes:""}),u(O,null),u(S,!1)}function He(a){var t;u(O,a),u(s,{title:a.title,author:a.author,category:a.category,ownedBy:a.ownedBy,totalPages:((t=a.totalPages)==null?void 0:t.toString())||"",notes:a.notes||""}),u(S,!0)}async function Ke(){try{const a={title:e(s).title,author:e(s).author,category:e(s).category,ownedBy:e(s).ownedBy,totalPages:e(s).totalPages?parseInt(e(s).totalPages):void 0,notes:e(s).notes||void 0,status:"available",progress:0};e(O)?await Ne(e(O).id,a):await ft(a),Le(),await ee(),de("dataChanged")}catch(a){console.error("Error saving book:",a)}}async function Qe(a){if(confirm("Are you sure you want to delete this book?"))try{await mt(a),await ee(),de("dataChanged")}catch(t){console.error("Error deleting book:",t)}}async function Se(a,t){try{await Ne(a,{status:t}),await ee(),de("dataChanged")}catch(n){console.error("Error updating book status:",n)}}function Ee(a){return Z.find(t=>t.value===a)||Z[0]}function Re(a){return a>=100?"bg-green-500":a>=80?"bg-blue-500":a>=60?"bg-yellow-500":a>=40?"bg-orange-500":"bg-red-500"}function Ue(a){switch(a){case"reading":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"available":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}it(()=>{},()=>{Fe()}),st(),xt();var ue=Et(),ve=l(ue),ge=l(ve),ze=l(ge);D(ze,{icon:"heroicons:book-open",class:"text-green-500"}),dt(),r(ge);var pe=o(ge,2),Me=l(pe);D(Me,{icon:"heroicons:plus",class:"text-lg"});var Ge=o(Me);r(pe),r(ve);var be=o(ve,2),ke=l(be),fe=l(ke),je=o(l(fe),2);ne(je),r(fe);var me=o(fe,2),_e=o(l(me),2);m(()=>{e(N),ie(()=>{})});var xe=l(_e);xe.value=xe.__value="all";var Je=o(xe);U(Je,1,()=>Z,z,(a,t)=>{var n=yt(),_=l(n,!0);r(n);var g={};m(()=>{v(_,(e(t),i(()=>e(t).label))),g!==(g=(e(t),i(()=>e(t).value)))&&(n.value=(n.__value=(e(t),i(()=>e(t).value)))??"")}),x(a,n)}),r(_e),r(me);var ye=o(me,2),he=o(l(ye),2);m(()=>{e(q),ie(()=>{})});var we=l(he);we.value=we.__value="all";var Ve=o(we);U(Ve,1,()=>ce,z,(a,t)=>{var n=ht(),_=l(n,!0);r(n);var g={};m(()=>{v(_,(e(t),i(()=>e(t).label))),g!==(g=(e(t),i(()=>e(t).value)))&&(n.value=(n.__value=(e(t),i(()=>e(t).value)))??"")}),x(a,n)}),r(he),r(ye);var De=o(ye,2),We=l(De);r(De),r(ke),r(be);var Oe=o(be,2);{var Xe=a=>{var t=Ct(),n=l(t),_=l(n,!0);r(n);var g=o(n,2),h=l(g),E=l(h),M=o(l(E),2);ne(M),r(E);var w=o(E,2),P=o(l(w),2);ne(P),r(w);var B=o(w,2),$=o(l(B),2);m(()=>{e(s),ie(()=>{})}),U($,5,()=>Z,z,(d,p)=>{var b=wt(),V=l(b,!0);r(b);var F={};m(()=>{v(V,(e(p),i(()=>e(p).label))),F!==(F=(e(p),i(()=>e(p).value)))&&(b.value=(b.__value=(e(p),i(()=>e(p).value)))??"")}),x(d,b)}),r($),r(B);var G=o(B,2),k=o(l(G),2);m(()=>{e(s),ie(()=>{})}),U(k,5,()=>ce,z,(d,p)=>{var b=Bt(),V=l(b,!0);r(b);var F={};m(()=>{v(V,(e(p),i(()=>e(p).label))),F!==(F=(e(p),i(()=>e(p).value)))&&(b.value=(b.__value=(e(p),i(()=>e(p).value)))??"")}),x(d,b)}),r(k),r(G);var te=o(G,2),T=o(l(te),2);ne(T),r(te),r(h);var j=o(h,2),ae=o(l(j),2);ct(ae),r(j);var H=o(j,2),J=l(H),re=l(J,!0);r(J);var Ce=o(J,2);r(H),r(g),r(t),m(()=>{v(_,e(O)?"Edit Book":"Add New Book"),v(re,e(O)?"Update Book":"Add Book")}),X(M,()=>e(s).title,d=>Q(s,e(s).title=d)),X(P,()=>e(s).author,d=>Q(s,e(s).author=d)),se($,()=>e(s).category,d=>Q(s,e(s).category=d)),se(k,()=>e(s).ownedBy,d=>Q(s,e(s).ownedBy=d)),X(T,()=>e(s).totalPages,d=>Q(s,e(s).totalPages=d)),X(ae,()=>e(s).notes,d=>Q(s,e(s).notes=d)),C("click",Ce,Le),C("submit",g,_t(Ke)),pt(1,t,()=>bt),x(a,t)};R(Oe,a=>{e(S)&&a(Xe)})}var Be=o(Oe,2);U(Be,5,()=>e(Y),z,(a,t)=>{var n=Ft(),_=l(n),g=l(_),h=l(g),E=l(h);D(E,{get icon(){return e(t),i(()=>Ee(e(t).category).icon)},get class(){return`${e(t),i(()=>Ee(e(t).category).color)??""} text-xl`}}),r(h);var M=o(h,2),w=l(M),P=l(w,!0);r(w),r(M),r(g);var B=o(g,2),$=l(B),G=l($);D(G,{icon:"heroicons:pencil",class:"text-sm"}),r($);var k=o($,2),te=l(k);D(te,{icon:"heroicons:trash",class:"text-sm"}),r(k),r(B),r(_);var T=o(_,2),j=l(T),ae=l(j,!0);r(j);var H=o(j,2),J=l(H);r(H);var re=o(H,2),Ce=l(re);r(re),r(T);var d=o(T,2);{var p=c=>{var f=At(),K=l(f),W=o(l(K),2),Ae=l(W);r(W),r(K);var oe=o(K,2),Pe=l(oe);r(oe),r(f),m($e=>{v(Ae,`${e(t),i(()=>e(t).progress)??""}% (${e(t),i(()=>e(t).currentPage||0)??""}/${e(t),i(()=>e(t).totalPages)??""} pages)`),Ie(Pe,1,`${$e??""} h-2 rounded-full transition-all duration-300`),vt(Pe,`width: ${e(t),i(()=>e(t).progress)??""}%`)},[()=>(e(t),i(()=>Re(e(t).progress)))]),x(c,f)};R(d,c=>{e(t),i(()=>e(t).totalPages)&&c(p)})}var b=o(d,2);{var V=c=>{var f=Pt(),K=l(f);U(K,0,()=>Array(5),z,(oe,Pe,$e)=>{{let rt=ut(()=>(e(t),i(()=>$e<e(t).rating?"text-yellow-400":"text-gray-300")));D(oe,{icon:"heroicons:star",get class(){return`text-sm ${e(rt)??""}`}})}});var W=o(K,2),Ae=l(W);r(W),r(f),m(()=>v(Ae,`${e(t),i(()=>e(t).rating)??""}/5`)),x(c,f)};R(b,c=>{e(t),i(()=>e(t).rating)&&c(V)})}var F=o(b,2),le=l(F),et=l(le,!0);r(le);var tt=o(le,2);{var at=c=>{var f=$t();C("click",f,()=>Se(e(t).id,"completed")),x(c,f)};R(tt,c=>{e(t),i(()=>e(t).status==="reading")&&c(at)})}r(F),r(n),m((c,f)=>{Ie(w,1,`inline-block px-2 py-1 text-xs font-medium rounded-full ${c??""}`),v(P,(e(t),i(()=>e(t).status))),v(ae,(e(t),i(()=>e(t).title))),v(J,`by ${e(t),i(()=>e(t).author)??""}`),v(Ce,`Owned by: ${f??""}`),v(et,(e(t),i(()=>e(t).status==="reading"?"Mark Available":"Start Reading")))},[()=>(e(t),i(()=>Ue(e(t).status))),()=>(e(t),i(()=>{var c;return((c=ce.find(f=>f.value===e(t).ownedBy))==null?void 0:c.label)||e(t).ownedBy}))]),C("click",$,()=>He(e(t))),C("click",k,()=>Qe(e(t).id)),C("click",le,()=>Se(e(t).id,e(t).status==="reading"?"available":"reading")),x(a,n)}),r(Be);var Ye=o(Be,2);{var Ze=a=>{var t=St(),n=l(t);D(n,{icon:"heroicons:book-open",class:"text-gray-300 text-6xl mx-auto mb-4"});var _=o(n,2),g=l(_,!0);r(_);var h=o(_,2),E=l(h,!0);r(h);var M=o(h,2);{var w=P=>{var B=Lt();C("click",B,()=>u(S,!0)),x(P,B)};R(M,P=>{e(A),i(()=>e(A).length===0)&&P(w)})}r(t),m(()=>{v(g,(e(A),i(()=>e(A).length===0?"No Books in Library":"No Books Match Filters"))),v(E,(e(A),i(()=>e(A).length===0?"Add your first book to start building your family library":"Try adjusting your search or filters")))}),x(a,t)};R(Ye,a=>{e(Y),i(()=>e(Y).length===0)&&a(Ze)})}r(ue),m(()=>v(Ge,` ${e(S)?"Cancel":"Add Book"}`)),C("click",pe,()=>u(S,!e(S))),X(je,()=>e(I),a=>u(I,a)),se(_e,()=>e(N),a=>u(N,a)),se(he,()=>e(q),a=>u(q,a)),C("click",We,()=>{u(I,""),u(N,"all"),u(q,"all")}),x(qe,ue),nt()}export{Rt as L};
