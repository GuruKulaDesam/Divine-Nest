<script>
  import { createEventDispatcher } from "svelte";
  import Icon from "@iconify/svelte";
  import { goto } from "$app/navigation";
  import { page } from "$app/stores";
  import { homeSounds } from "$lib/utils/sounds";

  const dispatch = createEventDispatcher();

  // Main navigation tiles (same as LeftTileBar)
  const mainTiles = [
    {
      id: "home",
      label: "Home",
      icon: "heroicons:home",
      color: "from-blue-500 to-blue-600",
      borderColor: "border-blue-500/50",
      textColor: "text-blue-600 dark:text-blue-400",
      description: "Dashboard & Overview",
      path: "/home",
      subTiles: [
        { label: "Dashboard", path: "/", icon: "heroicons:home" },
        { label: "Household", path: "/home/household", icon: "heroicons:squares-2x2" },
        { label: "Family Members", path: "/home/members", icon: "heroicons:users" },
        { label: "Calendar", path: "/home/family-calendar-modern", icon: "heroicons:calendar-days" },
        { label: "Notes", path: "/home/family-notes-modern", icon: "heroicons:document-text" },
        { label: "Reminders", path: "/home/reminders", icon: "heroicons:bell-alert" },
      ],
    },
    {
      id: "divinity",
      label: "Divinity",
      icon: "heroicons:sparkles",
      color: "from-orange-500 to-orange-600",
      borderColor: "border-orange-500/50",
      textColor: "text-orange-600 dark:text-orange-400",
      description: "Spiritual & Religious",
      path: "/divinity",
      subTiles: [
        { label: "Tamil Panchangam", path: "/divinity/panchangam", icon: "heroicons:sun" },
        { label: "Rituals", path: "/divinity/rituals", icon: "heroicons:sparkles" },
        { label: "Temple Visits", path: "/divinity/temple", icon: "heroicons:building-storefront" },
        { label: "Festival Calendar", path: "/culture/festival-calendar", icon: "heroicons:calendar" },
        { label: "Mantras", path: "/divinity/mantras", icon: "heroicons:musical-note" },
      ],
    },
    {
      id: "contacts",
      label: "Contacts",
      icon: "heroicons:phone",
      color: "from-green-500 to-green-600",
      borderColor: "border-green-500/50",
      textColor: "text-green-600 dark:text-green-400",
      description: "People & Directory",
      path: "/contacts",
      subTiles: [
        { label: "Personal Contacts", path: "/home/contacts", icon: "heroicons:phone" },
        { label: "Emergency Contacts", path: "/home/contacts/emergency", icon: "heroicons:exclamation-triangle" },
        { label: "Vendors & Services", path: "/home/contacts/vendors", icon: "heroicons:wrench" },
        { label: "Service Directory", path: "/home/contacts/directory", icon: "heroicons:building-storefront" },
      ],
    },
    {
      id: "food",
      label: "Food",
      icon: "heroicons:cake",
      color: "from-orange-400 to-orange-500",
      borderColor: "border-orange-400/50",
      textColor: "text-orange-600 dark:text-orange-400",
      description: "Meals & Recipes",
      path: "/food",
      subTiles: [
        { label: "Meals & Planning", path: "/food/meals", icon: "heroicons:calendar-days" },
        { label: "Recipes", path: "/food/recipes", icon: "heroicons:book-open" },
        { label: "Grocery & Pantry", path: "/food/grocery", icon: "heroicons:shopping-cart" },
        { label: "Pantry Management", path: "/pantry", icon: "heroicons:archive-box" },
        { label: "Kitchen Dashboard", path: "/food/kitchen", icon: "heroicons:home" },
        { label: "Fresh Items", path: "/kitchen/fresh", icon: "heroicons:leaf" },
        { label: "Kids Meals", path: "/kitchen/kids", icon: "heroicons:user-group" },
        { label: "Cleaning Schedule", path: "/kitchen/cleaning", icon: "heroicons:sparkles" },
      ],
    },
    {
      id: "learn",
      label: "Learn",
      icon: "heroicons:academic-cap",
      color: "from-indigo-500 to-indigo-600",
      borderColor: "border-indigo-500/50",
      textColor: "text-indigo-600 dark:text-indigo-400",
      description: "Education & Study",
      path: "/learn",
      subTiles: [
        { label: "Education Dashboard", path: "/education", icon: "heroicons:academic-cap" },
        { label: "Students", path: "/education/students", icon: "heroicons:users" },
        { label: "Curriculum", path: "/education/curriculum", icon: "heroicons:book-open" },
        { label: "Planner", path: "/education/planner", icon: "heroicons:calendar-days" },
        { label: "Quiz", path: "/education/quiz", icon: "heroicons:question-mark-circle" },
        { label: "Assessment", path: "/education/assessment", icon: "heroicons:clipboard-document-check" },
        { label: "Courses", path: "/education/courses", icon: "heroicons:academic-cap" },
        { label: "Mentors", path: "/education/mentors", icon: "heroicons:user-group" },
        { label: "Achievements", path: "/education/achievements", icon: "heroicons:trophy" },
        { label: "Family Library", path: "/library", icon: "heroicons:book-open" },
        { label: "Studies & Exams", path: "/studies", icon: "heroicons:pencil" },
        { label: "Learning Goals", path: "/learning-goals", icon: "heroicons:light-bulb" },
      ],
    },
    {
      id: "assistant",
      label: "Assistant",
      icon: "heroicons:chat-bubble-left-right",
      color: "from-purple-500 to-purple-600",
      borderColor: "border-purple-500/50",
      textColor: "text-purple-600 dark:text-purple-400",
      description: "AI & Automation",
      path: "/assistant",
      subTiles: [
        { label: "Assistant Dashboard", path: "/assistant", icon: "heroicons:chat-bubble-left-right" },
        { label: "Voice Log", path: "/assistant/voice-log", icon: "heroicons:microphone" },
        { label: "Task Board", path: "/assistant/task-board", icon: "heroicons:clipboard-document-list" },
        { label: "Event Feed", path: "/assistant/event-feed", icon: "heroicons:rss" },
        { label: "Auto Checklist", path: "/assistant/auto-checklist", icon: "heroicons:check-circle" },
        { label: "Ambient Log", path: "/assistant/ambient-log", icon: "heroicons:eye" },
        { label: "AI Assistant", path: "/shivo-ai", icon: "heroicons:sparkles" },
        { label: "Music Companion", path: "/shivo-music", icon: "heroicons:musical-note" },
        { label: "Agentic AI", path: "/shivo-agentic", icon: "heroicons:robot" },
      ],
    },
    {
      id: "health",
      label: "Health",
      icon: "heroicons:heart",
      color: "from-pink-500 to-pink-600",
      borderColor: "border-pink-500/50",
      textColor: "text-pink-600 dark:text-pink-400",
      description: "Wellness & Fitness",
      path: "/health",
      subTiles: [
        { label: "Wellness Dashboard", path: "/wellness", icon: "heroicons:heart" },
        { label: "Health Tracking", path: "/health", icon: "heroicons:shield-check" },
        { label: "Yoga & Exercise", path: "/yoga", icon: "heroicons:user" },
        { label: "Health Journal", path: "/journal", icon: "heroicons:pencil-square" },
        { label: "Hobbies & Activities", path: "/hobbies-activities", icon: "heroicons:puzzle-piece" },
      ],
    },
    {
      id: "finances",
      label: "Finances",
      icon: "heroicons:currency-rupee",
      color: "from-emerald-500 to-emerald-600",
      borderColor: "border-emerald-500/50",
      textColor: "text-emerald-600 dark:text-emerald-400",
      description: "Money & Budget",
      path: "/finances",
      subTiles: [
        { label: "Finance Dashboard", path: "/finances", icon: "heroicons:currency-rupee" },
        { label: "Recharges", path: "/recharges", icon: "heroicons:device-phone-mobile" },
        { label: "Expenses", path: "/expenses", icon: "heroicons:credit-card" },
        { label: "Budget", path: "/budget", icon: "heroicons:calculator" },
        { label: "Insurance", path: "/insurance", icon: "heroicons:shield-check" },
        { label: "Investments", path: "/investments", icon: "heroicons:chart-line" },
      ],
    },
    {
      id: "assets",
      label: "Assets",
      icon: "heroicons:building-storefront",
      color: "from-emerald-500 to-emerald-600",
      borderColor: "border-emerald-500/50",
      textColor: "text-emerald-600 dark:text-emerald-400",
      description: "Property & Vehicles",
      path: "/assets",
      subTiles: [
        { label: "Asset Overview", path: "/assets", icon: "heroicons:building-storefront" },
        { label: "Asset Items", path: "/assets/items", icon: "heroicons:archive-box" },
        { label: "Asset Value", path: "/assets/value", icon: "heroicons:currency-rupee" },
        { label: "Maintenance", path: "/assets/maintenance", icon: "heroicons:wrench-screwdriver" },
        { label: "Documents", path: "/assets/documents", icon: "heroicons:document-text" },
        { label: "Home Inventory", path: "/inventory", icon: "heroicons:archive-box" },
        { label: "Vehicle Management", path: "/vehicles", icon: "heroicons:truck" },
      ],
    },
    {
      id: "projects",
      label: "Projects",
      icon: "heroicons:clipboard-document-list",
      color: "from-cyan-500 to-cyan-600",
      borderColor: "border-cyan-500/50",
      textColor: "text-cyan-600 dark:text-cyan-400",
      description: "Management & Tasks",
      path: "/projects",
      subTiles: [
        { label: "Project Management", path: "/projects", icon: "heroicons:clipboard-document-list" },
        { label: "Gantt Chart", path: "/gantt", icon: "heroicons:chart-bar" },
        { label: "Daily Schedule", path: "/schedule", icon: "heroicons:calendar-days" },
        { label: "Analytics Dashboard", path: "/analytics", icon: "heroicons:chart-bar" },
        { label: "Data Charts", path: "/charts", icon: "heroicons:chart-pie" },
        { label: "Interactive Maps", path: "/maps", icon: "heroicons:map" },
      ],
    },
  ];

  // Get current active section based on URL
  $: currentSection = getCurrentSection($page.url.pathname);
  $: currentSectionData = mainTiles.find((tile) => tile.id === currentSection);

  function getCurrentSection(pathname) {
    // Check if we're on a main section page
    const mainSection = mainTiles.find((tile) => tile.path === pathname);
    if (mainSection) return mainSection.id;

    // Check if we're on a sub-page and find its parent
    for (const tile of mainTiles) {
      if (tile.subTiles.some((sub) => sub.path === pathname)) {
        return tile.id;
      }
    }

    // Default to home if nothing matches
    return "home";
  }

  // Navigate to a tile path
  function navigateTo(path) {
    homeSounds.playClick();
    goto(path);
  }

  // Handle hover sound
  function handleHover() {
    homeSounds.playPop();
  }

  // Check if a tile path is currently active
  function isTileActive(tilePath) {
    return $page.url.pathname === tilePath;
  }
</script>

<div class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3">
        <Icon icon="heroicons:home" class="text-indigo-600" />
        üè† Home Management Dashboard
      </h1>
      <p class="text-gray-600 text-lg">Manage your household, family, and daily activities</p>
    </div>

    <div class="flex gap-6">
      <!-- Vertical Sidebar -->
      <div class="w-60 flex-shrink-0">
        <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
            <Icon icon="heroicons:squares-2x2" class="text-indigo-500" />
            {currentSectionData?.label || "Home"} Menu
          </h3>
          <div class="space-y-2">
            {#if currentSectionData}
              <!-- Main Category Button -->
              <button class="w-full flex items-center gap-3 p-3 rounded-lg bg-gradient-to-r {currentSectionData.color} text-white cursor-pointer hover:shadow-md transition-all duration-200 hover:scale-105 mb-4" on:click={() => navigateTo(currentSectionData.path)} on:mouseenter={handleHover}>
                <Icon icon={currentSectionData.icon} class="text-lg" />
                <div>
                  <div class="font-medium">{currentSectionData.label}</div>
                  <div class="text-xs opacity-90">{currentSectionData.description}</div>
                </div>
              </button>

              <!-- Sub-items for current section -->
              <div class="space-y-1">
                {#each currentSectionData.subTiles as subTile (subTile.path)}
                  <button class="w-full flex items-center gap-2 p-2 rounded-lg text-left text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 {isTileActive(subTile.path) ? 'bg-indigo-50 text-indigo-700 font-medium' : ''}" on:click={() => navigateTo(subTile.path)} on:mouseenter={handleHover}>
                    <Icon icon={subTile.icon} class="text-base flex-shrink-0" />
                    <span class="truncate">{subTile.label}</span>
                  </button>
                {/each}
              </div>
            {/if}

            <!-- Other main categories (for navigation) -->
            <div class="mt-6 pt-4 border-t border-gray-200">
              <h4 class="text-sm font-medium text-gray-500 mb-3">Other Sections</h4>
              <div class="space-y-1">
                {#each mainTiles.filter((tile) => tile.id !== currentSection) as tile (tile.id)}
                  <button class="w-full flex items-center gap-2 p-2 rounded-lg text-left text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200" on:click={() => navigateTo(tile.path)} on:mouseenter={handleHover}>
                    <Icon icon={tile.icon} class="text-base flex-shrink-0" />
                    <span class="truncate">{tile.label}</span>
                  </button>
                {/each}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="flex-1">
        <!-- Overview Stats -->
        <div class="flex flex-wrap justify-center gap-6 mb-8">
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200 flex-1 min-w-[250px] max-w-[300px]">
            <div class="flex items-center justify-between mb-4">
              <Icon icon="heroicons:users" class="text-blue-500 text-2xl" />
              <span class="text-2xl font-bold text-blue-600">6</span>
            </div>
            <h3 class="text-sm font-medium text-gray-600">Family Members</h3>
            <p class="text-xs text-gray-500 mt-1">Active in household</p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200 flex-1 min-w-[250px] max-w-[300px]">
            <div class="flex items-center justify-between mb-4">
              <Icon icon="heroicons:clipboard-document-list" class="text-green-500 text-2xl" />
              <span class="text-2xl font-bold text-green-600">12</span>
            </div>
            <h3 class="text-sm font-medium text-gray-600">Active Tasks</h3>
            <p class="text-xs text-gray-500 mt-1">Pending completion</p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200 flex-1 min-w-[250px] max-w-[300px]">
            <div class="flex items-center justify-between mb-4">
              <Icon icon="heroicons:bell-alert" class="text-orange-500 text-2xl" />
              <span class="text-2xl font-bold text-orange-600">3</span>
            </div>
            <h3 class="text-sm font-medium text-gray-600">Reminders</h3>
            <p class="text-xs text-gray-500 mt-1">Due today</p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200 flex-1 min-w-[250px] max-w-[300px]">
            <div class="flex items-center justify-between mb-4">
              <Icon icon="heroicons:calendar-days" class="text-purple-500 text-2xl" />
              <span class="text-2xl font-bold text-purple-600">2</span>
            </div>
            <h3 class="text-sm font-medium text-gray-600">Events</h3>
            <p class="text-xs text-gray-500 mt-1">This week</p>
          </div>
        </div>

        <!-- Financial Overview -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:currency-rupee" class="text-emerald-500" />
              Monthly Budget
            </h3>
            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">Spent</span>
                <span class="font-semibold text-gray-800">‚Çπ45,230</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-emerald-500 h-2 rounded-full" style="width: 75%"></div>
              </div>
              <div class="flex justify-between items-center text-xs text-gray-500">
                <span>75% of ‚Çπ60,000</span>
                <span>‚Çπ14,770 remaining</span>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:credit-card" class="text-blue-500" />
              Recent Expenses
            </h3>
            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">Grocery</span>
                <span class="font-semibold text-gray-800">‚Çπ2,450</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">Utilities</span>
                <span class="font-semibold text-gray-800">‚Çπ1,200</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">Transportation</span>
                <span class="font-semibold text-gray-800">‚Çπ800</span>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:chart-line" class="text-purple-500" />
              Savings Goal
            </h3>
            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">Emergency Fund</span>
                <span class="font-semibold text-gray-800">‚Çπ2.5L / ‚Çπ5L</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-purple-500 h-2 rounded-full" style="width: 50%"></div>
              </div>
              <div class="text-xs text-gray-500">50% complete ‚Ä¢ ‚Çπ2.5L saved</div>
            </div>
          </div>
        </div>

        <!-- Household & Family Overview -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Recent Activity -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:clock" class="text-blue-500" />
              Recent Activity
            </h3>
            <div class="space-y-3">
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-blue-100 rounded-lg">
                  <Icon icon="heroicons:document-text" class="text-blue-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Family notes updated</p>
                  <p class="text-xs text-gray-600">2 hours ago</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-green-100 rounded-lg">
                  <Icon icon="heroicons:clipboard-document-list" class="text-green-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">New task added</p>
                  <p class="text-xs text-gray-600">4 hours ago</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-orange-100 rounded-lg">
                  <Icon icon="heroicons:bell-alert" class="text-orange-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Reminder set</p>
                  <p class="text-xs text-gray-600">6 hours ago</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-pink-100 rounded-lg">
                  <Icon icon="heroicons:heart" class="text-pink-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Health check completed</p>
                  <p class="text-xs text-gray-600">1 day ago</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Family Health Overview -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:heart" class="text-pink-500" />
              Family Health
            </h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                <div class="flex items-center gap-3">
                  <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                  <span class="text-sm font-medium text-gray-800">All family members healthy</span>
                </div>
                <Icon icon="heroicons:check-circle" class="text-green-500" />
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div class="text-center">
                  <div class="text-2xl font-bold text-blue-600">4</div>
                  <div class="text-xs text-gray-600">Exercise sessions</div>
                  <div class="text-xs text-gray-500">This week</div>
                </div>
                <div class="text-center">
                  <div class="text-2xl font-bold text-orange-600">2</div>
                  <div class="text-xs text-gray-600">Doctor visits</div>
                  <div class="text-xs text-gray-500">Scheduled</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Upcoming Events & Maintenance -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Upcoming Events -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:calendar-days" class="text-indigo-500" />
              Upcoming Events
            </h3>
            <div class="space-y-3">
              <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
                <div class="p-2 bg-blue-100 rounded-lg">
                  <Icon icon="heroicons:calendar" class="text-blue-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Family Dinner</p>
                  <p class="text-xs text-gray-600">Tomorrow, 7:00 PM</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg">
                <div class="p-2 bg-purple-100 rounded-lg">
                  <Icon icon="heroicons:sparkles" class="text-purple-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Pongal Festival</p>
                  <p class="text-xs text-gray-600">Jan 15, All day</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-orange-50 rounded-lg">
                <div class="p-2 bg-orange-100 rounded-lg">
                  <Icon icon="heroicons:academic-cap" class="text-orange-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">School Parent Meeting</p>
                  <p class="text-xs text-gray-600">Jan 18, 10:00 AM</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Household Maintenance -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:wrench-screwdriver" class="text-amber-500" />
              Maintenance Due
            </h3>
            <div class="space-y-3">
              <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg">
                <div class="flex items-center gap-3">
                  <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                  <span class="text-sm font-medium text-gray-800">Car Service</span>
                </div>
                <span class="text-xs text-red-600 font-medium">Overdue</span>
              </div>
              <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                <div class="flex items-center gap-3">
                  <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                  <span class="text-sm font-medium text-gray-800">Water Filter Change</span>
                </div>
                <span class="text-xs text-yellow-600 font-medium">Due soon</span>
              </div>
              <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                <div class="flex items-center gap-3">
                  <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                  <span class="text-sm font-medium text-gray-800">Garden Maintenance</span>
                </div>
                <span class="text-xs text-green-600 font-medium">Next week</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Activity and Quick Actions -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Recent Activity -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:clock" class="text-blue-500" />
              Recent Activity
            </h3>
            <div class="space-y-3">
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-blue-100 rounded-lg">
                  <Icon icon="heroicons:document-text" class="text-blue-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Family notes updated</p>
                  <p class="text-xs text-gray-600">2 hours ago</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-green-100 rounded-lg">
                  <Icon icon="heroicons:clipboard-document-list" class="text-green-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">New task added</p>
                  <p class="text-xs text-gray-600">4 hours ago</p>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <div class="p-2 bg-orange-100 rounded-lg">
                  <Icon icon="heroicons:bell-alert" class="text-orange-600 text-sm" />
                </div>
                <div class="flex-1">
                  <p class="text-sm font-medium text-gray-800">Reminder set</p>
                  <p class="text-xs text-gray-600">6 hours ago</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-gray-100">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
              <Icon icon="heroicons:bolt" class="text-purple-500" />
              Quick Actions
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/todo")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:clipboard-document-list" class="text-xl" />
                <span class="text-sm font-medium">Add Task</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/home/family-notes-modern")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:document-text" class="text-xl" />
                <span class="text-sm font-medium">New Note</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/home/family-calendar-modern")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:calendar-days" class="text-xl" />
                <span class="text-sm font-medium">Schedule</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/home/reminders")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:bell-alert" class="text-xl" />
                <span class="text-sm font-medium">Set Reminder</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-pink-500 to-pink-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/wellness")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:heart" class="text-xl" />
                <span class="text-sm font-medium">Health Check</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-indigo-500 to-indigo-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/expenses")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:credit-card" class="text-xl" />
                <span class="text-sm font-medium">Add Expense</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/grocery")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:shopping-cart" class="text-xl" />
                <span class="text-sm font-medium">Grocery List</span>
              </button>
              <button class="flex flex-col items-center gap-2 p-4 rounded-lg bg-gradient-to-r from-cyan-500 to-cyan-600 text-white hover:shadow-lg transition-all duration-200 hover:scale-105" on:click={() => navigateTo("/assistant")} on:mouseenter={handleHover}>
                <Icon icon="heroicons:chat-bubble-left-right" class="text-xl" />
                <span class="text-sm font-medium">AI Assistant</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
